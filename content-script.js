(()=>{var RS=Object.create;var xs=Object.defineProperty;var kS=Object.getOwnPropertyDescriptor;var LS=Object.getOwnPropertyNames;var MS=Object.getPrototypeOf,HS=Object.prototype.hasOwnProperty;var Os=(e,n)=>()=>(e&&(n=e(e=0)),n);var G=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),FS=(e,n)=>{for(var s in n)xs(e,s,{get:n[s],enumerable:!0})},ep=(e,n,s,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let h of LS(n))!HS.call(e,h)&&h!==s&&xs(e,h,{get:()=>n[h],enumerable:!(c=kS(n,h))||c.enumerable});return e};var ho=(e,n,s)=>(s=e!=null?RS(MS(e)):{},ep(n||!e||!e.__esModule?xs(s,"default",{value:e,enumerable:!0}):s,e)),DS=e=>ep(xs({},"__esModule",{value:!0}),e);function WS(){if(tp)return lo;tp=!0,lo.byteLength=w,lo.toByteArray=U,lo.fromByteArray=H;for(var e=[],n=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,d=c.length;h<d;++h)e[h]=c[h],n[c.charCodeAt(h)]=h;n[45]=62,n[95]=63;function f(C){var k=C.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var D=C.indexOf("=");D===-1&&(D=k);var W=D===k?0:4-D%4;return[D,W]}function w(C){var k=f(C),D=k[0],W=k[1];return(D+W)*3/4-W}function S(C,k,D){return(k+D)*3/4-D}function U(C){var k,D=f(C),W=D[0],V=D[1],X=new s(S(C,W,V)),z=0,Q=V>0?W-4:W,Y;for(Y=0;Y<Q;Y+=4)k=n[C.charCodeAt(Y)]<<18|n[C.charCodeAt(Y+1)]<<12|n[C.charCodeAt(Y+2)]<<6|n[C.charCodeAt(Y+3)],X[z++]=k>>16&255,X[z++]=k>>8&255,X[z++]=k&255;return V===2&&(k=n[C.charCodeAt(Y)]<<2|n[C.charCodeAt(Y+1)]>>4,X[z++]=k&255),V===1&&(k=n[C.charCodeAt(Y)]<<10|n[C.charCodeAt(Y+1)]<<4|n[C.charCodeAt(Y+2)]>>2,X[z++]=k>>8&255,X[z++]=k&255),X}function P(C){return e[C>>18&63]+e[C>>12&63]+e[C>>6&63]+e[C&63]}function v(C,k,D){for(var W,V=[],X=k;X<D;X+=3)W=(C[X]<<16&16711680)+(C[X+1]<<8&65280)+(C[X+2]&255),V.push(P(W));return V.join("")}function H(C){for(var k,D=C.length,W=D%3,V=[],X=16383,z=0,Q=D-W;z<Q;z+=X)V.push(v(C,z,z+X>Q?Q:z+X));return W===1?(k=C[D-1],V.push(e[k>>2]+e[k<<4&63]+"==")):W===2&&(k=(C[D-2]<<8)+C[D-1],V.push(e[k>>10]+e[k>>4&63]+e[k<<2&63]+"=")),V.join("")}return lo}function qS(){if(rp)return Ps;rp=!0;return Ps.read=function(e,n,s,c,h){var d,f,w=h*8-c-1,S=(1<<w)-1,U=S>>1,P=-7,v=s?h-1:0,H=s?-1:1,C=e[n+v];for(v+=H,d=C&(1<<-P)-1,C>>=-P,P+=w;P>0;d=d*256+e[n+v],v+=H,P-=8);for(f=d&(1<<-P)-1,d>>=-P,P+=c;P>0;f=f*256+e[n+v],v+=H,P-=8);if(d===0)d=1-U;else{if(d===S)return f?NaN:(C?-1:1)*(1/0);f=f+Math.pow(2,c),d=d-U}return(C?-1:1)*f*Math.pow(2,d-c)},Ps.write=function(e,n,s,c,h,d){var f,w,S,U=d*8-h-1,P=(1<<U)-1,v=P>>1,H=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=c?0:d-1,k=c?1:-1,D=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(w=isNaN(n)?1:0,f=P):(f=Math.floor(Math.log(n)/Math.LN2),n*(S=Math.pow(2,-f))<1&&(f--,S*=2),f+v>=1?n+=H/S:n+=H*Math.pow(2,1-v),n*S>=2&&(f++,S/=2),f+v>=P?(w=0,f=P):f+v>=1?(w=(n*S-1)*Math.pow(2,h),f=f+v):(w=n*Math.pow(2,v-1)*Math.pow(2,h),f=0));h>=8;e[s+C]=w&255,C+=k,w/=256,h-=8);for(f=f<<h|w,U+=h;U>0;e[s+C]=f&255,C+=k,f/=256,U-=8);e[s+C-k]|=D*128},Ps}function KS(){if(np)return Nn;np=!0;let e=WS(),n=qS(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Nn.Buffer=f,Nn.SlowBuffer=V,Nn.INSPECT_MAX_BYTES=50;let c=2147483647;Nn.kMaxLength=c,f.TYPED_ARRAY_SUPPORT=h(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{let a=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(a,i),a.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function d(a){if(a>c)throw new RangeError('The value "'+a+'" is invalid for option "size"');let i=new Uint8Array(a);return Object.setPrototypeOf(i,f.prototype),i}function f(a,i,o){if(typeof a=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(a)}return w(a,i,o)}f.poolSize=8192;function w(a,i,o){if(typeof a=="string")return v(a,i);if(ArrayBuffer.isView(a))return C(a);if(a==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(ve(a,ArrayBuffer)||a&&ve(a.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(a,SharedArrayBuffer)||a&&ve(a.buffer,SharedArrayBuffer)))return k(a,i,o);if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let p=a.valueOf&&a.valueOf();if(p!=null&&p!==a)return f.from(p,i,o);let y=D(a);if(y)return y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]=="function")return f.from(a[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}f.from=function(a,i,o){return w(a,i,o)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function S(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function U(a,i,o){return S(a),a<=0?d(a):i!==void 0?typeof o=="string"?d(a).fill(i,o):d(a).fill(i):d(a)}f.alloc=function(a,i,o){return U(a,i,o)};function P(a){return S(a),d(a<0?0:W(a)|0)}f.allocUnsafe=function(a){return P(a)},f.allocUnsafeSlow=function(a){return P(a)};function v(a,i){if((typeof i!="string"||i==="")&&(i="utf8"),!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);let o=X(a,i)|0,p=d(o),y=p.write(a,i);return y!==o&&(p=p.slice(0,y)),p}function H(a){let i=a.length<0?0:W(a.length)|0,o=d(i);for(let p=0;p<i;p+=1)o[p]=a[p]&255;return o}function C(a){if(ve(a,Uint8Array)){let i=new Uint8Array(a);return k(i.buffer,i.byteOffset,i.byteLength)}return H(a)}function k(a,i,o){if(i<0||a.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');let p;return i===void 0&&o===void 0?p=new Uint8Array(a):o===void 0?p=new Uint8Array(a,i):p=new Uint8Array(a,i,o),Object.setPrototypeOf(p,f.prototype),p}function D(a){if(f.isBuffer(a)){let i=W(a.length)|0,o=d(i);return o.length===0||a.copy(o,0,0,i),o}if(a.length!==void 0)return typeof a.length!="number"||Ir(a.length)?d(0):H(a);if(a.type==="Buffer"&&Array.isArray(a.data))return H(a.data)}function W(a){if(a>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return a|0}function V(a){return+a!=a&&(a=0),f.alloc(+a)}f.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==f.prototype},f.compare=function(i,o){if(ve(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),ve(o,Uint8Array)&&(o=f.from(o,o.offset,o.byteLength)),!f.isBuffer(i)||!f.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;let p=i.length,y=o.length;for(let E=0,b=Math.min(p,y);E<b;++E)if(i[E]!==o[E]){p=i[E],y=o[E];break}return p<y?-1:y<p?1:0},f.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return f.alloc(0);let p;if(o===void 0)for(o=0,p=0;p<i.length;++p)o+=i[p].length;let y=f.allocUnsafe(o),E=0;for(p=0;p<i.length;++p){let b=i[p];if(ve(b,Uint8Array))E+b.length>y.length?(f.isBuffer(b)||(b=f.from(b)),b.copy(y,E)):Uint8Array.prototype.set.call(y,b,E);else if(f.isBuffer(b))b.copy(y,E);else throw new TypeError('"list" argument must be an Array of Buffers');E+=b.length}return y};function X(a,i){if(f.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||ve(a,ArrayBuffer))return a.byteLength;if(typeof a!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);let o=a.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&o===0)return 0;let y=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return fr(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return ze(a).length;default:if(y)return p?-1:fr(a).length;i=(""+i).toLowerCase(),y=!0}}f.byteLength=X;function z(a,i,o){let p=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(a||(a="utf8");;)switch(a){case"hex":return Vr(this,i,o);case"utf8":case"utf-8":return En(this,i,o);case"ascii":return kt(this,i,o);case"latin1":case"binary":return Xi(this,i,o);case"base64":return ri(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dt(this,i,o);default:if(p)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),p=!0}}f.prototype._isBuffer=!0;function Q(a,i,o){let p=a[i];a[i]=a[o],a[o]=p}f.prototype.swap16=function(){let i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<i;o+=2)Q(this,o,o+1);return this},f.prototype.swap32=function(){let i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<i;o+=4)Q(this,o,o+3),Q(this,o+1,o+2);return this},f.prototype.swap64=function(){let i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<i;o+=8)Q(this,o,o+7),Q(this,o+1,o+6),Q(this,o+2,o+5),Q(this,o+3,o+4);return this},f.prototype.toString=function(){let i=this.length;return i===0?"":arguments.length===0?En(this,0,i):z.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(i){if(!f.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:f.compare(this,i)===0},f.prototype.inspect=function(){let i="",o=Nn.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},s&&(f.prototype[s]=f.prototype.inspect),f.prototype.compare=function(i,o,p,y,E){if(ve(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),!f.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(o===void 0&&(o=0),p===void 0&&(p=i?i.length:0),y===void 0&&(y=0),E===void 0&&(E=this.length),o<0||p>i.length||y<0||E>this.length)throw new RangeError("out of range index");if(y>=E&&o>=p)return 0;if(y>=E)return-1;if(o>=p)return 1;if(o>>>=0,p>>>=0,y>>>=0,E>>>=0,this===i)return 0;let b=E-y,q=p-o,ie=Math.min(b,q),ee=this.slice(y,E),oe=i.slice(o,p);for(let Z=0;Z<ie;++Z)if(ee[Z]!==oe[Z]){b=ee[Z],q=oe[Z];break}return b<q?-1:q<b?1:0};function Y(a,i,o,p,y){if(a.length===0)return-1;if(typeof o=="string"?(p=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,Ir(o)&&(o=y?0:a.length-1),o<0&&(o=a.length+o),o>=a.length){if(y)return-1;o=a.length-1}else if(o<0)if(y)o=0;else return-1;if(typeof i=="string"&&(i=f.from(i,p)),f.isBuffer(i))return i.length===0?-1:be(a,i,o,p,y);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?y?Uint8Array.prototype.indexOf.call(a,i,o):Uint8Array.prototype.lastIndexOf.call(a,i,o):be(a,[i],o,p,y);throw new TypeError("val must be string, number or Buffer")}function be(a,i,o,p,y){let E=1,b=a.length,q=i.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(a.length<2||i.length<2)return-1;E=2,b/=2,q/=2,o/=2}function ie(oe,Z){return E===1?oe[Z]:oe.readUInt16BE(Z*E)}let ee;if(y){let oe=-1;for(ee=o;ee<b;ee++)if(ie(a,ee)===ie(i,oe===-1?0:ee-oe)){if(oe===-1&&(oe=ee),ee-oe+1===q)return oe*E}else oe!==-1&&(ee-=ee-oe),oe=-1}else for(o+q>b&&(o=b-q),ee=o;ee>=0;ee--){let oe=!0;for(let Z=0;Z<q;Z++)if(ie(a,ee+Z)!==ie(i,Z)){oe=!1;break}if(oe)return ee}return-1}f.prototype.includes=function(i,o,p){return this.indexOf(i,o,p)!==-1},f.prototype.indexOf=function(i,o,p){return Y(this,i,o,p,!0)},f.prototype.lastIndexOf=function(i,o,p){return Y(this,i,o,p,!1)};function Xe(a,i,o,p){o=Number(o)||0;let y=a.length-o;p?(p=Number(p),p>y&&(p=y)):p=y;let E=i.length;p>E/2&&(p=E/2);let b;for(b=0;b<p;++b){let q=parseInt(i.substr(b*2,2),16);if(Ir(q))return b;a[o+b]=q}return b}function sr(a,i,o,p){return ct(fr(i,a.length-o),a,o,p)}function Gi(a,i,o,p){return ct(zi(i),a,o,p)}function $i(a,i,o,p){return ct(ze(i),a,o,p)}function Vi(a,i,o,p){return ct(Sr(i,a.length-o),a,o,p)}f.prototype.write=function(i,o,p,y){if(o===void 0)y="utf8",p=this.length,o=0;else if(p===void 0&&typeof o=="string")y=o,p=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(p)?(p=p>>>0,y===void 0&&(y="utf8")):(y=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let E=this.length-o;if((p===void 0||p>E)&&(p=E),i.length>0&&(p<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");let b=!1;for(;;)switch(y){case"hex":return Xe(this,i,o,p);case"utf8":case"utf-8":return sr(this,i,o,p);case"ascii":case"latin1":case"binary":return Gi(this,i,o,p);case"base64":return $i(this,i,o,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Vi(this,i,o,p);default:if(b)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),b=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ri(a,i,o){return i===0&&o===a.length?e.fromByteArray(a):e.fromByteArray(a.slice(i,o))}function En(a,i,o){o=Math.min(a.length,o);let p=[],y=i;for(;y<o;){let E=a[y],b=null,q=E>239?4:E>223?3:E>191?2:1;if(y+q<=o){let ie,ee,oe,Z;switch(q){case 1:E<128&&(b=E);break;case 2:ie=a[y+1],(ie&192)===128&&(Z=(E&31)<<6|ie&63,Z>127&&(b=Z));break;case 3:ie=a[y+1],ee=a[y+2],(ie&192)===128&&(ee&192)===128&&(Z=(E&15)<<12|(ie&63)<<6|ee&63,Z>2047&&(Z<55296||Z>57343)&&(b=Z));break;case 4:ie=a[y+1],ee=a[y+2],oe=a[y+3],(ie&192)===128&&(ee&192)===128&&(oe&192)===128&&(Z=(E&15)<<18|(ie&63)<<12|(ee&63)<<6|oe&63,Z>65535&&Z<1114112&&(b=Z))}}b===null?(b=65533,q=1):b>65535&&(b-=65536,p.push(b>>>10&1023|55296),b=56320|b&1023),p.push(b),y+=q}return zt(p)}let Sn=4096;function zt(a){let i=a.length;if(i<=Sn)return String.fromCharCode.apply(String,a);let o="",p=0;for(;p<i;)o+=String.fromCharCode.apply(String,a.slice(p,p+=Sn));return o}function kt(a,i,o){let p="";o=Math.min(a.length,o);for(let y=i;y<o;++y)p+=String.fromCharCode(a[y]&127);return p}function Xi(a,i,o){let p="";o=Math.min(a.length,o);for(let y=i;y<o;++y)p+=String.fromCharCode(a[y]);return p}function Vr(a,i,o){let p=a.length;(!i||i<0)&&(i=0),(!o||o<0||o>p)&&(o=p);let y="";for(let E=i;E<o;++E)y+=br[a[E]];return y}function dt(a,i,o){let p=a.slice(i,o),y="";for(let E=0;E<p.length-1;E+=2)y+=String.fromCharCode(p[E]+p[E+1]*256);return y}f.prototype.slice=function(i,o){let p=this.length;i=~~i,o=o===void 0?p:~~o,i<0?(i+=p,i<0&&(i=0)):i>p&&(i=p),o<0?(o+=p,o<0&&(o=0)):o>p&&(o=p),o<i&&(o=i);let y=this.subarray(i,o);return Object.setPrototypeOf(y,f.prototype),y};function he(a,i,o){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+i>o)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(i,o,p){i=i>>>0,o=o>>>0,p||he(i,o,this.length);let y=this[i],E=1,b=0;for(;++b<o&&(E*=256);)y+=this[i+b]*E;return y},f.prototype.readUintBE=f.prototype.readUIntBE=function(i,o,p){i=i>>>0,o=o>>>0,p||he(i,o,this.length);let y=this[i+--o],E=1;for(;o>0&&(E*=256);)y+=this[i+--o]*E;return y},f.prototype.readUint8=f.prototype.readUInt8=function(i,o){return i=i>>>0,o||he(i,1,this.length),this[i]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(i,o){return i=i>>>0,o||he(i,2,this.length),this[i]|this[i+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(i,o){return i=i>>>0,o||he(i,2,this.length),this[i]<<8|this[i+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(i,o){return i=i>>>0,o||he(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(i,o){return i=i>>>0,o||he(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},f.prototype.readBigUInt64LE=De(function(i){i=i>>>0,Oe(i,"offset");let o=this[i],p=this[i+7];(o===void 0||p===void 0)&&je(i,this.length-8);let y=o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,E=this[++i]+this[++i]*2**8+this[++i]*2**16+p*2**24;return BigInt(y)+(BigInt(E)<<BigInt(32))}),f.prototype.readBigUInt64BE=De(function(i){i=i>>>0,Oe(i,"offset");let o=this[i],p=this[i+7];(o===void 0||p===void 0)&&je(i,this.length-8);let y=o*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],E=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+p;return(BigInt(y)<<BigInt(32))+BigInt(E)}),f.prototype.readIntLE=function(i,o,p){i=i>>>0,o=o>>>0,p||he(i,o,this.length);let y=this[i],E=1,b=0;for(;++b<o&&(E*=256);)y+=this[i+b]*E;return E*=128,y>=E&&(y-=Math.pow(2,8*o)),y},f.prototype.readIntBE=function(i,o,p){i=i>>>0,o=o>>>0,p||he(i,o,this.length);let y=o,E=1,b=this[i+--y];for(;y>0&&(E*=256);)b+=this[i+--y]*E;return E*=128,b>=E&&(b-=Math.pow(2,8*o)),b},f.prototype.readInt8=function(i,o){return i=i>>>0,o||he(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},f.prototype.readInt16LE=function(i,o){i=i>>>0,o||he(i,2,this.length);let p=this[i]|this[i+1]<<8;return p&32768?p|4294901760:p},f.prototype.readInt16BE=function(i,o){i=i>>>0,o||he(i,2,this.length);let p=this[i+1]|this[i]<<8;return p&32768?p|4294901760:p},f.prototype.readInt32LE=function(i,o){return i=i>>>0,o||he(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},f.prototype.readInt32BE=function(i,o){return i=i>>>0,o||he(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},f.prototype.readBigInt64LE=De(function(i){i=i>>>0,Oe(i,"offset");let o=this[i],p=this[i+7];(o===void 0||p===void 0)&&je(i,this.length-8);let y=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(p<<24);return(BigInt(y)<<BigInt(32))+BigInt(o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),f.prototype.readBigInt64BE=De(function(i){i=i>>>0,Oe(i,"offset");let o=this[i],p=this[i+7];(o===void 0||p===void 0)&&je(i,this.length-8);let y=(o<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(y)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+p)}),f.prototype.readFloatLE=function(i,o){return i=i>>>0,o||he(i,4,this.length),n.read(this,i,!0,23,4)},f.prototype.readFloatBE=function(i,o){return i=i>>>0,o||he(i,4,this.length),n.read(this,i,!1,23,4)},f.prototype.readDoubleLE=function(i,o){return i=i>>>0,o||he(i,8,this.length),n.read(this,i,!0,52,8)},f.prototype.readDoubleBE=function(i,o){return i=i>>>0,o||he(i,8,this.length),n.read(this,i,!1,52,8)};function ye(a,i,o,p,y,E){if(!f.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>y||i<E)throw new RangeError('"value" argument is out of bounds');if(o+p>a.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(i,o,p,y){if(i=+i,o=o>>>0,p=p>>>0,!y){let q=Math.pow(2,8*p)-1;ye(this,i,o,p,q,0)}let E=1,b=0;for(this[o]=i&255;++b<p&&(E*=256);)this[o+b]=i/E&255;return o+p},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(i,o,p,y){if(i=+i,o=o>>>0,p=p>>>0,!y){let q=Math.pow(2,8*p)-1;ye(this,i,o,p,q,0)}let E=p-1,b=1;for(this[o+E]=i&255;--E>=0&&(b*=256);)this[o+E]=i/b&255;return o+p},f.prototype.writeUint8=f.prototype.writeUInt8=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,1,255,0),this[o]=i&255,o+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,2,65535,0),this[o]=i&255,this[o+1]=i>>>8,o+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=i&255,o+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255,o+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4};function In(a,i,o,p,y){jr(i,p,y,a,o,7);let E=Number(i&BigInt(4294967295));a[o++]=E,E=E>>8,a[o++]=E,E=E>>8,a[o++]=E,E=E>>8,a[o++]=E;let b=Number(i>>BigInt(32)&BigInt(4294967295));return a[o++]=b,b=b>>8,a[o++]=b,b=b>>8,a[o++]=b,b=b>>8,a[o++]=b,o}function Lt(a,i,o,p,y){jr(i,p,y,a,o,7);let E=Number(i&BigInt(4294967295));a[o+7]=E,E=E>>8,a[o+6]=E,E=E>>8,a[o+5]=E,E=E>>8,a[o+4]=E;let b=Number(i>>BigInt(32)&BigInt(4294967295));return a[o+3]=b,b=b>>8,a[o+2]=b,b=b>>8,a[o+1]=b,b=b>>8,a[o]=b,o+8}f.prototype.writeBigUInt64LE=De(function(i,o=0){return In(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=De(function(i,o=0){return Lt(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(i,o,p,y){if(i=+i,o=o>>>0,!y){let ie=Math.pow(2,8*p-1);ye(this,i,o,p,ie-1,-ie)}let E=0,b=1,q=0;for(this[o]=i&255;++E<p&&(b*=256);)i<0&&q===0&&this[o+E-1]!==0&&(q=1),this[o+E]=(i/b>>0)-q&255;return o+p},f.prototype.writeIntBE=function(i,o,p,y){if(i=+i,o=o>>>0,!y){let ie=Math.pow(2,8*p-1);ye(this,i,o,p,ie-1,-ie)}let E=p-1,b=1,q=0;for(this[o+E]=i&255;--E>=0&&(b*=256);)i<0&&q===0&&this[o+E+1]!==0&&(q=1),this[o+E]=(i/b>>0)-q&255;return o+p},f.prototype.writeInt8=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=i&255,o+1},f.prototype.writeInt16LE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,2,32767,-32768),this[o]=i&255,this[o+1]=i>>>8,o+2},f.prototype.writeInt16BE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=i&255,o+2},f.prototype.writeInt32LE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,4,2147483647,-2147483648),this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},f.prototype.writeInt32BE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4},f.prototype.writeBigInt64LE=De(function(i,o=0){return In(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=De(function(i,o=0){return Lt(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ur(a,i,o,p,y,E){if(o+p>a.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function bn(a,i,o,p,y){return i=+i,o=o>>>0,y||ur(a,i,o,4),n.write(a,i,o,p,23,4),o+4}f.prototype.writeFloatLE=function(i,o,p){return bn(this,i,o,!0,p)},f.prototype.writeFloatBE=function(i,o,p){return bn(this,i,o,!1,p)};function Yt(a,i,o,p,y){return i=+i,o=o>>>0,y||ur(a,i,o,8),n.write(a,i,o,p,52,8),o+8}f.prototype.writeDoubleLE=function(i,o,p){return Yt(this,i,o,!0,p)},f.prototype.writeDoubleBE=function(i,o,p){return Yt(this,i,o,!1,p)},f.prototype.copy=function(i,o,p,y){if(!f.isBuffer(i))throw new TypeError("argument should be a Buffer");if(p||(p=0),!y&&y!==0&&(y=this.length),o>=i.length&&(o=i.length),o||(o=0),y>0&&y<p&&(y=p),y===p||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),i.length-o<y-p&&(y=i.length-o+p);let E=y-p;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,p,y):Uint8Array.prototype.set.call(i,this.subarray(p,y),o),E},f.prototype.fill=function(i,o,p,y){if(typeof i=="string"){if(typeof o=="string"?(y=o,o=0,p=this.length):typeof p=="string"&&(y=p,p=this.length),y!==void 0&&typeof y!="string")throw new TypeError("encoding must be a string");if(typeof y=="string"&&!f.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(i.length===1){let b=i.charCodeAt(0);(y==="utf8"&&b<128||y==="latin1")&&(i=b)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(o<0||this.length<o||this.length<p)throw new RangeError("Out of range index");if(p<=o)return this;o=o>>>0,p=p===void 0?this.length:p>>>0,i||(i=0);let E;if(typeof i=="number")for(E=o;E<p;++E)this[E]=i;else{let b=f.isBuffer(i)?i:f.from(i,y),q=b.length;if(q===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(E=0;E<p-o;++E)this[E+o]=b[E%q]}return this};let Fe={};function Er(a,i,o){Fe[a]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}Er("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Er("ERR_INVALID_ARG_TYPE",function(a,i){return`The "${a}" argument must be of type number. Received type ${typeof i}`},TypeError),Er("ERR_OUT_OF_RANGE",function(a,i,o){let p=`The value of "${a}" is out of range.`,y=o;return Number.isInteger(o)&&Math.abs(o)>2**32?y=cr(String(o)):typeof o=="bigint"&&(y=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(y=cr(y)),y+="n"),p+=` It must be ${i}. Received ${y}`,p},RangeError);function cr(a){let i="",o=a.length,p=a[0]==="-"?1:0;for(;o>=p+4;o-=3)i=`_${a.slice(o-3,o)}${i}`;return`${a.slice(0,o)}${i}`}function Xr(a,i,o){Oe(i,"offset"),(a[i]===void 0||a[i+o]===void 0)&&je(i,a.length-(o+1))}function jr(a,i,o,p,y,E){if(a>o||a<i){let b=typeof i=="bigint"?"n":"",q;throw E>3?i===0||i===BigInt(0)?q=`>= 0${b} and < 2${b} ** ${(E+1)*8}${b}`:q=`>= -(2${b} ** ${(E+1)*8-1}${b}) and < 2 ** ${(E+1)*8-1}${b}`:q=`>= ${i}${b} and <= ${o}${b}`,new Fe.ERR_OUT_OF_RANGE("value",q,a)}Xr(p,y,E)}function Oe(a,i){if(typeof a!="number")throw new Fe.ERR_INVALID_ARG_TYPE(i,"number",a)}function je(a,i,o){throw Math.floor(a)!==a?(Oe(a,o),new Fe.ERR_OUT_OF_RANGE(o||"offset","an integer",a)):i<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(o||"offset",`>= ${o?1:0} and <= ${i}`,a)}let ji=/[^+/0-9A-Za-z-_]/g;function At(a){if(a=a.split("=")[0],a=a.trim().replace(ji,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function fr(a,i){i=i||1/0;let o,p=a.length,y=null,E=[];for(let b=0;b<p;++b){if(o=a.charCodeAt(b),o>55295&&o<57344){if(!y){if(o>56319){(i-=3)>-1&&E.push(239,191,189);continue}else if(b+1===p){(i-=3)>-1&&E.push(239,191,189);continue}y=o;continue}if(o<56320){(i-=3)>-1&&E.push(239,191,189),y=o;continue}o=(y-55296<<10|o-56320)+65536}else y&&(i-=3)>-1&&E.push(239,191,189);if(y=null,o<128){if((i-=1)<0)break;E.push(o)}else if(o<2048){if((i-=2)<0)break;E.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;E.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;E.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return E}function zi(a){let i=[];for(let o=0;o<a.length;++o)i.push(a.charCodeAt(o)&255);return i}function Sr(a,i){let o,p,y,E=[];for(let b=0;b<a.length&&!((i-=2)<0);++b)o=a.charCodeAt(b),p=o>>8,y=o%256,E.push(y),E.push(p);return E}function ze(a){return e.toByteArray(At(a))}function ct(a,i,o,p){let y;for(y=0;y<p&&!(y+o>=i.length||y>=a.length);++y)i[y+o]=a[y];return y}function ve(a,i){return a instanceof i||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===i.name}function Ir(a){return a!==a}let br=function(){let a="0123456789abcdef",i=new Array(256);for(let o=0;o<16;++o){let p=o*16;for(let y=0;y<16;++y)i[p+y]=a[o]+a[y]}return i}();function De(a){return typeof BigInt>"u"?Tr:a}function Tr(){throw new Error("BigInt not supported")}return Nn}var lo,tp,Ps,rp,Nn,np,Rn,T,ux,cx,ip=Os(()=>{O();lo={},tp=!1;Ps={},rp=!1;Nn={},np=!1;Rn=KS();Rn.Buffer;Rn.SlowBuffer;Rn.INSPECT_MAX_BYTES;Rn.kMaxLength;T=Rn.Buffer,ux=Rn.INSPECT_MAX_BYTES,cx=Rn.kMaxLength});var O=Os(()=>{ip()});var op=G(Bs=>{"use strict";O();Object.defineProperty(Bs,"__esModule",{value:!0});Bs.OrdUnit=void 0;var tf=class{constructor(n,s){this.satoshis=n,this.ords=s}hasOrd(){return this.ords.length>0}};Bs.OrdUnit=tf});var sp=G(sn=>{"use strict";O();Object.defineProperty(sn,"__esModule",{value:!0});sn.OrdUnspendOutput=sn.UTXO_DUST=void 0;var kn=op();sn.UTXO_DUST=546;var rf=class{constructor(n,s){this.utxo=n,this.split(n.satoshis,n.ords,s)}split(n,s,c=sn.UTXO_DUST){let h=[],d=n;for(let f=0;f<s.length;f++){let w=s[f].id,S=s[f].offset,U=n-d,P=S-U;if(P<0||d<c)if(h.length==0)h.push(new kn.OrdUnit(d,[{id:w,outputOffset:S,unitOffset:P}])),d=0;else{let v=h[h.length-1];v.ords.push({id:w,outputOffset:S,unitOffset:v.satoshis+P});continue}d>=P&&(d>c*2?P>=c?(h.push(new kn.OrdUnit(P,[])),h.push(new kn.OrdUnit(c,[{id:w,outputOffset:S,unitOffset:0}]))):h.push(new kn.OrdUnit(P+c,[{id:w,outputOffset:S,unitOffset:P}])):h.push(new kn.OrdUnit(P+c,[{id:w,outputOffset:S,unitOffset:P}]))),d-=P+c}d>sn.UTXO_DUST?h.push(new kn.OrdUnit(d,[])):d>0&&(h.length>0?h[h.length-1].satoshis+=d:h.push(new kn.OrdUnit(d,[]))),this.ordUnits=h}getNonOrdSatoshis(){return this.ordUnits.filter(n=>n.ords.length==0).reduce((n,s)=>n+s.satoshis,0)}getLastUnitSatoshis(){let n=this.ordUnits[this.ordUnits.length-1];return n.ords.length==0?n.satoshis:0}hasOrd(){return this.utxo.ords.length>0}dump(){this.ordUnits.forEach(n=>{console.log("satoshis:",n.satoshis,"ords:",n.ords)})}};sn.OrdUnspendOutput=rf});var tr=G(Us=>{"use strict";O();Object.defineProperty(Us,"__esModule",{value:!0});Us.TIDECOIN=void 0;Us.TIDECOIN={messagePrefix:`Tidecoin Signed Message:
`,bech32:"tbc",bip32:{public:124300510,private:124321457},pubKeyHash:33,scriptHash:65,wif:176}});var up=G(un=>{"use strict";O();Object.defineProperty(un,"__esModule",{value:!0});un.encode=un.decode=un.check=void 0;function GS(e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return!1;let n=e[3];if(n===0||5+n>=e.length||e[4+n]!==2)return!1;let s=e[5+n];return!(s===0||6+n+s!==e.length||e[4]&128||n>1&&e[4]===0&&!(e[5]&128)||e[n+6]&128||s>1&&e[n+6]===0&&!(e[n+7]&128))}un.check=GS;function $S(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(e[0]!==48)throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(e[2]!==2)throw new Error("Expected DER integer");let n=e[3];if(n===0)throw new Error("R length is zero");if(5+n>=e.length)throw new Error("R length is too long");if(e[4+n]!==2)throw new Error("Expected DER integer (2)");let s=e[5+n];if(s===0)throw new Error("S length is zero");if(6+n+s!==e.length)throw new Error("S length is invalid");if(e[4]&128)throw new Error("R value is negative");if(n>1&&e[4]===0&&!(e[5]&128))throw new Error("R value excessively padded");if(e[n+6]&128)throw new Error("S value is negative");if(s>1&&e[n+6]===0&&!(e[n+7]&128))throw new Error("S value excessively padded");return{r:e.slice(4,4+n),s:e.slice(6+n)}}un.decode=$S;function VS(e,n){let s=e.length,c=n.length;if(s>1&&e[0]===0&&!(e[1]&128))throw new Error("R value excessively padded");if(c>1&&n[0]===0&&!(n[1]&128))throw new Error("S value excessively padded");let h=T.allocUnsafe(6+s+c);return h[0]=48,h[1]=h.length-2,h[2]=2,h[3]=e.length,e.copy(h,4),h[4+s]=2,h[5+s]=n.length,n.copy(h,6+s),h}un.encode=VS});var Cs=G(yi=>{"use strict";O();Object.defineProperty(yi,"__esModule",{value:!0});yi.REVERSE_OPS=yi.OPS=void 0;var nf={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};yi.OPS=nf;var cp={};yi.REVERSE_OPS=cp;for(let e of Object.keys(nf)){let n=nf[e];cp[n]=e}});var ap=G(fn=>{"use strict";O();Object.defineProperty(fn,"__esModule",{value:!0});fn.decode=fn.encode=fn.encodingLength=void 0;var cn=Cs();function fp(e){return e<cn.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}fn.encodingLength=fp;function XS(e,n,s){let c=fp(n);return c===1?e.writeUInt8(n,s):c===2?(e.writeUInt8(cn.OPS.OP_PUSHDATA1,s),e.writeUInt8(n,s+1)):c===3?(e.writeUInt8(cn.OPS.OP_PUSHDATA2,s),e.writeUInt16LE(n,s+1)):(e.writeUInt8(cn.OPS.OP_PUSHDATA4,s),e.writeUInt32LE(n,s+1)),c}fn.encode=XS;function jS(e,n){let s=e.readUInt8(n),c,h;if(s<cn.OPS.OP_PUSHDATA1)c=s,h=1;else if(s===cn.OPS.OP_PUSHDATA1){if(n+2>e.length)return null;c=e.readUInt8(n+1),h=2}else if(s===cn.OPS.OP_PUSHDATA2){if(n+3>e.length)return null;c=e.readUInt16LE(n+1),h=3}else{if(n+5>e.length)return null;if(s!==cn.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");c=e.readUInt32LE(n+1),h=5}return{opcode:s,number:c,size:h}}fn.decode=jS});var hp=G(wi=>{"use strict";O();Object.defineProperty(wi,"__esModule",{value:!0});wi.encode=wi.decode=void 0;function zS(e,n,s){n=n||4,s=s===void 0?!0:s;let c=e.length;if(c===0)return 0;if(c>n)throw new TypeError("Script number overflow");if(s&&!(e[c-1]&127)&&(c<=1||!(e[c-2]&128)))throw new Error("Non-minimally encoded script number");if(c===5){let d=e.readUInt32LE(0),f=e.readUInt8(4);return f&128?-((f&-129)*4294967296+d):f*4294967296+d}let h=0;for(let d=0;d<c;++d)h|=e[d]<<8*d;return e[c-1]&128?-(h&~(128<<8*(c-1))):h}wi.decode=zS;function YS(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}function JS(e){let n=Math.abs(e),s=YS(n),c=T.allocUnsafe(s),h=e<0;for(let d=0;d<s;++d)c.writeUInt8(n&255,d),n>>=8;return c[s-1]&128?c.writeUInt8(h?128:0,s-1):h&&(c[s-1]|=128),c}wi.encode=JS});var Ns=G((xx,lp)=>{O();var po={Array:function(e){return e!=null&&e.constructor===Array},Boolean:function(e){return typeof e=="boolean"},Function:function(e){return typeof e=="function"},Nil:function(e){return e==null},Number:function(e){return typeof e=="number"},Object:function(e){return typeof e=="object"},String:function(e){return typeof e=="string"},"":function(){return!0}};po.Null=po.Nil;for(of in po)po[of].toJSON=function(e){return e}.bind(null,of);var of;lp.exports=po});var cf=G((Px,gp)=>{O();var Ln=Ns();function pp(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function sf(e){return Ln.Nil(e)?"":pp(e.constructor)}function ZS(e){return Ln.Function(e)?"":Ln.String(e)?JSON.stringify(e):e&&Ln.Object(e)?"":e}function uf(e,n){Error.captureStackTrace&&Error.captureStackTrace(e,n)}function Rs(e){return Ln.Function(e)?e.toJSON?e.toJSON():pp(e):Ln.Array(e)?"Array":e&&Ln.Object(e)?"Object":e!==void 0?e:""}function dp(e,n,s){var c=ZS(n);return"Expected "+Rs(e)+", got"+(s!==""?" "+s:"")+(c!==""?" "+c:"")}function Rr(e,n,s){s=s||sf(n),this.message=dp(e,n,s),uf(this,Rr),this.__type=e,this.__value=n,this.__valueTypeName=s}Rr.prototype=Object.create(Error.prototype);Rr.prototype.constructor=Rr;function QS(e,n,s,c,h){var d='" of type ';return n==="key"&&(d='" with key type '),dp('property "'+Rs(s)+d+Rs(e),c,h)}function _i(e,n,s,c,h){e?(h=h||sf(c),this.message=QS(e,s,n,c,h)):this.message='Unexpected property "'+n+'"',uf(this,Rr),this.__label=s,this.__property=n,this.__type=e,this.__value=c,this.__valueTypeName=h}_i.prototype=Object.create(Error.prototype);_i.prototype.constructor=Rr;function eI(e,n){return new Rr(e,{},n)}function tI(e,n,s){return e instanceof _i?(n=n+"."+e.__property,e=new _i(e.__type,n,e.__label,e.__value,e.__valueTypeName)):e instanceof Rr&&(e=new _i(e.__type,n,s,e.__value,e.__valueTypeName)),uf(e),e}gp.exports={TfTypeError:Rr,TfPropertyTypeError:_i,tfCustomError:eI,tfSubError:tI,tfJSON:Rs,getValueTypeName:sf}});var mp=G((Ux,_p)=>{O();var lf=Ns(),rI=cf();function yp(e){return T.isBuffer(e)}function wp(e){return typeof e=="string"&&/^([0-9a-f]{2})+$/i.test(e)}function ks(e,n){var s=e.toJSON();function c(h){if(!e(h))return!1;if(h.length===n)return!0;throw rI.tfCustomError(s+"(Length: "+n+")",s+"(Length: "+h.length+")")}return c.toJSON=function(){return s},c}var nI=ks.bind(null,lf.Array),iI=ks.bind(null,yp),oI=ks.bind(null,wp),sI=ks.bind(null,lf.String);function uI(e,n,s){s=s||lf.Number;function c(h,d){return s(h,d)&&h>e&&h<n}return c.toJSON=function(){return`${s.toJSON()} between [${e}, ${n}]`},c}var af=Math.pow(2,53)-1;function cI(e){return typeof e=="number"&&isFinite(e)}function fI(e){return e<<24>>24===e}function aI(e){return e<<16>>16===e}function hI(e){return(e|0)===e}function lI(e){return typeof e=="number"&&e>=-af&&e<=af&&Math.floor(e)===e}function pI(e){return(e&255)===e}function dI(e){return(e&65535)===e}function gI(e){return e>>>0===e}function yI(e){return typeof e=="number"&&e>=0&&e<=af&&Math.floor(e)===e}var hf={ArrayN:nI,Buffer:yp,BufferN:iI,Finite:cI,Hex:wp,HexN:oI,Int8:fI,Int16:aI,Int32:hI,Int53:lI,Range:uI,StringN:sI,UInt8:pI,UInt16:dI,UInt32:gI,UInt53:yI};for(ff in hf)hf[ff].toJSON=function(e){return e}.bind(null,ff);var ff;_p.exports=hf});var Tp=G((Nx,bp)=>{O();var yo=cf(),Je=Ns(),kr=yo.tfJSON,Sp=yo.TfTypeError,Ip=yo.TfPropertyTypeError,go=yo.tfSubError,wI=yo.getValueTypeName,Lr={arrayOf:function(n,s){n=pr(n),s=s||{};function c(h,d){return!Je.Array(h)||Je.Nil(h)||s.minLength!==void 0&&h.length<s.minLength||s.maxLength!==void 0&&h.length>s.maxLength||s.length!==void 0&&h.length!==s.length?!1:h.every(function(f,w){try{return lt(n,f,d)}catch(S){throw go(S,w)}})}return c.toJSON=function(){var h="["+kr(n)+"]";return s.length!==void 0?h+="{"+s.length+"}":(s.minLength!==void 0||s.maxLength!==void 0)&&(h+="{"+(s.minLength===void 0?0:s.minLength)+","+(s.maxLength===void 0?1/0:s.maxLength)+"}"),h},c},maybe:function e(n){n=pr(n);function s(c,h){return Je.Nil(c)||n(c,h,e)}return s.toJSON=function(){return"?"+kr(n)},s},map:function(n,s){n=pr(n),s&&(s=pr(s));function c(h,d){if(!Je.Object(h)||Je.Nil(h))return!1;for(var f in h){try{s&&lt(s,f,d)}catch(S){throw go(S,f,"key")}try{var w=h[f];lt(n,w,d)}catch(S){throw go(S,f)}}return!0}return s?c.toJSON=function(){return"{"+kr(s)+": "+kr(n)+"}"}:c.toJSON=function(){return"{"+kr(n)+"}"},c},object:function(n){var s={};for(var c in n)s[c]=pr(n[c]);function h(d,f){if(!Je.Object(d)||Je.Nil(d))return!1;var w;try{for(w in s){var S=s[w],U=d[w];lt(S,U,f)}}catch(P){throw go(P,w)}if(f){for(w in d)if(!s[w])throw new Ip(void 0,w)}return!0}return h.toJSON=function(){return kr(s)},h},anyOf:function(){var n=[].slice.call(arguments).map(pr);function s(c,h){return n.some(function(d){try{return lt(d,c,h)}catch{return!1}})}return s.toJSON=function(){return n.map(kr).join("|")},s},allOf:function(){var n=[].slice.call(arguments).map(pr);function s(c,h){return n.every(function(d){try{return lt(d,c,h)}catch{return!1}})}return s.toJSON=function(){return n.map(kr).join(" & ")},s},quacksLike:function(n){function s(c){return n===wI(c)}return s.toJSON=function(){return n},s},tuple:function(){var n=[].slice.call(arguments).map(pr);function s(c,h){return Je.Nil(c)||Je.Nil(c.length)||h&&c.length!==n.length?!1:n.every(function(d,f){try{return lt(d,c[f],h)}catch(w){throw go(w,f)}})}return s.toJSON=function(){return"("+n.map(kr).join(", ")+")"},s},value:function(n){function s(c){return c===n}return s.toJSON=function(){return n},s}};Lr.oneOf=Lr.anyOf;function pr(e){if(Je.String(e))return e[0]==="?"?Lr.maybe(e.slice(1)):Je[e]||Lr.quacksLike(e);if(e&&Je.Object(e)){if(Je.Array(e)){if(e.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return Lr.arrayOf(e[0])}return Lr.object(e)}else if(Je.Function(e))return e;return Lr.value(e)}function lt(e,n,s,c){if(Je.Function(e)){if(e(n,s))return!0;throw new Sp(c||e,n)}return lt(pr(e),n,s)}for(Mr in Je)lt[Mr]=Je[Mr];var Mr;for(Mr in Lr)lt[Mr]=Lr[Mr];var Ep=mp();for(Mr in Ep)lt[Mr]=Ep[Mr];lt.compile=pr;lt.TfTypeError=Sp;lt.TfPropertyTypeError=Ip;bp.exports=lt});var mt=G(K=>{"use strict";O();Object.defineProperty(K,"__esModule",{value:!0});K.oneOf=K.Null=K.BufferN=K.Function=K.UInt32=K.UInt8=K.tuple=K.maybe=K.Hex=K.Buffer=K.String=K.Boolean=K.Array=K.Number=K.Hash256bit=K.Hash160bit=K.Buffer256bit=K.Network=K.ECPoint=K.Satoshi=K.Signer=K.BIP32Path=K.UInt31=K.typeforce=void 0;K.typeforce=Tp();var _I=Math.pow(2,31)-1;function mI(e){return K.typeforce.UInt32(e)&&e<=_I}K.UInt31=mI;function Ap(e){return K.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}K.BIP32Path=Ap;Ap.toJSON=()=>"BIP32 derivation path";function EI(e){return(K.typeforce.Buffer(e.publicKey)||typeof e.getPublicKey=="function")&&typeof e.sign=="function"}K.Signer=EI;var SI=21*1e14;function II(e){return K.typeforce.UInt53(e)&&e<=SI}K.Satoshi=II;K.ECPoint=K.typeforce.quacksLike("Point");K.Network=K.typeforce.compile({messagePrefix:K.typeforce.oneOf(K.typeforce.Buffer,K.typeforce.String),bip32:{public:K.typeforce.UInt32,private:K.typeforce.UInt32},pubKeyHash:K.typeforce.UInt8,scriptHash:K.typeforce.UInt8,wif:K.typeforce.UInt8});K.Buffer256bit=K.typeforce.BufferN(32);K.Hash160bit=K.typeforce.BufferN(20);K.Hash256bit=K.typeforce.BufferN(32);K.Number=K.typeforce.Number;K.Array=K.typeforce.Array;K.Boolean=K.typeforce.Boolean;K.String=K.typeforce.String;K.Buffer=K.typeforce.Buffer;K.Hex=K.typeforce.Hex;K.maybe=K.typeforce.maybe;K.tuple=K.typeforce.tuple;K.UInt8=K.typeforce.UInt8;K.UInt32=K.typeforce.UInt32;K.Function=K.typeforce.Function;K.BufferN=K.typeforce.BufferN;K.Null=K.typeforce.Null;K.oneOf=K.typeforce.oneOf});var vp=G(mi=>{"use strict";O();Object.defineProperty(mi,"__esModule",{value:!0});mi.encode=mi.decode=void 0;var pf=mt(),{typeforce:bI}=pf;function TI(e){let n=e.readUInt8(e.length-1),s=n&-129;if(s<=0||s>=4)throw new Error("Invalid hashType "+n);return{signature:e.slice(0,-1),hashType:n}}mi.decode=TI;function AI(e,n){bI({signature:pf.Buffer,hashType:pf.UInt8},{signature:e,hashType:n});let s=n&-129;if(s<=0||s>=4)throw new Error("Invalid hashType "+n);let c=T.allocUnsafe(1);return c.writeUInt8(n,0),T.concat([e,c])}mi.encode=AI});var St=G(Ee=>{"use strict";O();Object.defineProperty(Ee,"__esModule",{value:!0});Ee.signature=Ee.number=Ee.isCanonicalScriptSignature=Ee.isDefinedHashType=Ee.isCanonicalPubKey=Ee.toStack=Ee.fromASM=Ee.toASM=Ee.decompile=Ee.compile=Ee.countNonPushOnlyOPs=Ee.isPushOnly=Ee.OPS=void 0;var vI=up(),Et=Cs();Object.defineProperty(Ee,"OPS",{enumerable:!0,get:function(){return Et.OPS}});var df=ap(),xp=hp(),xI=vp(),Hr=mt(),{typeforce:wo}=Hr,Op=Et.OPS.OP_RESERVED;function OI(e){return Hr.Number(e)&&(e===Et.OPS.OP_0||e>=Et.OPS.OP_1&&e<=Et.OPS.OP_16||e===Et.OPS.OP_1NEGATE)}function Pp(e){return Hr.Buffer(e)||OI(e)}function Bp(e){return Hr.Array(e)&&e.every(Pp)}Ee.isPushOnly=Bp;function PI(e){return e.length-e.filter(Pp).length}Ee.countNonPushOnlyOPs=PI;function Ls(e){if(e.length===0)return Et.OPS.OP_0;if(e.length===1){if(e[0]>=1&&e[0]<=16)return Op+e[0];if(e[0]===129)return Et.OPS.OP_1NEGATE}}function Up(e){return T.isBuffer(e)}function BI(e){return Hr.Array(e)}function Ms(e){return T.isBuffer(e)}function Cp(e){if(Up(e))return e;wo(Hr.Array,e);let n=e.reduce((h,d)=>Ms(d)?d.length===1&&Ls(d)!==void 0?h+1:h+df.encodingLength(d.length)+d.length:h+1,0),s=T.allocUnsafe(n),c=0;if(e.forEach(h=>{if(Ms(h)){let d=Ls(h);if(d!==void 0){s.writeUInt8(d,c),c+=1;return}c+=df.encode(s,h.length,c),h.copy(s,c),c+=h.length}else s.writeUInt8(h,c),c+=1}),c!==s.length)throw new Error("Could not decode chunks");return s}Ee.compile=Cp;function gf(e){if(BI(e))return e;wo(Hr.Buffer,e);let n=[],s=0;for(;s<e.length;){let c=e[s];if(c>Et.OPS.OP_0&&c<=Et.OPS.OP_PUSHDATA4){let h=df.decode(e,s);if(h===null||(s+=h.size,s+h.number>e.length))return null;let d=e.slice(s,s+h.number);s+=h.number;let f=Ls(d);f!==void 0?n.push(f):n.push(d)}else n.push(c),s+=1}return n}Ee.decompile=gf;function UI(e){return Up(e)&&(e=gf(e)),e.map(n=>{if(Ms(n)){let s=Ls(n);if(s===void 0)return n.toString("hex");n=s}return Et.REVERSE_OPS[n]}).join(" ")}Ee.toASM=UI;function CI(e){return wo(Hr.String,e),Cp(e.split(" ").map(n=>Et.OPS[n]!==void 0?Et.OPS[n]:(wo(Hr.Hex,n),T.from(n,"hex"))))}Ee.fromASM=CI;function NI(e){return e=gf(e),wo(Bp,e),e.map(n=>Ms(n)?n:n===Et.OPS.OP_0?T.allocUnsafe(0):xp.encode(n-Op))}Ee.toStack=NI;function RI(e){return T.isBuffer(e)}Ee.isCanonicalPubKey=RI;function Np(e){let n=e&-129;return n>0&&n<4}Ee.isDefinedHashType=Np;function kI(e){return!(!T.isBuffer(e)||!Np(e[e.length-1]))}Ee.isCanonicalScriptSignature=kI;Ee.number=xp;Ee.signature=xI});var an=G(Ei=>{"use strict";O();Object.defineProperty(Ei,"__esModule",{value:!0});Ei.value=Ei.prop=void 0;function LI(e,n,s){Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get(){let c=s.call(this);return this[n]=c,c},set(c){Object.defineProperty(this,n,{configurable:!0,enumerable:!0,value:c,writable:!0})}})}Ei.prop=LI;function MI(e){let n;return()=>(n!==void 0||(n=e()),n)}Ei.value=MI});var Lp=G(Fs=>{"use strict";O();Object.defineProperty(Fs,"__esModule",{value:!0});Fs.p2data=void 0;var HI=tr(),Hs=St(),Fr=mt(),Rp=an(),kp=Hs.OPS;function FI(e,n){return e.length!==n.length?!1:e.every((s,c)=>s.equals(n[c]))}function DI(e,n){if(!e.data&&!e.output)throw new TypeError("Not enough data");n=Object.assign({validate:!0},n||{}),(0,Fr.typeforce)({network:Fr.typeforce.maybe(Fr.typeforce.Object),output:Fr.typeforce.maybe(Fr.typeforce.Buffer),data:Fr.typeforce.maybe(Fr.typeforce.arrayOf(Fr.typeforce.Buffer))},e);let c={name:"embed",network:e.network||HI.TIDECOIN};if(Rp.prop(c,"output",()=>{if(e.data)return Hs.compile([kp.OP_RETURN].concat(e.data))}),Rp.prop(c,"data",()=>{if(e.output)return Hs.decompile(e.output).slice(1)}),n.validate&&e.output){let h=Hs.decompile(e.output);if(h[0]!==kp.OP_RETURN)throw new TypeError("Output is invalid");if(!h.slice(1).every(Fr.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!FI(e.data,c.data))throw new TypeError("Data mismatch")}return Object.assign(c,e)}Fs.p2data=DI});var Hp=G(Ws=>{"use strict";O();Object.defineProperty(Ws,"__esModule",{value:!0});Ws.p2ms=void 0;var WI=tr(),Si=St(),Ve=mt(),hn=an(),Ii=Si.OPS,Ds=Ii.OP_RESERVED;function Mp(e,n){return e.length!==n.length?!1:e.every((s,c)=>s.equals(n[c]))}function qI(e,n){if(!e.input&&!e.output&&!(e.pubkeys&&e.m!==void 0)&&!e.signatures)throw new TypeError("Not enough data");n=Object.assign({validate:!0},n||{});function s(S){return Si.isCanonicalScriptSignature(S)||(n.allowIncomplete&&S===Ii.OP_0)!==void 0}(0,Ve.typeforce)({network:Ve.typeforce.maybe(Ve.typeforce.Object),m:Ve.typeforce.maybe(Ve.typeforce.Number),n:Ve.typeforce.maybe(Ve.typeforce.Number),output:Ve.typeforce.maybe(Ve.typeforce.Buffer),pubkeys:Ve.typeforce.maybe(Ve.typeforce.arrayOf(Ve.typeforce.BufferN(898))),signatures:Ve.typeforce.maybe(Ve.typeforce.arrayOf(s)),input:Ve.typeforce.maybe(Ve.typeforce.Buffer)},e);let h={network:e.network||WI.TIDECOIN},d=[],f=!1;function w(S){f||(f=!0,d=Si.decompile(S),h.m=d[0]-Ds,h.n=d[d.length-2]-Ds,h.pubkeys=d.slice(1,-2))}if(hn.prop(h,"output",()=>{if(e.m&&h.n&&e.pubkeys)return Si.compile([].concat(Ds+e.m,e.pubkeys,Ds+h.n,Ii.OP_CHECKMULTISIG))}),hn.prop(h,"m",()=>{if(h.output)return w(h.output),h.m}),hn.prop(h,"n",()=>{if(h.pubkeys)return h.pubkeys.length}),hn.prop(h,"pubkeys",()=>{if(e.output)return w(e.output),h.pubkeys}),hn.prop(h,"signatures",()=>{if(e.input)return Si.decompile(e.input).slice(1)}),hn.prop(h,"input",()=>{if(e.signatures)return Si.compile([Ii.OP_0].concat(e.signatures))}),hn.prop(h,"witness",()=>{if(h.input)return[]}),hn.prop(h,"name",()=>{if(!(!h.m||!h.n))return`p2ms(${h.m} of ${h.n})`}),n.validate){if(e.output){if(w(e.output),!Ve.typeforce.Number(d[0]))throw new TypeError("Output is invalid");if(!Ve.typeforce.Number(d[d.length-2]))throw new TypeError("Output is invalid");if(d[d.length-1]!==Ii.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(h.m<=0||h.n>16||h.m>h.n||h.n!==d.length-3)throw new TypeError("Output is invalid");if(!h.pubkeys.every(S=>T.isBuffer(S)))throw new TypeError("Output is invalid");if(e.m!==void 0&&e.m!==h.m)throw new TypeError("m mismatch");if(e.n!==void 0&&e.n!==h.n)throw new TypeError("n mismatch");if(e.pubkeys&&!Mp(e.pubkeys,h.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(e.n!==void 0&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(h.n=e.pubkeys.length,h.n<h.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<h.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>h.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==Ii.OP_0)throw new TypeError("Input is invalid");if(h.signatures.length===0||!h.signatures.every(s))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!Mp(e.signatures,h.signatures))throw new TypeError("Signature mismatch");if(e.m!==void 0&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(h,e)}Ws.p2ms=qI});var Dp=G(qs=>{"use strict";O();Object.defineProperty(qs,"__esModule",{value:!0});qs.p2pk=void 0;var KI=tr(),Ti=St(),dr=mt(),bi=an(),Fp=Ti.OPS;function GI(e,n){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw new TypeError("Not enough data");n=Object.assign({validate:!0},n||{}),(0,dr.typeforce)({network:dr.typeforce.maybe(dr.typeforce.Object),output:dr.typeforce.maybe(dr.typeforce.Buffer),pubkey:dr.typeforce.maybe(dr.typeforce.BufferN(898)),signature:dr.typeforce.maybe(Ti.isCanonicalScriptSignature),input:dr.typeforce.maybe(dr.typeforce.Buffer)},e);let s=bi.value(()=>Ti.decompile(e.input)),h={name:"p2pk",network:e.network||KI.TIDECOIN};if(bi.prop(h,"output",()=>{if(e.pubkey)return Ti.compile([e.pubkey,Fp.OP_CHECKSIG])}),bi.prop(h,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),bi.prop(h,"signature",()=>{if(e.input)return s()[0]}),bi.prop(h,"input",()=>{if(e.signature)return Ti.compile([e.signature])}),bi.prop(h,"witness",()=>{if(h.input)return[]}),n.validate){if(e.output){if(e.output[e.output.length-1]!==Fp.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!T.isBuffer(h.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(h.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(h.input))throw new TypeError("Signature mismatch");if(e.input){if(s().length!==1)throw new TypeError("Input is invalid");if(!Ti.isCanonicalScriptSignature(h.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(h,e)}qs.p2pk=GI});var $p=G(pt=>{"use strict";O();Object.defineProperty(pt,"__esModule",{value:!0});pt.output=pt.exists=pt.hash=pt.bytes=pt.bool=pt.number=void 0;function Ks(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}pt.number=Ks;function Wp(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}pt.bool=Wp;function $I(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function yf(e,...n){if(!$I(e))throw new Error("Expected Uint8Array");if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}pt.bytes=yf;function qp(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ks(e.outputLen),Ks(e.blockLen)}pt.hash=qp;function Kp(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")}pt.exists=Kp;function Gp(e,n){yf(e);let s=n.outputLen;if(e.length<s)throw new Error(`digestInto() expects output buffer of length at least ${s}`)}pt.output=Gp;var VI={number:Ks,bool:Wp,bytes:yf,hash:qp,exists:Kp,output:Gp};pt.default=VI});var Vp=G(Gs=>{"use strict";O();Object.defineProperty(Gs,"__esModule",{value:!0});Gs.crypto=void 0;Gs.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Mn=G(ae=>{"use strict";O();Object.defineProperty(ae,"__esModule",{value:!0});ae.randomBytes=ae.wrapXOFConstructorWithOpts=ae.wrapConstructorWithOpts=ae.wrapConstructor=ae.checkOpts=ae.Hash=ae.concatBytes=ae.toBytes=ae.utf8ToBytes=ae.asyncLoop=ae.nextTick=ae.hexToBytes=ae.bytesToHex=ae.isLE=ae.rotr=ae.createView=ae.u32=ae.u8=void 0;var wf=Vp(),XI=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);ae.u8=XI;var jI=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));ae.u32=jI;function mf(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}var zI=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);ae.createView=zI;var YI=(e,n)=>e<<32-n|e>>>n;ae.rotr=YI;ae.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ae.isLE)throw new Error("Non little-endian hardware is not supported");var JI=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));function ZI(e){if(!mf(e))throw new Error("Uint8Array expected");let n="";for(let s=0;s<e.length;s++)n+=JI[e[s]];return n}ae.bytesToHex=ZI;var Dr={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Xp(e){if(e>=Dr._0&&e<=Dr._9)return e-Dr._0;if(e>=Dr._A&&e<=Dr._F)return e-(Dr._A-10);if(e>=Dr._a&&e<=Dr._f)return e-(Dr._a-10)}function QI(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let n=e.length,s=n/2;if(n%2)throw new Error("padded hex string expected, got unpadded hex of length "+n);let c=new Uint8Array(s);for(let h=0,d=0;h<s;h++,d+=2){let f=Xp(e.charCodeAt(d)),w=Xp(e.charCodeAt(d+1));if(f===void 0||w===void 0){let S=e[d]+e[d+1];throw new Error('hex string expected, got non-hex character "'+S+'" at index '+d)}c[h]=f*16+w}return c}ae.hexToBytes=QI;var eb=async()=>{};ae.nextTick=eb;async function tb(e,n,s){let c=Date.now();for(let h=0;h<e;h++){s(h);let d=Date.now()-c;d>=0&&d<n||(await(0,ae.nextTick)(),c+=d)}}ae.asyncLoop=tb;function jp(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}ae.utf8ToBytes=jp;function $s(e){if(typeof e=="string"&&(e=jp(e)),!mf(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}ae.toBytes=$s;function rb(...e){let n=0;for(let c=0;c<e.length;c++){let h=e[c];if(!mf(h))throw new Error("Uint8Array expected");n+=h.length}let s=new Uint8Array(n);for(let c=0,h=0;c<e.length;c++){let d=e[c];s.set(d,h),h+=d.length}return s}ae.concatBytes=rb;var _f=class{clone(){return this._cloneInto()}};ae.Hash=_f;var nb={}.toString;function ib(e,n){if(n!==void 0&&nb.call(n)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,n)}ae.checkOpts=ib;function ob(e){let n=c=>e().update($s(c)).digest(),s=e();return n.outputLen=s.outputLen,n.blockLen=s.blockLen,n.create=()=>e(),n}ae.wrapConstructor=ob;function sb(e){let n=(c,h)=>e(h).update($s(c)).digest(),s=e({});return n.outputLen=s.outputLen,n.blockLen=s.blockLen,n.create=c=>e(c),n}ae.wrapConstructorWithOpts=sb;function ub(e){let n=(c,h)=>e(h).update($s(c)).digest(),s=e({});return n.outputLen=s.outputLen,n.blockLen=s.blockLen,n.create=c=>e(c),n}ae.wrapXOFConstructorWithOpts=ub;function cb(e=32){if(wf.crypto&&typeof wf.crypto.getRandomValues=="function")return wf.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}ae.randomBytes=cb});var Xs=G(Vs=>{"use strict";O();Object.defineProperty(Vs,"__esModule",{value:!0});Vs.SHA2=void 0;var Ef=$p(),_o=Mn();function fb(e,n,s,c){if(typeof e.setBigUint64=="function")return e.setBigUint64(n,s,c);let h=BigInt(32),d=BigInt(4294967295),f=Number(s>>h&d),w=Number(s&d),S=c?4:0,U=c?0:4;e.setUint32(n+S,f,c),e.setUint32(n+U,w,c)}var Sf=class extends _o.Hash{constructor(n,s,c,h){super(),this.blockLen=n,this.outputLen=s,this.padOffset=c,this.isLE=h,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(n),this.view=(0,_o.createView)(this.buffer)}update(n){(0,Ef.exists)(this);let{view:s,buffer:c,blockLen:h}=this;n=(0,_o.toBytes)(n);let d=n.length;for(let f=0;f<d;){let w=Math.min(h-this.pos,d-f);if(w===h){let S=(0,_o.createView)(n);for(;h<=d-f;f+=h)this.process(S,f);continue}c.set(n.subarray(f,f+w),this.pos),this.pos+=w,f+=w,this.pos===h&&(this.process(s,0),this.pos=0)}return this.length+=n.length,this.roundClean(),this}digestInto(n){(0,Ef.exists)(this),(0,Ef.output)(n,this),this.finished=!0;let{buffer:s,view:c,blockLen:h,isLE:d}=this,{pos:f}=this;s[f++]=128,this.buffer.subarray(f).fill(0),this.padOffset>h-f&&(this.process(c,0),f=0);for(let v=f;v<h;v++)s[v]=0;fb(c,h-8,BigInt(this.length*8),d),this.process(c,0);let w=(0,_o.createView)(n),S=this.outputLen;if(S%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let U=S/4,P=this.get();if(U>P.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<U;v++)w.setUint32(4*v,P[v],d)}digest(){let{buffer:n,outputLen:s}=this;this.digestInto(n);let c=n.slice(0,s);return this.destroy(),c}_cloneInto(n){n||(n=new this.constructor),n.set(...this.get());let{blockLen:s,buffer:c,length:h,finished:d,destroyed:f,pos:w}=this;return n.length=h,n.pos=w,n.finished=d,n.destroyed=f,h%s&&n.buffer.set(c),n}};Vs.SHA2=Sf});var Zp=G(Ai=>{"use strict";O();Object.defineProperty(Ai,"__esModule",{value:!0});Ai.ripemd160=Ai.RIPEMD160=void 0;var ab=Xs(),hb=Mn(),lb=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Yp=Uint8Array.from({length:16},(e,n)=>n),pb=Yp.map(e=>(9*e+5)%16),If=[Yp],bf=[pb];for(let e=0;e<4;e++)for(let n of[If,bf])n.push(n[e].map(s=>lb[s]));var Jp=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),db=If.map((e,n)=>e.map(s=>Jp[n][s])),gb=bf.map((e,n)=>e.map(s=>Jp[n][s])),yb=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),wb=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),js=(e,n)=>e<<n|e>>>32-n;function zp(e,n,s,c){return e===0?n^s^c:e===1?n&s|~n&c:e===2?(n|~s)^c:e===3?n&c|s&~c:n^(s|~c)}var zs=new Uint32Array(16),Ys=class extends ab.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:n,h1:s,h2:c,h3:h,h4:d}=this;return[n,s,c,h,d]}set(n,s,c,h,d){this.h0=n|0,this.h1=s|0,this.h2=c|0,this.h3=h|0,this.h4=d|0}process(n,s){for(let C=0;C<16;C++,s+=4)zs[C]=n.getUint32(s,!0);let c=this.h0|0,h=c,d=this.h1|0,f=d,w=this.h2|0,S=w,U=this.h3|0,P=U,v=this.h4|0,H=v;for(let C=0;C<5;C++){let k=4-C,D=yb[C],W=wb[C],V=If[C],X=bf[C],z=db[C],Q=gb[C];for(let Y=0;Y<16;Y++){let be=js(c+zp(C,d,w,U)+zs[V[Y]]+D,z[Y])+v|0;c=v,v=U,U=js(w,10)|0,w=d,d=be}for(let Y=0;Y<16;Y++){let be=js(h+zp(k,f,S,P)+zs[X[Y]]+W,Q[Y])+H|0;h=H,H=P,P=js(S,10)|0,S=f,f=be}}this.set(this.h1+w+P|0,this.h2+U+H|0,this.h3+v+h|0,this.h4+c+f|0,this.h0+d+S|0)}roundClean(){zs.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};Ai.RIPEMD160=Ys;Ai.ripemd160=(0,hb.wrapConstructor)(()=>new Ys)});var Qp=G(Js=>{"use strict";O();Object.defineProperty(Js,"__esModule",{value:!0});Js.sha1=void 0;var _b=Xs(),mb=Mn(),Tf=(e,n)=>e<<n|e>>>32-n>>>0,Eb=(e,n,s)=>e&n^~e&s,Sb=(e,n,s)=>e&n^e&s^n&s,mo=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),ln=new Uint32Array(80),Af=class extends _b.SHA2{constructor(){super(64,20,8,!1),this.A=mo[0]|0,this.B=mo[1]|0,this.C=mo[2]|0,this.D=mo[3]|0,this.E=mo[4]|0}get(){let{A:n,B:s,C:c,D:h,E:d}=this;return[n,s,c,h,d]}set(n,s,c,h,d){this.A=n|0,this.B=s|0,this.C=c|0,this.D=h|0,this.E=d|0}process(n,s){for(let S=0;S<16;S++,s+=4)ln[S]=n.getUint32(s,!1);for(let S=16;S<80;S++)ln[S]=Tf(ln[S-3]^ln[S-8]^ln[S-14]^ln[S-16],1);let{A:c,B:h,C:d,D:f,E:w}=this;for(let S=0;S<80;S++){let U,P;S<20?(U=Eb(h,d,f),P=1518500249):S<40?(U=h^d^f,P=1859775393):S<60?(U=Sb(h,d,f),P=2400959708):(U=h^d^f,P=3395469782);let v=Tf(c,5)+U+w+P+ln[S]|0;w=f,f=d,d=Tf(h,30),h=c,c=v}c=c+this.A|0,h=h+this.B|0,d=d+this.C|0,f=f+this.D|0,w=w+this.E|0,this.set(c,h,d,f,w)}roundClean(){ln.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}};Js.sha1=(0,mb.wrapConstructor)(()=>new Af)});var xf=G(vi=>{"use strict";O();Object.defineProperty(vi,"__esModule",{value:!0});vi.sha224=vi.sha256=void 0;var Ib=Xs(),$t=Mn(),bb=(e,n,s)=>e&n^~e&s,Tb=(e,n,s)=>e&n^e&s^n&s,Ab=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),dn=new Uint32Array(64),Zs=class extends Ib.SHA2{constructor(){super(64,32,8,!1),this.A=pn[0]|0,this.B=pn[1]|0,this.C=pn[2]|0,this.D=pn[3]|0,this.E=pn[4]|0,this.F=pn[5]|0,this.G=pn[6]|0,this.H=pn[7]|0}get(){let{A:n,B:s,C:c,D:h,E:d,F:f,G:w,H:S}=this;return[n,s,c,h,d,f,w,S]}set(n,s,c,h,d,f,w,S){this.A=n|0,this.B=s|0,this.C=c|0,this.D=h|0,this.E=d|0,this.F=f|0,this.G=w|0,this.H=S|0}process(n,s){for(let v=0;v<16;v++,s+=4)dn[v]=n.getUint32(s,!1);for(let v=16;v<64;v++){let H=dn[v-15],C=dn[v-2],k=(0,$t.rotr)(H,7)^(0,$t.rotr)(H,18)^H>>>3,D=(0,$t.rotr)(C,17)^(0,$t.rotr)(C,19)^C>>>10;dn[v]=D+dn[v-7]+k+dn[v-16]|0}let{A:c,B:h,C:d,D:f,E:w,F:S,G:U,H:P}=this;for(let v=0;v<64;v++){let H=(0,$t.rotr)(w,6)^(0,$t.rotr)(w,11)^(0,$t.rotr)(w,25),C=P+H+bb(w,S,U)+Ab[v]+dn[v]|0,D=((0,$t.rotr)(c,2)^(0,$t.rotr)(c,13)^(0,$t.rotr)(c,22))+Tb(c,h,d)|0;P=U,U=S,S=w,w=f+C|0,f=d,d=h,h=c,c=C+D|0}c=c+this.A|0,h=h+this.B|0,d=d+this.C|0,f=f+this.D|0,w=w+this.E|0,S=S+this.F|0,U=U+this.G|0,P=P+this.H|0,this.set(c,h,d,f,w,S,U,P)}roundClean(){dn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},vf=class extends Zs{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};vi.sha256=(0,$t.wrapConstructor)(()=>new Zs);vi.sha224=(0,$t.wrapConstructor)(()=>new vf)});var Wr=G(Ke=>{"use strict";O();Object.defineProperty(Ke,"__esModule",{value:!0});Ke.taggedHash=Ke.TAGGED_HASH_PREFIXES=Ke.TAGS=Ke.hash256=Ke.hash160=Ke.sha256=Ke.sha1=Ke.ripemd160=void 0;var ed=Zp(),vb=Qp(),Qs=xf();function xb(e){return T.from((0,ed.ripemd160)(Uint8Array.from(e)))}Ke.ripemd160=xb;function Ob(e){return T.from((0,vb.sha1)(Uint8Array.from(e)))}Ke.sha1=Ob;function td(e){return T.from((0,Qs.sha256)(Uint8Array.from(e)))}Ke.sha256=td;function Pb(e){return T.from((0,ed.ripemd160)((0,Qs.sha256)(Uint8Array.from(e))))}Ke.hash160=Pb;function Bb(e){return T.from((0,Qs.sha256)((0,Qs.sha256)(Uint8Array.from(e))))}Ke.hash256=Bb;Ke.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","KeyAgg list","KeyAgg coefficient"];Ke.TAGGED_HASH_PREFIXES={"BIP0340/challenge":T.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":T.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":T.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),"KeyAgg list":T.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":T.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function Ub(e,n){return td(T.concat([Ke.TAGGED_HASH_PREFIXES[e],n]))}Ke.taggedHash=Ub});var nd=G((hO,rd)=>{"use strict";O();function Cb(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var c=0;c<e.length;c++){var h=e.charAt(c),d=h.charCodeAt(0);if(n[d]!==255)throw new TypeError(h+" is ambiguous");n[d]=c}var f=e.length,w=e.charAt(0),S=Math.log(f)/Math.log(256),U=Math.log(256)/Math.log(f);function P(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var k=0,D=0,W=0,V=C.length;W!==V&&C[W]===0;)W++,k++;for(var X=(V-W)*U+1>>>0,z=new Uint8Array(X);W!==V;){for(var Q=C[W],Y=0,be=X-1;(Q!==0||Y<D)&&be!==-1;be--,Y++)Q+=256*z[be]>>>0,z[be]=Q%f>>>0,Q=Q/f>>>0;if(Q!==0)throw new Error("Non-zero carry");D=Y,W++}for(var Xe=X-D;Xe!==X&&z[Xe]===0;)Xe++;for(var sr=w.repeat(k);Xe<X;++Xe)sr+=e.charAt(z[Xe]);return sr}function v(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;for(var k=0,D=0,W=0;C[k]===w;)D++,k++;for(var V=(C.length-k)*S+1>>>0,X=new Uint8Array(V);C[k];){var z=n[C.charCodeAt(k)];if(z===255)return;for(var Q=0,Y=V-1;(z!==0||Q<W)&&Y!==-1;Y--,Q++)z+=f*X[Y]>>>0,X[Y]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");W=Q,k++}for(var be=V-W;be!==V&&X[be]===0;)be++;for(var Xe=new Uint8Array(D+(V-be)),sr=D;be!==V;)Xe[sr++]=X[be++];return Xe}function H(C){var k=v(C);if(k)return k;throw new Error("Non-base"+f+" character")}return{encode:P,decodeUnsafe:v,decode:H}}rd.exports=Cb});var od=G((pO,id)=>{O();var Nb=nd(),Rb="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";id.exports=Nb(Rb)});var ud=G((gO,sd)=>{"use strict";O();var Of=od();sd.exports=function(e){function n(d){var f=Uint8Array.from(d),w=e(f),S=f.length+4,U=new Uint8Array(S);return U.set(f,0),U.set(w.subarray(0,4),f.length),Of.encode(U,S)}function s(d){var f=d.slice(0,-4),w=d.slice(-4),S=e(f);if(!(w[0]^S[0]|w[1]^S[1]|w[2]^S[2]|w[3]^S[3]))return f}function c(d){var f=Of.decodeUnsafe(d);if(f)return s(f)}function h(d){var f=Of.decode(d),w=s(f,e);if(!w)throw new Error("Invalid checksum");return w}return{encode:n,decode:h,decodeUnsafe:c}}});var eu=G((wO,fd)=>{"use strict";O();var{sha256:cd}=xf(),kb=ud();function Lb(e){return cd(cd(e))}fd.exports=kb(Lb)});var hd=G(tu=>{"use strict";O();Object.defineProperty(tu,"__esModule",{value:!0});tu.p2pkh=void 0;var Pf=Wr(),Mb=tr(),xi=St(),qr=an(),It=mt(),ad=eu(),gn=xi.OPS;function Hb(e,n){return Fb(e,n)}tu.p2pkh=Hb;function Fb(e,n){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw new TypeError("Not enough data");n=Object.assign({validate:!0},n||{}),(0,It.typeforce)({network:It.typeforce.maybe(It.typeforce.Object),address:It.typeforce.maybe(It.typeforce.String),hash:It.typeforce.maybe(It.typeforce.BufferN(20)),output:It.typeforce.maybe(It.typeforce.BufferN(25)),pubkey:It.typeforce.maybe(It.typeforce.BufferN(898)),signature:It.typeforce.maybe(xi.isCanonicalScriptSignature),input:It.typeforce.maybe(It.typeforce.Buffer)},e);let s=qr.value(()=>{let f=T.from(ad.decode(e.address)),w=f.readUInt8(0),S=f.slice(1);return{version:w,hash:S}}),c=qr.value(()=>xi.decompile(e.input)),h=e.network||Mb.TIDECOIN,d={name:"p2pkh",network:h};if(qr.prop(d,"address",()=>{if(!d.hash)return;let f=T.allocUnsafe(21);return f.writeUInt8(h.pubKeyHash,0),d.hash.copy(f,1),ad.encode(f)}),qr.prop(d,"hash",()=>{if(e.output)return e.output.slice(3,23);if(e.address)return s().hash;if(e.pubkey||d.pubkey)return Pf.hash160(e.pubkey||d.pubkey)}),qr.prop(d,"output",()=>{if(d.hash)return xi.compile([gn.OP_DUP,gn.OP_HASH160,d.hash,gn.OP_EQUALVERIFY,gn.OP_CHECKSIG])}),qr.prop(d,"pubkey",()=>{if(e.input)return c()[1]}),qr.prop(d,"signature",()=>{if(e.input)return c()[0]}),qr.prop(d,"input",()=>{if(e.pubkey&&e.signature)return xi.compile([e.signature,e.pubkey])}),qr.prop(d,"witness",()=>{if(d.input)return[]}),n.validate){let f=T.from([]);if(e.address){if(s().version!==h.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(s().hash.length!==20)throw new TypeError("Invalid address");f=s().hash}if(e.hash){if(f.length>0&&!f.equals(e.hash))throw new TypeError("Hash mismatch");f=e.hash}if(e.output){if(e.output.length!==25||e.output[0]!==gn.OP_DUP||e.output[1]!==gn.OP_HASH160||e.output[2]!==20||e.output[23]!==gn.OP_EQUALVERIFY||e.output[24]!==gn.OP_CHECKSIG)throw new TypeError("Output is invalid");let w=e.output.slice(3,23);if(f.length>0&&!f.equals(w))throw new TypeError("Hash mismatch");f=w}if(e.pubkey){let w=Pf.hash160(e.pubkey);if(f.length>0&&!f.equals(w))throw new TypeError("Hash mismatch");f=w}if(e.input){let w=c();if(w.length!==2)throw new TypeError("Input is invalid");if(!xi.isCanonicalScriptSignature(w[0]))throw new TypeError("Input has invalid signature");if(!T.isBuffer(w[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(w[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(w[1]))throw new TypeError("Pubkey mismatch");let S=Pf.hash160(w[1]);if(f.length>0&&!f.equals(S))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}});var dd=G(ru=>{"use strict";O();Object.defineProperty(ru,"__esModule",{value:!0});ru.p2sh=void 0;var ld=Wr(),Db=tr(),yr=St(),Ue=mt(),gr=an(),pd=eu(),Eo=yr.OPS;function Wb(e,n){return e.length!==n.length?!1:e.every((s,c)=>s.equals(n[c]))}function qb(e,n){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw new TypeError("Not enough data");n=Object.assign({validate:!0},n||{}),(0,Ue.typeforce)({network:Ue.typeforce.maybe(Ue.typeforce.Object),address:Ue.typeforce.maybe(Ue.typeforce.String),hash:Ue.typeforce.maybe(Ue.typeforce.BufferN(20)),output:Ue.typeforce.maybe(Ue.typeforce.BufferN(23)),redeem:Ue.typeforce.maybe({network:Ue.typeforce.maybe(Ue.typeforce.Object),output:Ue.typeforce.maybe(Ue.typeforce.Buffer),input:Ue.typeforce.maybe(Ue.typeforce.Buffer),witness:Ue.typeforce.maybe(Ue.typeforce.arrayOf(Ue.typeforce.Buffer))}),input:Ue.typeforce.maybe(Ue.typeforce.Buffer),witness:Ue.typeforce.maybe(Ue.typeforce.arrayOf(Ue.typeforce.Buffer))},e);let s=e.network;s||(s=e.redeem&&e.redeem.network||Db.TIDECOIN);let c={network:s},h=gr.value(()=>{let w=T.from(pd.decode(e.address)),S=w.readUInt8(0),U=w.slice(1);return{version:S,hash:U}}),d=gr.value(()=>yr.decompile(e.input)),f=gr.value(()=>{let w=d(),S=w[w.length-1];return{network:s,output:S===Eo.OP_FALSE?T.from([]):S,input:yr.compile(w.slice(0,-1)),witness:e.witness||[]}});if(gr.prop(c,"address",()=>{if(!c.hash)return;let w=T.allocUnsafe(21);return w.writeUInt8(c.network.scriptHash,0),c.hash.copy(w,1),pd.encode(w)}),gr.prop(c,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return h().hash;if(c.redeem&&c.redeem.output)return ld.hash160(c.redeem.output)}),gr.prop(c,"output",()=>{if(c.hash)return yr.compile([Eo.OP_HASH160,c.hash,Eo.OP_EQUAL])}),gr.prop(c,"redeem",()=>{if(e.input)return f()}),gr.prop(c,"input",()=>{if(!(!e.redeem||!e.redeem.input||!e.redeem.output))return yr.compile([].concat(yr.decompile(e.redeem.input),e.redeem.output))}),gr.prop(c,"witness",()=>{if(c.redeem&&c.redeem.witness)return c.redeem.witness;if(c.input)return[]}),gr.prop(c,"name",()=>{let w=["p2sh"];return c.redeem!==void 0&&c.redeem.name!==void 0&&w.push(c.redeem.name),w.join("-")}),n.validate){let w=T.from([]);if(e.address){if(h().version!==s.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(h().hash.length!==20)throw new TypeError("Invalid address");w=h().hash}if(e.hash){if(w.length>0&&!w.equals(e.hash))throw new TypeError("Hash mismatch");w=e.hash}if(e.output){if(e.output.length!==23||e.output[0]!==Eo.OP_HASH160||e.output[1]!==20||e.output[22]!==Eo.OP_EQUAL)throw new TypeError("Output is invalid");let U=e.output.slice(2,22);if(w.length>0&&!w.equals(U))throw new TypeError("Hash mismatch");w=U}let S=U=>{if(U.output){let P=yr.decompile(U.output);if(!P||P.length<1)throw new TypeError("Redeem.output too short");if(U.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(yr.countNonPushOnlyOPs(P)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let v=ld.hash160(U.output);if(w.length>0&&!w.equals(v))throw new TypeError("Hash mismatch");w=v}if(U.input){let P=U.input.length>0,v=U.witness&&U.witness.length>0;if(!P&&!v)throw new TypeError("Empty input");if(P&&v)throw new TypeError("Input and witness provided");if(P){let H=yr.decompile(U.input);if(!yr.isPushOnly(H))throw new TypeError("Non push-only scriptSig")}}};if(e.input){let U=d();if(!U||U.length<1)throw new TypeError("Input too short");if(!T.isBuffer(f().output))throw new TypeError("Input is invalid");S(f())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==s)throw new TypeError("Network mismatch");if(e.input){let U=f();if(e.redeem.output&&!e.redeem.output.equals(U.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(U.input))throw new TypeError("Redeem.input mismatch")}S(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!Wb(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(c,e)}ru.p2sh=qb});var iu=G(Pi=>{"use strict";O();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.bech32m=Pi.bech32=void 0;var nu="qpzry9x8gf2tvdw0s3jn54khce6mua7l",yd={};for(let e=0;e<nu.length;e++){let n=nu.charAt(e);yd[n]=e}function Oi(e){let n=e>>25;return(e&33554431)<<5^-(n>>0&1)&996825010^-(n>>1&1)&642813549^-(n>>2&1)&513874426^-(n>>3&1)&1027748829^-(n>>4&1)&705979059}function gd(e){let n=1;for(let s=0;s<e.length;++s){let c=e.charCodeAt(s);if(c<33||c>126)return"Invalid prefix ("+e+")";n=Oi(n)^c>>5}n=Oi(n);for(let s=0;s<e.length;++s){let c=e.charCodeAt(s);n=Oi(n)^c&31}return n}function Bf(e,n,s,c){let h=0,d=0,f=(1<<s)-1,w=[];for(let S=0;S<e.length;++S)for(h=h<<n|e[S],d+=n;d>=s;)d-=s,w.push(h>>d&f);if(c)d>0&&w.push(h<<s-d&f);else{if(d>=n)return"Excess padding";if(h<<s-d&f)return"Non-zero padding"}return w}function Kb(e){return Bf(e,8,5,!0)}function Gb(e){let n=Bf(e,5,8,!1);if(Array.isArray(n))return n}function $b(e){let n=Bf(e,5,8,!1);if(Array.isArray(n))return n;throw new Error(n)}function wd(e){let n;e==="bech32"?n=1:n=734539939;function s(f,w,S){if(S=S||90,f.length+7+w.length>S)throw new TypeError("Exceeds length limit");f=f.toLowerCase();let U=gd(f);if(typeof U=="string")throw new Error(U);let P=f+"1";for(let v=0;v<w.length;++v){let H=w[v];if(H>>5)throw new Error("Non 5-bit word");U=Oi(U)^H,P+=nu.charAt(H)}for(let v=0;v<6;++v)U=Oi(U);U^=n;for(let v=0;v<6;++v){let H=U>>(5-v)*5&31;P+=nu.charAt(H)}return P}function c(f,w){if(w=w||90,f.length<8)return f+" too short";if(f.length>w)return"Exceeds length limit";let S=f.toLowerCase(),U=f.toUpperCase();if(f!==S&&f!==U)return"Mixed-case string "+f;f=S;let P=f.lastIndexOf("1");if(P===-1)return"No separator character for "+f;if(P===0)return"Missing prefix for "+f;let v=f.slice(0,P),H=f.slice(P+1);if(H.length<6)return"Data too short";let C=gd(v);if(typeof C=="string")return C;let k=[];for(let D=0;D<H.length;++D){let W=H.charAt(D),V=yd[W];if(V===void 0)return"Unknown character "+W;C=Oi(C)^V,!(D+6>=H.length)&&k.push(V)}return C!==n?"Invalid checksum for "+f:{prefix:v,words:k}}function h(f,w){let S=c(f,w);if(typeof S=="object")return S}function d(f,w){let S=c(f,w);if(typeof S=="object")return S;throw new Error(S)}return{decodeUnsafe:h,decode:d,encode:s,toWords:Kb,fromWordsUnsafe:Gb,fromWords:$b}}Pi.bech32=wd("bech32");Pi.bech32m=wd("bech32m")});var Ed=G(Bi=>{"use strict";O();Object.defineProperty(Bi,"__esModule",{value:!0});Bi.p2wpkh_old=Bi.p2wpkh=void 0;var Uf=Wr(),Vb=tr(),su=St(),Ze=mt(),yn=an(),ou=iu(),_d=su.OPS,Xb=T.alloc(0);function jb(e,n){return md(e,n)}Bi.p2wpkh=jb;function md(e,n){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw new TypeError("Not enough data");n=Object.assign({validate:!0},n||{}),(0,Ze.typeforce)({address:Ze.typeforce.maybe(Ze.typeforce.String),hash:Ze.typeforce.maybe(Ze.typeforce.BufferN(20)),input:Ze.typeforce.maybe(Ze.typeforce.BufferN(0)),network:Ze.typeforce.maybe(Ze.typeforce.Object),output:Ze.typeforce.maybe(Ze.typeforce.BufferN(22)),pubkey:Ze.typeforce.maybe(Ze.typeforce.BufferN(898)),signature:Ze.typeforce.maybe(su.isCanonicalScriptSignature),witness:Ze.typeforce.maybe(Ze.typeforce.arrayOf(Ze.typeforce.Buffer))},e);let s=yn.value(()=>{let d=ou.bech32.decode(e.address),f=d.words.shift(),w=ou.bech32.fromWords(d.words);return{version:f,prefix:d.prefix,data:T.from(w)}}),c=e.network||Vb.TIDECOIN,h={name:"p2wpkh",network:c};if(yn.prop(h,"address",()=>{if(!h.hash)return;let d=ou.bech32.toWords(h.hash);return d.unshift(0),ou.bech32.encode(c.bech32,d)}),yn.prop(h,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return s().data;if(e.pubkey||h.pubkey)return Uf.hash160(e.pubkey||h.pubkey)}),yn.prop(h,"output",()=>{if(h.hash)return su.compile([_d.OP_0,h.hash])}),yn.prop(h,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.witness)return e.witness[1]}),yn.prop(h,"signature",()=>{if(e.witness)return e.witness[0]}),yn.prop(h,"input",()=>{if(h.witness)return Xb}),yn.prop(h,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),n.validate){let d=T.from([]);if(e.address){if(c&&c.bech32!==s().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(s().version!==0)throw new TypeError("Invalid address version");if(s().data.length!==20)throw new TypeError("Invalid address data");d=s().data}if(e.hash){if(d.length>0&&!d.equals(e.hash))throw new TypeError("Hash mismatch");d=e.hash}if(e.output){if(e.output.length!==22||e.output[0]!==_d.OP_0||e.output[1]!==20)throw new TypeError("Output is invalid");if(d.length>0&&!d.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");d=e.output.slice(2)}if(e.pubkey){let f=Uf.hash160(e.pubkey);if(d.length>0&&!d.equals(f))throw new TypeError("Hash mismatch");if(d=f,e.pubkey.length!==898||e.pubkey[0]!==7)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(e.witness.length!==2)throw new TypeError("Witness is invalid");if(!su.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(e.witness[1].length!==898)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");let f=Uf.hash160(e.witness[1]);if(d.length>0&&!d.equals(f))throw new TypeError("Hash mismatch")}}return Object.assign(h,e)}Bi.p2wpkh_old=md});var bd=G(fu=>{"use strict";O();Object.defineProperty(fu,"__esModule",{value:!0});fu.p2wsh=void 0;var Sd=Wr(),zb=tr(),Gr=St(),Ce=mt(),Kr=an(),uu=iu(),Id=Gr.OPS,Cf=T.alloc(0);function Yb(e,n){return e.length!==n.length?!1:e.every((s,c)=>s.equals(n[c]))}function cu(e){return!!(T.isBuffer(e)&&e.length===898&&e[0]===7)}function Jb(e,n){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw new TypeError("Not enough data");n=Object.assign({validate:!0},n||{}),(0,Ce.typeforce)({network:Ce.typeforce.maybe(Ce.typeforce.Object),address:Ce.typeforce.maybe(Ce.typeforce.String),hash:Ce.typeforce.maybe(Ce.typeforce.BufferN(32)),output:Ce.typeforce.maybe(Ce.typeforce.BufferN(34)),redeem:Ce.typeforce.maybe({input:Ce.typeforce.maybe(Ce.typeforce.Buffer),network:Ce.typeforce.maybe(Ce.typeforce.Object),output:Ce.typeforce.maybe(Ce.typeforce.Buffer),witness:Ce.typeforce.maybe(Ce.typeforce.arrayOf(Ce.typeforce.Buffer))}),input:Ce.typeforce.maybe(Ce.typeforce.BufferN(0)),witness:Ce.typeforce.maybe(Ce.typeforce.arrayOf(Ce.typeforce.Buffer))},e);let s=Kr.value(()=>{let f=uu.bech32.decode(e.address),w=f.words.shift(),S=uu.bech32.fromWords(f.words);return{version:w,prefix:f.prefix,data:T.from(S)}}),c=Kr.value(()=>Gr.decompile(e.redeem.input)),h=e.network;h||(h=e.redeem&&e.redeem.network||zb.TIDECOIN);let d={network:h};if(Kr.prop(d,"address",()=>{if(!d.hash)return;let f=uu.bech32.toWords(d.hash);return f.unshift(0),uu.bech32.encode(h.bech32,f)}),Kr.prop(d,"hash",()=>{if(e.output)return e.output.slice(2);if(e.address)return s().data;if(d.redeem&&d.redeem.output)return Sd.sha256(d.redeem.output)}),Kr.prop(d,"output",()=>{if(d.hash)return Gr.compile([Id.OP_0,d.hash])}),Kr.prop(d,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:Cf,witness:e.witness.slice(0,-1)}}),Kr.prop(d,"input",()=>{if(d.witness)return Cf}),Kr.prop(d,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){let f=Gr.toStack(c());return d.redeem=Object.assign({witness:f},e.redeem),d.redeem.input=Cf,[].concat(f,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),Kr.prop(d,"name",()=>{let f=["p2wsh"];return d.redeem!==void 0&&d.redeem.name!==void 0&&f.push(d.redeem.name),f.join("-")}),n.validate){let f=T.from([]);if(e.address){if(s().prefix!==h.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(s().version!==0)throw new TypeError("Invalid address version");if(s().data.length!==32)throw new TypeError("Invalid address data");f=s().data}if(e.hash){if(f.length>0&&!f.equals(e.hash))throw new TypeError("Hash mismatch");f=e.hash}if(e.output){if(e.output.length!==34||e.output[0]!==Id.OP_0||e.output[1]!==32)throw new TypeError("Output is invalid");let w=e.output.slice(2);if(f.length>0&&!f.equals(w))throw new TypeError("Hash mismatch");f=w}if(e.redeem){if(e.redeem.network&&e.redeem.network!==h)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){let w=Gr.decompile(e.redeem.output);if(!w||w.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(Gr.countNonPushOnlyOPs(w)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let S=Sd.sha256(e.redeem.output);if(f.length>0&&!f.equals(S))throw new TypeError("Hash mismatch");f=S}if(e.redeem.input&&!Gr.isPushOnly(c()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!Yb(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&c().some(cu)||e.redeem.output&&(Gr.decompile(e.redeem.output)||[]).some(cu))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){let w=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(w))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(cu)||(Gr.decompile(w)||[]).some(cu))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(d,e)}fu.p2wsh=Jb});var So=G(nt=>{"use strict";O();Object.defineProperty(nt,"__esModule",{value:!0});nt.p2wsh=nt.p2wpkh=nt.p2sh=nt.p2pkh=nt.p2pk=nt.p2ms=nt.embed=void 0;var Zb=Lp();Object.defineProperty(nt,"embed",{enumerable:!0,get:function(){return Zb.p2data}});var Qb=Hp();Object.defineProperty(nt,"p2ms",{enumerable:!0,get:function(){return Qb.p2ms}});var eT=Dp();Object.defineProperty(nt,"p2pk",{enumerable:!0,get:function(){return eT.p2pk}});var tT=hd();Object.defineProperty(nt,"p2pkh",{enumerable:!0,get:function(){return tT.p2pkh}});var rT=dd();Object.defineProperty(nt,"p2sh",{enumerable:!0,get:function(){return rT.p2sh}});var nT=Ed();Object.defineProperty(nt,"p2wpkh",{enumerable:!0,get:function(){return nT.p2wpkh}});var iT=bd();Object.defineProperty(nt,"p2wsh",{enumerable:!0,get:function(){return iT.p2wsh}})});var Nf=G(bt=>{"use strict";O();Object.defineProperty(bt,"__esModule",{value:!0});bt.toOutputScript=bt.fromOutputScript=bt.toBech32=bt.toBase58Check=bt.fromBech32=bt.fromBase58Check=void 0;var Td=tr(),wn=So(),Ad=St(),au=mt(),Ui=iu(),vd=eu(),xd=40,Od=2,Pd=16,Bd=2,Ud=80,Cd="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function oT(e,n){let s=e.slice(2);if(s.length<Od||s.length>xd)throw new TypeError("Invalid program length for segwit address");let c=e[0]-Ud;if(c<Bd||c>Pd)throw new TypeError("Invalid version for segwit address");if(e[1]!==s.length)throw new TypeError("Invalid script for segwit address");return console.warn(Cd),kd(s,c,n.bech32)}function Nd(e){let n=T.from(vd.decode(e));if(n.length<21)throw new TypeError(e+" is too short");if(n.length>21)throw new TypeError(e+" is too long");let s=n.readUInt8(0),c=n.slice(1);return{version:s,hash:c}}bt.fromBase58Check=Nd;function Rd(e){let n,s;try{n=Ui.bech32.decode(e)}catch{}if(n){if(s=n.words[0],s!==0)throw new TypeError(e+" uses wrong encoding")}else if(n=Ui.bech32m.decode(e),s=n.words[0],s===0)throw new TypeError(e+" uses wrong encoding");let c=Ui.bech32.fromWords(n.words.slice(1));return{version:s,prefix:n.prefix,data:T.from(c)}}bt.fromBech32=Rd;function sT(e,n){(0,au.typeforce)((0,au.tuple)(au.Hash160bit,au.UInt8),arguments);let s=T.allocUnsafe(21);return s.writeUInt8(n,0),e.copy(s,1),vd.encode(s)}bt.toBase58Check=sT;function kd(e,n,s){let c=Ui.bech32.toWords(e);return c.unshift(n),n===0?Ui.bech32.encode(s,c):Ui.bech32m.encode(s,c)}bt.toBech32=kd;function uT(e,n){n=n||Td.TIDECOIN;try{return wn.p2pkh({output:e,network:n}).address}catch{}try{return wn.p2sh({output:e,network:n}).address}catch{}try{return wn.p2wpkh({output:e,network:n}).address}catch{}try{return wn.p2wsh({output:e,network:n}).address}catch{}try{return oT(e,n)}catch{}throw new Error(Ad.toASM(e)+" has no matching Address")}bt.fromOutputScript=uT;function cT(e,n){n=n||Td.TIDECOIN;let s,c;try{s=Nd(e)}catch{}if(s){if(s.version===n.pubKeyHash)return wn.p2pkh({hash:s.hash}).output;if(s.version===n.scriptHash)return wn.p2sh({hash:s.hash}).output}else{try{c=Rd(e)}catch{}if(c){if(c.prefix!==n.bech32)throw new Error(e+" has an invalid prefix");if(c.version===0){if(c.data.length===20)return wn.p2wpkh({hash:c.data}).output;if(c.data.length===32)return wn.p2wsh({hash:c.data}).output}else if(c.version>=Bd&&c.version<=Pd&&c.data.length>=Od&&c.data.length<=xd)return console.warn(Cd),Ad.compile([c.version+Ud,c.data])}}throw new Error(e+" has no matching Script")}bt.toOutputScript=cT});function fT(){if(Ld)return Io;Ld=!0,Io.byteLength=w,Io.toByteArray=U,Io.fromByteArray=H;for(var e=[],n=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,d=c.length;h<d;++h)e[h]=c[h],n[c.charCodeAt(h)]=h;n[45]=62,n[95]=63;function f(C){var k=C.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var D=C.indexOf("=");D===-1&&(D=k);var W=D===k?0:4-D%4;return[D,W]}function w(C){var k=f(C),D=k[0],W=k[1];return(D+W)*3/4-W}function S(C,k,D){return(k+D)*3/4-D}function U(C){var k,D=f(C),W=D[0],V=D[1],X=new s(S(C,W,V)),z=0,Q=V>0?W-4:W,Y;for(Y=0;Y<Q;Y+=4)k=n[C.charCodeAt(Y)]<<18|n[C.charCodeAt(Y+1)]<<12|n[C.charCodeAt(Y+2)]<<6|n[C.charCodeAt(Y+3)],X[z++]=k>>16&255,X[z++]=k>>8&255,X[z++]=k&255;return V===2&&(k=n[C.charCodeAt(Y)]<<2|n[C.charCodeAt(Y+1)]>>4,X[z++]=k&255),V===1&&(k=n[C.charCodeAt(Y)]<<10|n[C.charCodeAt(Y+1)]<<4|n[C.charCodeAt(Y+2)]>>2,X[z++]=k>>8&255,X[z++]=k&255),X}function P(C){return e[C>>18&63]+e[C>>12&63]+e[C>>6&63]+e[C&63]}function v(C,k,D){for(var W,V=[],X=k;X<D;X+=3)W=(C[X]<<16&16711680)+(C[X+1]<<8&65280)+(C[X+2]&255),V.push(P(W));return V.join("")}function H(C){for(var k,D=C.length,W=D%3,V=[],X=16383,z=0,Q=D-W;z<Q;z+=X)V.push(v(C,z,z+X>Q?Q:z+X));return W===1?(k=C[D-1],V.push(e[k>>2]+e[k<<4&63]+"==")):W===2&&(k=(C[D-2]<<8)+C[D-1],V.push(e[k>>10]+e[k>>4&63]+e[k<<2&63]+"=")),V.join("")}return Io}function aT(){if(Md)return hu;Md=!0;return hu.read=function(e,n,s,c,h){var d,f,w=h*8-c-1,S=(1<<w)-1,U=S>>1,P=-7,v=s?h-1:0,H=s?-1:1,C=e[n+v];for(v+=H,d=C&(1<<-P)-1,C>>=-P,P+=w;P>0;d=d*256+e[n+v],v+=H,P-=8);for(f=d&(1<<-P)-1,d>>=-P,P+=c;P>0;f=f*256+e[n+v],v+=H,P-=8);if(d===0)d=1-U;else{if(d===S)return f?NaN:(C?-1:1)*(1/0);f=f+Math.pow(2,c),d=d-U}return(C?-1:1)*f*Math.pow(2,d-c)},hu.write=function(e,n,s,c,h,d){var f,w,S,U=d*8-h-1,P=(1<<U)-1,v=P>>1,H=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=c?0:d-1,k=c?1:-1,D=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(w=isNaN(n)?1:0,f=P):(f=Math.floor(Math.log(n)/Math.LN2),n*(S=Math.pow(2,-f))<1&&(f--,S*=2),f+v>=1?n+=H/S:n+=H*Math.pow(2,1-v),n*S>=2&&(f++,S/=2),f+v>=P?(w=0,f=P):f+v>=1?(w=(n*S-1)*Math.pow(2,h),f=f+v):(w=n*Math.pow(2,v-1)*Math.pow(2,h),f=0));h>=8;e[s+C]=w&255,C+=k,w/=256,h-=8);for(f=f<<h|w,U+=h;U>0;e[s+C]=f&255,C+=k,f/=256,U-=8);e[s+C-k]|=D*128},hu}function hT(){if(Hd)return Hn;Hd=!0;let e=fT(),n=aT(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Hn.Buffer=f,Hn.SlowBuffer=V,Hn.INSPECT_MAX_BYTES=50;let c=2147483647;Hn.kMaxLength=c,f.TYPED_ARRAY_SUPPORT=h(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{let a=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(a,i),a.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function d(a){if(a>c)throw new RangeError('The value "'+a+'" is invalid for option "size"');let i=new Uint8Array(a);return Object.setPrototypeOf(i,f.prototype),i}function f(a,i,o){if(typeof a=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(a)}return w(a,i,o)}f.poolSize=8192;function w(a,i,o){if(typeof a=="string")return v(a,i);if(ArrayBuffer.isView(a))return C(a);if(a==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(ve(a,ArrayBuffer)||a&&ve(a.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(a,SharedArrayBuffer)||a&&ve(a.buffer,SharedArrayBuffer)))return k(a,i,o);if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let p=a.valueOf&&a.valueOf();if(p!=null&&p!==a)return f.from(p,i,o);let y=D(a);if(y)return y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]=="function")return f.from(a[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}f.from=function(a,i,o){return w(a,i,o)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function S(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function U(a,i,o){return S(a),a<=0?d(a):i!==void 0?typeof o=="string"?d(a).fill(i,o):d(a).fill(i):d(a)}f.alloc=function(a,i,o){return U(a,i,o)};function P(a){return S(a),d(a<0?0:W(a)|0)}f.allocUnsafe=function(a){return P(a)},f.allocUnsafeSlow=function(a){return P(a)};function v(a,i){if((typeof i!="string"||i==="")&&(i="utf8"),!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);let o=X(a,i)|0,p=d(o),y=p.write(a,i);return y!==o&&(p=p.slice(0,y)),p}function H(a){let i=a.length<0?0:W(a.length)|0,o=d(i);for(let p=0;p<i;p+=1)o[p]=a[p]&255;return o}function C(a){if(ve(a,Uint8Array)){let i=new Uint8Array(a);return k(i.buffer,i.byteOffset,i.byteLength)}return H(a)}function k(a,i,o){if(i<0||a.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');let p;return i===void 0&&o===void 0?p=new Uint8Array(a):o===void 0?p=new Uint8Array(a,i):p=new Uint8Array(a,i,o),Object.setPrototypeOf(p,f.prototype),p}function D(a){if(f.isBuffer(a)){let i=W(a.length)|0,o=d(i);return o.length===0||a.copy(o,0,0,i),o}if(a.length!==void 0)return typeof a.length!="number"||Ir(a.length)?d(0):H(a);if(a.type==="Buffer"&&Array.isArray(a.data))return H(a.data)}function W(a){if(a>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return a|0}function V(a){return+a!=a&&(a=0),f.alloc(+a)}f.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==f.prototype},f.compare=function(i,o){if(ve(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),ve(o,Uint8Array)&&(o=f.from(o,o.offset,o.byteLength)),!f.isBuffer(i)||!f.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;let p=i.length,y=o.length;for(let E=0,b=Math.min(p,y);E<b;++E)if(i[E]!==o[E]){p=i[E],y=o[E];break}return p<y?-1:y<p?1:0},f.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return f.alloc(0);let p;if(o===void 0)for(o=0,p=0;p<i.length;++p)o+=i[p].length;let y=f.allocUnsafe(o),E=0;for(p=0;p<i.length;++p){let b=i[p];if(ve(b,Uint8Array))E+b.length>y.length?(f.isBuffer(b)||(b=f.from(b)),b.copy(y,E)):Uint8Array.prototype.set.call(y,b,E);else if(f.isBuffer(b))b.copy(y,E);else throw new TypeError('"list" argument must be an Array of Buffers');E+=b.length}return y};function X(a,i){if(f.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||ve(a,ArrayBuffer))return a.byteLength;if(typeof a!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);let o=a.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&o===0)return 0;let y=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return fr(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return ze(a).length;default:if(y)return p?-1:fr(a).length;i=(""+i).toLowerCase(),y=!0}}f.byteLength=X;function z(a,i,o){let p=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(a||(a="utf8");;)switch(a){case"hex":return Vr(this,i,o);case"utf8":case"utf-8":return En(this,i,o);case"ascii":return kt(this,i,o);case"latin1":case"binary":return Xi(this,i,o);case"base64":return ri(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dt(this,i,o);default:if(p)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),p=!0}}f.prototype._isBuffer=!0;function Q(a,i,o){let p=a[i];a[i]=a[o],a[o]=p}f.prototype.swap16=function(){let i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<i;o+=2)Q(this,o,o+1);return this},f.prototype.swap32=function(){let i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<i;o+=4)Q(this,o,o+3),Q(this,o+1,o+2);return this},f.prototype.swap64=function(){let i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<i;o+=8)Q(this,o,o+7),Q(this,o+1,o+6),Q(this,o+2,o+5),Q(this,o+3,o+4);return this},f.prototype.toString=function(){let i=this.length;return i===0?"":arguments.length===0?En(this,0,i):z.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(i){if(!f.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:f.compare(this,i)===0},f.prototype.inspect=function(){let i="",o=Hn.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},s&&(f.prototype[s]=f.prototype.inspect),f.prototype.compare=function(i,o,p,y,E){if(ve(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),!f.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(o===void 0&&(o=0),p===void 0&&(p=i?i.length:0),y===void 0&&(y=0),E===void 0&&(E=this.length),o<0||p>i.length||y<0||E>this.length)throw new RangeError("out of range index");if(y>=E&&o>=p)return 0;if(y>=E)return-1;if(o>=p)return 1;if(o>>>=0,p>>>=0,y>>>=0,E>>>=0,this===i)return 0;let b=E-y,q=p-o,ie=Math.min(b,q),ee=this.slice(y,E),oe=i.slice(o,p);for(let Z=0;Z<ie;++Z)if(ee[Z]!==oe[Z]){b=ee[Z],q=oe[Z];break}return b<q?-1:q<b?1:0};function Y(a,i,o,p,y){if(a.length===0)return-1;if(typeof o=="string"?(p=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,Ir(o)&&(o=y?0:a.length-1),o<0&&(o=a.length+o),o>=a.length){if(y)return-1;o=a.length-1}else if(o<0)if(y)o=0;else return-1;if(typeof i=="string"&&(i=f.from(i,p)),f.isBuffer(i))return i.length===0?-1:be(a,i,o,p,y);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?y?Uint8Array.prototype.indexOf.call(a,i,o):Uint8Array.prototype.lastIndexOf.call(a,i,o):be(a,[i],o,p,y);throw new TypeError("val must be string, number or Buffer")}function be(a,i,o,p,y){let E=1,b=a.length,q=i.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(a.length<2||i.length<2)return-1;E=2,b/=2,q/=2,o/=2}function ie(oe,Z){return E===1?oe[Z]:oe.readUInt16BE(Z*E)}let ee;if(y){let oe=-1;for(ee=o;ee<b;ee++)if(ie(a,ee)===ie(i,oe===-1?0:ee-oe)){if(oe===-1&&(oe=ee),ee-oe+1===q)return oe*E}else oe!==-1&&(ee-=ee-oe),oe=-1}else for(o+q>b&&(o=b-q),ee=o;ee>=0;ee--){let oe=!0;for(let Z=0;Z<q;Z++)if(ie(a,ee+Z)!==ie(i,Z)){oe=!1;break}if(oe)return ee}return-1}f.prototype.includes=function(i,o,p){return this.indexOf(i,o,p)!==-1},f.prototype.indexOf=function(i,o,p){return Y(this,i,o,p,!0)},f.prototype.lastIndexOf=function(i,o,p){return Y(this,i,o,p,!1)};function Xe(a,i,o,p){o=Number(o)||0;let y=a.length-o;p?(p=Number(p),p>y&&(p=y)):p=y;let E=i.length;p>E/2&&(p=E/2);let b;for(b=0;b<p;++b){let q=parseInt(i.substr(b*2,2),16);if(Ir(q))return b;a[o+b]=q}return b}function sr(a,i,o,p){return ct(fr(i,a.length-o),a,o,p)}function Gi(a,i,o,p){return ct(zi(i),a,o,p)}function $i(a,i,o,p){return ct(ze(i),a,o,p)}function Vi(a,i,o,p){return ct(Sr(i,a.length-o),a,o,p)}f.prototype.write=function(i,o,p,y){if(o===void 0)y="utf8",p=this.length,o=0;else if(p===void 0&&typeof o=="string")y=o,p=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(p)?(p=p>>>0,y===void 0&&(y="utf8")):(y=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let E=this.length-o;if((p===void 0||p>E)&&(p=E),i.length>0&&(p<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");let b=!1;for(;;)switch(y){case"hex":return Xe(this,i,o,p);case"utf8":case"utf-8":return sr(this,i,o,p);case"ascii":case"latin1":case"binary":return Gi(this,i,o,p);case"base64":return $i(this,i,o,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Vi(this,i,o,p);default:if(b)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),b=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ri(a,i,o){return i===0&&o===a.length?e.fromByteArray(a):e.fromByteArray(a.slice(i,o))}function En(a,i,o){o=Math.min(a.length,o);let p=[],y=i;for(;y<o;){let E=a[y],b=null,q=E>239?4:E>223?3:E>191?2:1;if(y+q<=o){let ie,ee,oe,Z;switch(q){case 1:E<128&&(b=E);break;case 2:ie=a[y+1],(ie&192)===128&&(Z=(E&31)<<6|ie&63,Z>127&&(b=Z));break;case 3:ie=a[y+1],ee=a[y+2],(ie&192)===128&&(ee&192)===128&&(Z=(E&15)<<12|(ie&63)<<6|ee&63,Z>2047&&(Z<55296||Z>57343)&&(b=Z));break;case 4:ie=a[y+1],ee=a[y+2],oe=a[y+3],(ie&192)===128&&(ee&192)===128&&(oe&192)===128&&(Z=(E&15)<<18|(ie&63)<<12|(ee&63)<<6|oe&63,Z>65535&&Z<1114112&&(b=Z))}}b===null?(b=65533,q=1):b>65535&&(b-=65536,p.push(b>>>10&1023|55296),b=56320|b&1023),p.push(b),y+=q}return zt(p)}let Sn=4096;function zt(a){let i=a.length;if(i<=Sn)return String.fromCharCode.apply(String,a);let o="",p=0;for(;p<i;)o+=String.fromCharCode.apply(String,a.slice(p,p+=Sn));return o}function kt(a,i,o){let p="";o=Math.min(a.length,o);for(let y=i;y<o;++y)p+=String.fromCharCode(a[y]&127);return p}function Xi(a,i,o){let p="";o=Math.min(a.length,o);for(let y=i;y<o;++y)p+=String.fromCharCode(a[y]);return p}function Vr(a,i,o){let p=a.length;(!i||i<0)&&(i=0),(!o||o<0||o>p)&&(o=p);let y="";for(let E=i;E<o;++E)y+=br[a[E]];return y}function dt(a,i,o){let p=a.slice(i,o),y="";for(let E=0;E<p.length-1;E+=2)y+=String.fromCharCode(p[E]+p[E+1]*256);return y}f.prototype.slice=function(i,o){let p=this.length;i=~~i,o=o===void 0?p:~~o,i<0?(i+=p,i<0&&(i=0)):i>p&&(i=p),o<0?(o+=p,o<0&&(o=0)):o>p&&(o=p),o<i&&(o=i);let y=this.subarray(i,o);return Object.setPrototypeOf(y,f.prototype),y};function he(a,i,o){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+i>o)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(i,o,p){i=i>>>0,o=o>>>0,p||he(i,o,this.length);let y=this[i],E=1,b=0;for(;++b<o&&(E*=256);)y+=this[i+b]*E;return y},f.prototype.readUintBE=f.prototype.readUIntBE=function(i,o,p){i=i>>>0,o=o>>>0,p||he(i,o,this.length);let y=this[i+--o],E=1;for(;o>0&&(E*=256);)y+=this[i+--o]*E;return y},f.prototype.readUint8=f.prototype.readUInt8=function(i,o){return i=i>>>0,o||he(i,1,this.length),this[i]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(i,o){return i=i>>>0,o||he(i,2,this.length),this[i]|this[i+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(i,o){return i=i>>>0,o||he(i,2,this.length),this[i]<<8|this[i+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(i,o){return i=i>>>0,o||he(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(i,o){return i=i>>>0,o||he(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},f.prototype.readBigUInt64LE=De(function(i){i=i>>>0,Oe(i,"offset");let o=this[i],p=this[i+7];(o===void 0||p===void 0)&&je(i,this.length-8);let y=o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,E=this[++i]+this[++i]*2**8+this[++i]*2**16+p*2**24;return BigInt(y)+(BigInt(E)<<BigInt(32))}),f.prototype.readBigUInt64BE=De(function(i){i=i>>>0,Oe(i,"offset");let o=this[i],p=this[i+7];(o===void 0||p===void 0)&&je(i,this.length-8);let y=o*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],E=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+p;return(BigInt(y)<<BigInt(32))+BigInt(E)}),f.prototype.readIntLE=function(i,o,p){i=i>>>0,o=o>>>0,p||he(i,o,this.length);let y=this[i],E=1,b=0;for(;++b<o&&(E*=256);)y+=this[i+b]*E;return E*=128,y>=E&&(y-=Math.pow(2,8*o)),y},f.prototype.readIntBE=function(i,o,p){i=i>>>0,o=o>>>0,p||he(i,o,this.length);let y=o,E=1,b=this[i+--y];for(;y>0&&(E*=256);)b+=this[i+--y]*E;return E*=128,b>=E&&(b-=Math.pow(2,8*o)),b},f.prototype.readInt8=function(i,o){return i=i>>>0,o||he(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},f.prototype.readInt16LE=function(i,o){i=i>>>0,o||he(i,2,this.length);let p=this[i]|this[i+1]<<8;return p&32768?p|4294901760:p},f.prototype.readInt16BE=function(i,o){i=i>>>0,o||he(i,2,this.length);let p=this[i+1]|this[i]<<8;return p&32768?p|4294901760:p},f.prototype.readInt32LE=function(i,o){return i=i>>>0,o||he(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},f.prototype.readInt32BE=function(i,o){return i=i>>>0,o||he(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},f.prototype.readBigInt64LE=De(function(i){i=i>>>0,Oe(i,"offset");let o=this[i],p=this[i+7];(o===void 0||p===void 0)&&je(i,this.length-8);let y=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(p<<24);return(BigInt(y)<<BigInt(32))+BigInt(o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),f.prototype.readBigInt64BE=De(function(i){i=i>>>0,Oe(i,"offset");let o=this[i],p=this[i+7];(o===void 0||p===void 0)&&je(i,this.length-8);let y=(o<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(y)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+p)}),f.prototype.readFloatLE=function(i,o){return i=i>>>0,o||he(i,4,this.length),n.read(this,i,!0,23,4)},f.prototype.readFloatBE=function(i,o){return i=i>>>0,o||he(i,4,this.length),n.read(this,i,!1,23,4)},f.prototype.readDoubleLE=function(i,o){return i=i>>>0,o||he(i,8,this.length),n.read(this,i,!0,52,8)},f.prototype.readDoubleBE=function(i,o){return i=i>>>0,o||he(i,8,this.length),n.read(this,i,!1,52,8)};function ye(a,i,o,p,y,E){if(!f.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>y||i<E)throw new RangeError('"value" argument is out of bounds');if(o+p>a.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(i,o,p,y){if(i=+i,o=o>>>0,p=p>>>0,!y){let q=Math.pow(2,8*p)-1;ye(this,i,o,p,q,0)}let E=1,b=0;for(this[o]=i&255;++b<p&&(E*=256);)this[o+b]=i/E&255;return o+p},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(i,o,p,y){if(i=+i,o=o>>>0,p=p>>>0,!y){let q=Math.pow(2,8*p)-1;ye(this,i,o,p,q,0)}let E=p-1,b=1;for(this[o+E]=i&255;--E>=0&&(b*=256);)this[o+E]=i/b&255;return o+p},f.prototype.writeUint8=f.prototype.writeUInt8=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,1,255,0),this[o]=i&255,o+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,2,65535,0),this[o]=i&255,this[o+1]=i>>>8,o+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=i&255,o+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255,o+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4};function In(a,i,o,p,y){jr(i,p,y,a,o,7);let E=Number(i&BigInt(4294967295));a[o++]=E,E=E>>8,a[o++]=E,E=E>>8,a[o++]=E,E=E>>8,a[o++]=E;let b=Number(i>>BigInt(32)&BigInt(4294967295));return a[o++]=b,b=b>>8,a[o++]=b,b=b>>8,a[o++]=b,b=b>>8,a[o++]=b,o}function Lt(a,i,o,p,y){jr(i,p,y,a,o,7);let E=Number(i&BigInt(4294967295));a[o+7]=E,E=E>>8,a[o+6]=E,E=E>>8,a[o+5]=E,E=E>>8,a[o+4]=E;let b=Number(i>>BigInt(32)&BigInt(4294967295));return a[o+3]=b,b=b>>8,a[o+2]=b,b=b>>8,a[o+1]=b,b=b>>8,a[o]=b,o+8}f.prototype.writeBigUInt64LE=De(function(i,o=0){return In(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=De(function(i,o=0){return Lt(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(i,o,p,y){if(i=+i,o=o>>>0,!y){let ie=Math.pow(2,8*p-1);ye(this,i,o,p,ie-1,-ie)}let E=0,b=1,q=0;for(this[o]=i&255;++E<p&&(b*=256);)i<0&&q===0&&this[o+E-1]!==0&&(q=1),this[o+E]=(i/b>>0)-q&255;return o+p},f.prototype.writeIntBE=function(i,o,p,y){if(i=+i,o=o>>>0,!y){let ie=Math.pow(2,8*p-1);ye(this,i,o,p,ie-1,-ie)}let E=p-1,b=1,q=0;for(this[o+E]=i&255;--E>=0&&(b*=256);)i<0&&q===0&&this[o+E+1]!==0&&(q=1),this[o+E]=(i/b>>0)-q&255;return o+p},f.prototype.writeInt8=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=i&255,o+1},f.prototype.writeInt16LE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,2,32767,-32768),this[o]=i&255,this[o+1]=i>>>8,o+2},f.prototype.writeInt16BE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=i&255,o+2},f.prototype.writeInt32LE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,4,2147483647,-2147483648),this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},f.prototype.writeInt32BE=function(i,o,p){return i=+i,o=o>>>0,p||ye(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4},f.prototype.writeBigInt64LE=De(function(i,o=0){return In(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=De(function(i,o=0){return Lt(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ur(a,i,o,p,y,E){if(o+p>a.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function bn(a,i,o,p,y){return i=+i,o=o>>>0,y||ur(a,i,o,4),n.write(a,i,o,p,23,4),o+4}f.prototype.writeFloatLE=function(i,o,p){return bn(this,i,o,!0,p)},f.prototype.writeFloatBE=function(i,o,p){return bn(this,i,o,!1,p)};function Yt(a,i,o,p,y){return i=+i,o=o>>>0,y||ur(a,i,o,8),n.write(a,i,o,p,52,8),o+8}f.prototype.writeDoubleLE=function(i,o,p){return Yt(this,i,o,!0,p)},f.prototype.writeDoubleBE=function(i,o,p){return Yt(this,i,o,!1,p)},f.prototype.copy=function(i,o,p,y){if(!f.isBuffer(i))throw new TypeError("argument should be a Buffer");if(p||(p=0),!y&&y!==0&&(y=this.length),o>=i.length&&(o=i.length),o||(o=0),y>0&&y<p&&(y=p),y===p||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),i.length-o<y-p&&(y=i.length-o+p);let E=y-p;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,p,y):Uint8Array.prototype.set.call(i,this.subarray(p,y),o),E},f.prototype.fill=function(i,o,p,y){if(typeof i=="string"){if(typeof o=="string"?(y=o,o=0,p=this.length):typeof p=="string"&&(y=p,p=this.length),y!==void 0&&typeof y!="string")throw new TypeError("encoding must be a string");if(typeof y=="string"&&!f.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(i.length===1){let b=i.charCodeAt(0);(y==="utf8"&&b<128||y==="latin1")&&(i=b)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(o<0||this.length<o||this.length<p)throw new RangeError("Out of range index");if(p<=o)return this;o=o>>>0,p=p===void 0?this.length:p>>>0,i||(i=0);let E;if(typeof i=="number")for(E=o;E<p;++E)this[E]=i;else{let b=f.isBuffer(i)?i:f.from(i,y),q=b.length;if(q===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(E=0;E<p-o;++E)this[E+o]=b[E%q]}return this};let Fe={};function Er(a,i,o){Fe[a]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}Er("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Er("ERR_INVALID_ARG_TYPE",function(a,i){return`The "${a}" argument must be of type number. Received type ${typeof i}`},TypeError),Er("ERR_OUT_OF_RANGE",function(a,i,o){let p=`The value of "${a}" is out of range.`,y=o;return Number.isInteger(o)&&Math.abs(o)>2**32?y=cr(String(o)):typeof o=="bigint"&&(y=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(y=cr(y)),y+="n"),p+=` It must be ${i}. Received ${y}`,p},RangeError);function cr(a){let i="",o=a.length,p=a[0]==="-"?1:0;for(;o>=p+4;o-=3)i=`_${a.slice(o-3,o)}${i}`;return`${a.slice(0,o)}${i}`}function Xr(a,i,o){Oe(i,"offset"),(a[i]===void 0||a[i+o]===void 0)&&je(i,a.length-(o+1))}function jr(a,i,o,p,y,E){if(a>o||a<i){let b=typeof i=="bigint"?"n":"",q;throw E>3?i===0||i===BigInt(0)?q=`>= 0${b} and < 2${b} ** ${(E+1)*8}${b}`:q=`>= -(2${b} ** ${(E+1)*8-1}${b}) and < 2 ** ${(E+1)*8-1}${b}`:q=`>= ${i}${b} and <= ${o}${b}`,new Fe.ERR_OUT_OF_RANGE("value",q,a)}Xr(p,y,E)}function Oe(a,i){if(typeof a!="number")throw new Fe.ERR_INVALID_ARG_TYPE(i,"number",a)}function je(a,i,o){throw Math.floor(a)!==a?(Oe(a,o),new Fe.ERR_OUT_OF_RANGE(o||"offset","an integer",a)):i<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(o||"offset",`>= ${o?1:0} and <= ${i}`,a)}let ji=/[^+/0-9A-Za-z-_]/g;function At(a){if(a=a.split("=")[0],a=a.trim().replace(ji,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function fr(a,i){i=i||1/0;let o,p=a.length,y=null,E=[];for(let b=0;b<p;++b){if(o=a.charCodeAt(b),o>55295&&o<57344){if(!y){if(o>56319){(i-=3)>-1&&E.push(239,191,189);continue}else if(b+1===p){(i-=3)>-1&&E.push(239,191,189);continue}y=o;continue}if(o<56320){(i-=3)>-1&&E.push(239,191,189),y=o;continue}o=(y-55296<<10|o-56320)+65536}else y&&(i-=3)>-1&&E.push(239,191,189);if(y=null,o<128){if((i-=1)<0)break;E.push(o)}else if(o<2048){if((i-=2)<0)break;E.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;E.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;E.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return E}function zi(a){let i=[];for(let o=0;o<a.length;++o)i.push(a.charCodeAt(o)&255);return i}function Sr(a,i){let o,p,y,E=[];for(let b=0;b<a.length&&!((i-=2)<0);++b)o=a.charCodeAt(b),p=o>>8,y=o%256,E.push(y),E.push(p);return E}function ze(a){return e.toByteArray(At(a))}function ct(a,i,o,p){let y;for(y=0;y<p&&!(y+o>=i.length||y>=a.length);++y)i[y+o]=a[y];return y}function ve(a,i){return a instanceof i||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===i.name}function Ir(a){return a!==a}let br=function(){let a="0123456789abcdef",i=new Array(256);for(let o=0;o<16;++o){let p=o*16;for(let y=0;y<16;++y)i[p+y]=a[o]+a[y]}return i}();function De(a){return typeof BigInt>"u"?Tr:a}function Tr(){throw new Error("BigInt not supported")}return Hn}var Io,Ld,hu,Md,Hn,Hd,Fn,lT,pT,dT,Fd=Os(()=>{O();Io={},Ld=!1;hu={},Md=!1;Hn={},Hd=!1;Fn=hT();Fn.Buffer;Fn.SlowBuffer;Fn.INSPECT_MAX_BYTES;Fn.kMaxLength;lT=Fn.Buffer,pT=Fn.INSPECT_MAX_BYTES,dT=Fn.kMaxLength});var Dd={};FS(Dd,{Buffer:()=>lT,INSPECT_MAX_BYTES:()=>pT,kMaxLength:()=>dT});var Wd=Os(()=>{O();Fd()});var Gd=G((Rf,Kd)=>{O();var lu=(Wd(),DS(Dd)),wr=lu.Buffer;function qd(e,n){for(var s in e)n[s]=e[s]}wr.from&&wr.alloc&&wr.allocUnsafe&&wr.allocUnsafeSlow?Kd.exports=lu:(qd(lu,Rf),Rf.Buffer=Dn);function Dn(e,n,s){return wr(e,n,s)}Dn.prototype=Object.create(wr.prototype);qd(wr,Dn);Dn.from=function(e,n,s){if(typeof e=="number")throw new TypeError("Argument must not be a number");return wr(e,n,s)};Dn.alloc=function(e,n,s){if(typeof e!="number")throw new TypeError("Argument must be a number");var c=wr(e);return n!==void 0?typeof s=="string"?c.fill(n,s):c.fill(n):c.fill(0),c};Dn.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return wr(e)};Dn.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return lu.SlowBuffer(e)}});var Xd=G((FO,Vd)=>{"use strict";O();var kf=Gd().Buffer,gT=9007199254740991;function Lf(e){if(e<0||e>gT||e%1!==0)throw new RangeError("value out of range")}function bo(e,n,s){if(Lf(e),n||(n=kf.allocUnsafe($d(e))),!kf.isBuffer(n))throw new TypeError("buffer must be a Buffer instance");return s||(s=0),e<253?(n.writeUInt8(e,s),bo.bytes=1):e<=65535?(n.writeUInt8(253,s),n.writeUInt16LE(e,s+1),bo.bytes=3):e<=4294967295?(n.writeUInt8(254,s),n.writeUInt32LE(e,s+1),bo.bytes=5):(n.writeUInt8(255,s),n.writeUInt32LE(e>>>0,s+1),n.writeUInt32LE(e/4294967296|0,s+5),bo.bytes=9),n}function To(e,n){if(!kf.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");n||(n=0);var s=e.readUInt8(n);if(s<253)return To.bytes=1,s;if(s===253)return To.bytes=3,e.readUInt16LE(n+1);if(s===254)return To.bytes=5,e.readUInt32LE(n+1);To.bytes=9;var c=e.readUInt32LE(n+1),h=e.readUInt32LE(n+5),d=h*4294967296+c;return Lf(d),d}function $d(e){return Lf(e),e<253?1:e<=65535?3:e<=4294967295?5:9}Vd.exports={encode:bo,decode:To,encodingLength:$d}});var pu=G(it=>{"use strict";O();Object.defineProperty(it,"__esModule",{value:!0});it.BufferReader=it.BufferWriter=it.cloneBuffer=it.reverseBuffer=it.writeUInt64LE=it.readUInt64LE=it.varuint=void 0;var Wn=mt(),{typeforce:jd}=Wn,Ao=Xd();it.varuint=Ao;function zd(e,n){if(typeof e!="number")throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>n)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function Yd(e,n){let s=e.readUInt32LE(n),c=e.readUInt32LE(n+4);return c*=4294967296,zd(c+s,9007199254740991),c+s}it.readUInt64LE=Yd;function Jd(e,n,s){return zd(n,9007199254740991),e.writeInt32LE(n&-1,s),e.writeUInt32LE(Math.floor(n/4294967296),s+4),s+8}it.writeUInt64LE=Jd;function yT(e){if(e.length<1)return e;let n=e.length-1,s=0;for(let c=0;c<e.length/2;c++)s=e[c],e[c]=e[n],e[n]=s,n--;return e}it.reverseBuffer=yT;function wT(e){let n=T.allocUnsafe(e.length);return e.copy(n),n}it.cloneBuffer=wT;var Mf=class e{static withCapacity(n){return new e(T.alloc(n))}constructor(n,s=0){this.buffer=n,this.offset=s,jd(Wn.tuple(Wn.Buffer,Wn.UInt32),[n,s])}writeUInt8(n){this.offset=this.buffer.writeUInt8(n,this.offset)}writeInt32(n){this.offset=this.buffer.writeInt32LE(n,this.offset)}writeUInt32(n){this.offset=this.buffer.writeUInt32LE(n,this.offset)}writeUInt64(n){this.offset=Jd(this.buffer,n,this.offset)}writeVarInt(n){Ao.encode(n,this.buffer,this.offset),this.offset+=Ao.encode.bytes}writeSlice(n){if(this.buffer.length<this.offset+n.length)throw new Error("Cannot write slice out of bounds");this.offset+=n.copy(this.buffer,this.offset)}writeVarSlice(n){this.writeVarInt(n.length),this.writeSlice(n)}writeVector(n){this.writeVarInt(n.length),n.forEach(s=>this.writeVarSlice(s))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};it.BufferWriter=Mf;var Hf=class{constructor(n,s=0){this.buffer=n,this.offset=s,jd(Wn.tuple(Wn.Buffer,Wn.UInt32),[n,s])}readUInt8(){let n=this.buffer.readUInt8(this.offset);return this.offset++,n}readInt32(){let n=this.buffer.readInt32LE(this.offset);return this.offset+=4,n}readUInt32(){let n=this.buffer.readUInt32LE(this.offset);return this.offset+=4,n}readUInt64(){let n=Yd(this.buffer,this.offset);return this.offset+=8,n}readVarInt(){let n=Ao.decode(this.buffer,this.offset);return this.offset+=Ao.decode.bytes,n}readSlice(n){if(this.buffer.length<this.offset+n)throw new Error("Cannot read slice out of bounds");let s=this.buffer.slice(this.offset,this.offset+n);return this.offset+=n,s}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let n=this.readVarInt(),s=[];for(let c=0;c<n;c++)s.push(this.readVarSlice());return s}};it.BufferReader=Hf});var Zd=G(du=>{"use strict";O();Object.defineProperty(du,"__esModule",{value:!0});du.fastMerkleRoot=void 0;function _T(e,n){if(!Array.isArray(e))throw TypeError("Expected values Array");if(typeof n!="function")throw TypeError("Expected digest Function");let s=e.length,c=e.concat();for(;s>1;){let h=0;for(let d=0;d<s;d+=2,++h){let f=c[d],w=d+1===s?f:c[d+1],S=T.concat([f,w]);c[h]=n(S)}s=h}return c[0]}du.fastMerkleRoot=_T});var vo=G(gu=>{"use strict";O();Object.defineProperty(gu,"__esModule",{value:!0});gu.Transaction=void 0;var Vt=pu(),qn=Wr(),Qd=St(),mT=St(),Se=mt(),{typeforce:Kn}=Se;function Ci(e){let n=e.length;return Vt.varuint.encodingLength(n)+n}function ET(e){let n=e.length;return Vt.varuint.encodingLength(n)+e.reduce((s,c)=>s+Ci(c),0)}var Df=T.allocUnsafe(0),e0=[],Ff=T.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),t0=T.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),ST=T.from("ffffffffffffffff","hex"),IT={script:Df,valueBuffer:ST};function bT(e){return e.value!==void 0}var Ct=class e{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(n,s){let c=new Vt.BufferReader(n),h=new e;h.version=c.readInt32();let d=c.readUInt8(),f=c.readUInt8(),w=!1;d===e.ADVANCED_TRANSACTION_MARKER&&f===e.ADVANCED_TRANSACTION_FLAG?w=!0:c.offset-=2;let S=c.readVarInt();for(let P=0;P<S;++P)h.ins.push({hash:c.readSlice(32),index:c.readUInt32(),script:c.readVarSlice(),sequence:c.readUInt32(),witness:e0});let U=c.readVarInt();for(let P=0;P<U;++P)h.outs.push({value:c.readUInt64(),script:c.readVarSlice()});if(w){for(let P=0;P<S;++P)h.ins[P].witness=c.readVector();if(!h.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(h.locktime=c.readUInt32(),s)return h;if(c.offset!==n.length)throw new Error("Transaction has unexpected data");return h}static fromHex(n){return e.fromBuffer(T.from(n,"hex"),!1)}static isCoinbaseHash(n){Kn(Se.Hash256bit,n);for(let s=0;s<32;++s)if(n[s]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&e.isCoinbaseHash(this.ins[0].hash)}addInput(n,s,c,h){return Kn(Se.tuple(Se.Hash256bit,Se.UInt32,Se.maybe(Se.UInt32),Se.maybe(Se.Buffer)),arguments),Se.Null(c)&&(c=e.DEFAULT_SEQUENCE),this.ins.push({hash:n,index:s,script:h||Df,sequence:c,witness:e0})-1}addOutput(n,s){return Kn(Se.tuple(Se.Buffer,Se.Satoshi),arguments),this.outs.push({script:n,value:s})-1}hasWitnesses(){return this.ins.some(n=>n.witness.length!==0)}weight(){let n=this.byteLength(!1),s=this.byteLength(!0);return n*3+s}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(n=!0){let s=n&&this.hasWitnesses();return(s?10:8)+Vt.varuint.encodingLength(this.ins.length)+Vt.varuint.encodingLength(this.outs.length)+this.ins.reduce((c,h)=>c+40+Ci(h.script),0)+this.outs.reduce((c,h)=>c+8+Ci(h.script),0)+(s?this.ins.reduce((c,h)=>c+ET(h.witness),0):0)}clone(){let n=new e;return n.version=this.version,n.locktime=this.locktime,n.ins=this.ins.map(s=>({hash:s.hash,index:s.index,script:s.script,sequence:s.sequence,witness:s.witness})),n.outs=this.outs.map(s=>({script:s.script,value:s.value})),n}hashForSignature(n,s,c){if(Kn(Se.tuple(Se.UInt32,Se.Buffer,Se.Number),arguments),n>=this.ins.length)return t0;let h=Qd.compile(Qd.decompile(s).filter(w=>w!==mT.OPS.OP_CODESEPARATOR)),d=this.clone();if((c&31)===e.SIGHASH_NONE)d.outs=[],d.ins.forEach((w,S)=>{S!==n&&(w.sequence=0)});else if((c&31)===e.SIGHASH_SINGLE){if(n>=this.outs.length)return t0;d.outs.length=n+1;for(let w=0;w<n;w++)d.outs[w]=IT;d.ins.forEach((w,S)=>{S!==n&&(w.sequence=0)})}c&e.SIGHASH_ANYONECANPAY?(d.ins=[d.ins[n]],d.ins[0].script=h):(d.ins.forEach(w=>{w.script=Df}),d.ins[n].script=h);let f=T.allocUnsafe(d.byteLength(!1)+4);return f.writeInt32LE(c,f.length-4),d.__toBuffer(f,0,!1),qn.hash256(f)}hashForWitnessV0(n,s,c,h){Kn(Se.tuple(Se.UInt32,Se.Buffer,Se.Satoshi,Se.UInt32),arguments);let d=T.from([]),f,w=Ff,S=Ff,U=Ff;if(h&e.SIGHASH_ANYONECANPAY||(d=T.allocUnsafe(36*this.ins.length),f=new Vt.BufferWriter(d,0),this.ins.forEach(v=>{f.writeSlice(v.hash),f.writeUInt32(v.index)}),S=qn.hash256(d)),!(h&e.SIGHASH_ANYONECANPAY)&&(h&31)!==e.SIGHASH_SINGLE&&(h&31)!==e.SIGHASH_NONE&&(d=T.allocUnsafe(4*this.ins.length),f=new Vt.BufferWriter(d,0),this.ins.forEach(v=>{f.writeUInt32(v.sequence)}),U=qn.hash256(d)),(h&31)!==e.SIGHASH_SINGLE&&(h&31)!==e.SIGHASH_NONE){let v=this.outs.reduce((H,C)=>H+8+Ci(C.script),0);d=T.allocUnsafe(v),f=new Vt.BufferWriter(d,0),this.outs.forEach(H=>{f.writeUInt64(H.value),f.writeVarSlice(H.script)}),w=qn.hash256(d)}else if((h&31)===e.SIGHASH_SINGLE&&n<this.outs.length){let v=this.outs[n];d=T.allocUnsafe(8+Ci(v.script)),f=new Vt.BufferWriter(d,0),f.writeUInt64(v.value),f.writeVarSlice(v.script),w=qn.hash256(d)}d=T.allocUnsafe(156+Ci(s)),f=new Vt.BufferWriter(d,0);let P=this.ins[n];return f.writeInt32(this.version),f.writeSlice(S),f.writeSlice(U),f.writeSlice(P.hash),f.writeUInt32(P.index),f.writeVarSlice(s),f.writeUInt64(c),f.writeUInt32(P.sequence),f.writeSlice(w),f.writeUInt32(this.locktime),f.writeUInt32(h),qn.hash256(d)}getHash(n){return n&&this.isCoinbase()?T.alloc(32,0):qn.hash256(this.__toBuffer(void 0,void 0,n))}getId(){return(0,Vt.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(n,s){return this.__toBuffer(n,s,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(n,s){Kn(Se.tuple(Se.Number,Se.Buffer),arguments),this.ins[n].script=s}setWitness(n,s){Kn(Se.tuple(Se.Number,[Se.Buffer]),arguments),this.ins[n].witness=s}__toBuffer(n,s,c=!1){n||(n=T.allocUnsafe(this.byteLength(c)));let h=new Vt.BufferWriter(n,s||0);h.writeInt32(this.version);let d=c&&this.hasWitnesses();return d&&(h.writeUInt8(e.ADVANCED_TRANSACTION_MARKER),h.writeUInt8(e.ADVANCED_TRANSACTION_FLAG)),h.writeVarInt(this.ins.length),this.ins.forEach(f=>{h.writeSlice(f.hash),h.writeUInt32(f.index),h.writeVarSlice(f.script),h.writeUInt32(f.sequence)}),h.writeVarInt(this.outs.length),this.outs.forEach(f=>{bT(f)?h.writeUInt64(f.value):h.writeSlice(f.valueBuffer),h.writeVarSlice(f.script)}),d&&this.ins.forEach(f=>{h.writeVector(f.witness)}),h.writeUInt32(this.locktime),s!==void 0?n.slice(s,h.offset):n}};gu.Transaction=Ct;Ct.DEFAULT_SEQUENCE=4294967295;Ct.SIGHASH_DEFAULT=0;Ct.SIGHASH_ALL=1;Ct.SIGHASH_NONE=2;Ct.SIGHASH_SINGLE=3;Ct.SIGHASH_ANYONECANPAY=128;Ct.SIGHASH_OUTPUT_MASK=3;Ct.SIGHASH_INPUT_MASK=128;Ct.ADVANCED_TRANSACTION_MARKER=0;Ct.ADVANCED_TRANSACTION_FLAG=1});var o0=G(yu=>{"use strict";O();Object.defineProperty(yu,"__esModule",{value:!0});yu.Block=void 0;var Gn=pu(),Wf=Wr(),TT=Zd(),AT=vo(),i0=mt(),{typeforce:vT}=i0,qf=new TypeError("Cannot compute merkle root for zero transactions"),r0=new TypeError("Cannot compute witness commit for non-segwit block"),Kf=class e{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(n){if(n.length<80)throw new Error("Buffer too small (< 80 bytes)");let s=new Gn.BufferReader(n),c=new e;if(c.version=s.readInt32(),c.prevHash=s.readSlice(32),c.merkleRoot=s.readSlice(32),c.timestamp=s.readUInt32(),c.bits=s.readUInt32(),c.nonce=s.readUInt32(),n.length===80)return c;let h=()=>{let w=AT.Transaction.fromBuffer(s.buffer.slice(s.offset),!0);return s.offset+=w.byteLength(),w},d=s.readVarInt();c.transactions=[];for(let w=0;w<d;++w){let S=h();c.transactions.push(S)}let f=c.getWitnessCommit();return f&&(c.witnessCommit=f),c}static fromHex(n){return e.fromBuffer(T.from(n,"hex"))}static calculateTarget(n){let s=((n&4278190080)>>24)-3,c=n&8388607,h=T.alloc(32,0);return h.writeUIntBE(c,29-s,3),h}static calculateMerkleRoot(n,s){if(vT([{getHash:i0.Function}],n),n.length===0)throw qf;if(s&&!n0(n))throw r0;let c=n.map(d=>d.getHash(s)),h=(0,TT.fastMerkleRoot)(c,Wf.hash256);return s?Wf.hash256(T.concat([h,n[0].ins[0].witness[0]])):h}getWitnessCommit(){if(!n0(this.transactions))return null;let n=this.transactions[0].outs.filter(c=>c.script.slice(0,6).equals(T.from("6a24aa21a9ed","hex"))).map(c=>c.script.slice(6,38));if(n.length===0)return null;let s=n[n.length-1];return s instanceof T&&s.length===32?s:null}hasWitnessCommit(){return this.witnessCommit instanceof T&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return xT(this.transactions)}weight(){let n=this.byteLength(!1,!1),s=this.byteLength(!1,!0);return n*3+s}byteLength(n,s=!0){return n||!this.transactions?80:80+Gn.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((c,h)=>c+h.byteLength(s),0)}getHash(){return Wf.hash256(this.toBuffer(!0))}getId(){return(0,Gn.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let n=new Date(0);return n.setUTCSeconds(this.timestamp),n}toBuffer(n){let s=T.allocUnsafe(this.byteLength(n)),c=new Gn.BufferWriter(s);return c.writeInt32(this.version),c.writeSlice(this.prevHash),c.writeSlice(this.merkleRoot),c.writeUInt32(this.timestamp),c.writeUInt32(this.bits),c.writeUInt32(this.nonce),n||!this.transactions||(Gn.varuint.encode(this.transactions.length,s,c.offset),c.offset+=Gn.varuint.encode.bytes,this.transactions.forEach(h=>{let d=h.byteLength();h.toBuffer(s,c.offset),c.offset+=d})),s}toHex(n){return this.toBuffer(n).toString("hex")}checkTxRoots(){let n=this.hasWitnessCommit();return!n&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(n?this.__checkWitnessCommit():!0)}checkProofOfWork(){let n=(0,Gn.reverseBuffer)(this.getHash()),s=e.calculateTarget(this.bits);return n.compare(s)<=0}__checkMerkleRoot(){if(!this.transactions)throw qf;let n=e.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(n)===0}__checkWitnessCommit(){if(!this.transactions)throw qf;if(!this.hasWitnessCommit())throw r0;let n=e.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(n)===0}};yu.Block=Kf;function n0(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}function xT(e){return e instanceof Array&&e.some(n=>typeof n=="object"&&n.ins instanceof Array&&n.ins.some(s=>typeof s=="object"&&s.witness instanceof Array&&s.witness.length>0))}});var Nt=G(rr=>{"use strict";O();Object.defineProperty(rr,"__esModule",{value:!0});var OT;(function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(OT=rr.GlobalTypes||(rr.GlobalTypes={}));rr.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var PT;(function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT"})(PT=rr.InputTypes||(rr.InputTypes={}));rr.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment"];var BT;(function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION"})(BT=rr.OutputTypes||(rr.OutputTypes={}));rr.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation"]});var u0=G($n=>{"use strict";O();Object.defineProperty($n,"__esModule",{value:!0});var s0=Nt(),UT=e=>[...Array(e).keys()];function CT(e){if(e.key[0]!==s0.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(e.key.length!==79||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let n=e.key.slice(1),s={masterFingerprint:e.value.slice(0,4),extendedPubkey:n,path:"m"};for(let c of UT(e.value.length/4-1)){let h=e.value.readUInt32LE(c*4+4),d=!!(h&2147483648),f=h&2147483647;s.path+="/"+f.toString(10)+(d?"'":"")}return s}$n.decode=CT;function NT(e){let n=T.from([s0.GlobalTypes.GLOBAL_XPUB]),s=T.concat([n,e.extendedPubkey]),c=e.path.split("/"),h=T.allocUnsafe(c.length*4);e.masterFingerprint.copy(h,0);let d=4;return c.slice(1).forEach(f=>{let w=f.slice(-1)==="'",S=2147483647&parseInt(w?f.slice(0,-1):f,10);w&&(S+=2147483648),h.writeUInt32LE(S,d),d+=4}),{key:s,value:h}}$n.encode=NT;$n.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function RT(e){let n=e.extendedPubkey,s=e.masterFingerprint,c=e.path;return T.isBuffer(n)&&n.length===78&&[2,3].indexOf(n[45])>-1&&T.isBuffer(s)&&s.length===4&&typeof c=="string"&&!!c.match(/^m(\/\d+'?)*$/)}$n.check=RT;function kT(e,n,s){let c=n.extendedPubkey.toString("hex");return s.has(c)?!1:(s.add(c),e.filter(h=>h.extendedPubkey.equals(n.extendedPubkey)).length===0)}$n.canAddToArray=kT});var c0=G(Gf=>{"use strict";O();Object.defineProperty(Gf,"__esModule",{value:!0});var LT=Nt();function MT(e){return{key:T.from([LT.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}Gf.encode=MT});var a0=G(Vn=>{"use strict";O();Object.defineProperty(Vn,"__esModule",{value:!0});var f0=Nt();function HT(e){if(e.key[0]!==f0.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value}Vn.decode=HT;function FT(e){return{key:T.from([f0.InputTypes.FINAL_SCRIPTSIG]),value:e}}Vn.encode=FT;Vn.expected="Buffer";function DT(e){return T.isBuffer(e)}Vn.check=DT;function WT(e,n){return!!e&&!!n&&e.finalScriptSig===void 0}Vn.canAdd=WT});var l0=G(Xn=>{"use strict";O();Object.defineProperty(Xn,"__esModule",{value:!0});var h0=Nt();function qT(e){if(e.key[0]!==h0.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value}Xn.decode=qT;function KT(e){return{key:T.from([h0.InputTypes.FINAL_SCRIPTWITNESS]),value:e}}Xn.encode=KT;Xn.expected="Buffer";function GT(e){return T.isBuffer(e)}Xn.check=GT;function $T(e,n){return!!e&&!!n&&e.finalScriptWitness===void 0}Xn.canAdd=$T});var d0=G(jn=>{"use strict";O();Object.defineProperty(jn,"__esModule",{value:!0});var p0=Nt();function VT(e){if(e.key[0]!==p0.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value}jn.decode=VT;function XT(e){return{key:T.from([p0.InputTypes.NON_WITNESS_UTXO]),value:e}}jn.encode=XT;jn.expected="Buffer";function jT(e){return T.isBuffer(e)}jn.check=jT;function zT(e,n){return!!e&&!!n&&e.nonWitnessUtxo===void 0}jn.canAdd=zT});var y0=G(zn=>{"use strict";O();Object.defineProperty(zn,"__esModule",{value:!0});var g0=Nt();function YT(e){if(e.key[0]!==g0.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(e.key.length!==898)throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}}zn.decode=YT;function JT(e){let n=T.from([g0.InputTypes.PARTIAL_SIG]);return{key:T.concat([n,e.pubkey]),value:e.signature}}zn.encode=JT;zn.expected="{ pubkey: Buffer; signature: Buffer; }";function ZT(e){return T.isBuffer(e.pubkey)&&T.isBuffer(e.signature)&&[898].includes(e.pubkey.length)}zn.check=ZT;function QT(e,n,s){let c=n.pubkey.toString("hex");return s.has(c)?!1:(s.add(c),e.filter(h=>h.pubkey.equals(n.pubkey)).length===0)}zn.canAddToArray=QT});var _0=G(Yn=>{"use strict";O();Object.defineProperty(Yn,"__esModule",{value:!0});var w0=Nt();function eA(e){if(e.key[0]!==w0.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")}Yn.decode=eA;function tA(e){return{key:T.from([w0.InputTypes.POR_COMMITMENT]),value:T.from(e,"utf8")}}Yn.encode=tA;Yn.expected="string";function rA(e){return typeof e=="string"}Yn.check=rA;function nA(e,n){return!!e&&!!n&&e.porCommitment===void 0}Yn.canAdd=nA});var E0=G(Jn=>{"use strict";O();Object.defineProperty(Jn,"__esModule",{value:!0});var m0=Nt();function iA(e){if(e.key[0]!==m0.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)}Jn.decode=iA;function oA(e){let n=T.from([m0.InputTypes.SIGHASH_TYPE]),s=T.allocUnsafe(4);return s.writeUInt32LE(e,0),{key:n,value:s}}Jn.encode=oA;Jn.expected="number";function sA(e){return typeof e=="number"}Jn.check=sA;function uA(e,n){return!!e&&!!n&&e.sighashType===void 0}Jn.canAdd=uA});var Ni=G(Po=>{"use strict";O();Object.defineProperty(Po,"__esModule",{value:!0});var cA=9007199254740991;function $f(e){if(e<0||e>cA||e%1!==0)throw new RangeError("value out of range")}function xo(e,n,s){if($f(e),n||(n=T.allocUnsafe(S0(e))),!T.isBuffer(n))throw new TypeError("buffer must be a Buffer instance");return s||(s=0),e<253?(n.writeUInt8(e,s),Object.assign(xo,{bytes:1})):e<=65535?(n.writeUInt8(253,s),n.writeUInt16LE(e,s+1),Object.assign(xo,{bytes:3})):e<=4294967295?(n.writeUInt8(254,s),n.writeUInt32LE(e,s+1),Object.assign(xo,{bytes:5})):(n.writeUInt8(255,s),n.writeUInt32LE(e>>>0,s+1),n.writeUInt32LE(e/4294967296|0,s+5),Object.assign(xo,{bytes:9})),n}Po.encode=xo;function Oo(e,n){if(!T.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");n||(n=0);let s=e.readUInt8(n);if(s<253)return Object.assign(Oo,{bytes:1}),s;if(s===253)return Object.assign(Oo,{bytes:3}),e.readUInt16LE(n+1);if(s===254)return Object.assign(Oo,{bytes:5}),e.readUInt32LE(n+1);{Object.assign(Oo,{bytes:9});let c=e.readUInt32LE(n+1),d=e.readUInt32LE(n+5)*4294967296+c;return $f(d),d}}Po.decode=Oo;function S0(e){return $f(e),e<253?1:e<=65535?3:e<=4294967295?5:9}Po.encodingLength=S0});var _u=G(_n=>{"use strict";O();Object.defineProperty(_n,"__esModule",{value:!0});var wu=Ni();_n.range=e=>[...Array(e).keys()];function fA(e){if(e.length<1)return e;let n=e.length-1,s=0;for(let c=0;c<e.length/2;c++)s=e[c],e[c]=e[n],e[n]=s,n--;return e}_n.reverseBuffer=fA;function aA(e){let n=e.map(I0);return n.push(T.from([0])),T.concat(n)}_n.keyValsToBuffer=aA;function I0(e){let n=e.key.length,s=e.value.length,c=wu.encodingLength(n),h=wu.encodingLength(s),d=T.allocUnsafe(c+n+h+s);return wu.encode(n,d,0),e.key.copy(d,c),wu.encode(s,d,c+n),e.value.copy(d,c+n+h),d}_n.keyValToBuffer=I0;function b0(e,n){if(typeof e!="number")throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>n)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function hA(e,n){let s=e.readUInt32LE(n),c=e.readUInt32LE(n+4);return c*=4294967296,b0(c+s,9007199254740991),c+s}_n.readUInt64LE=hA;function lA(e,n,s){return b0(n,9007199254740991),e.writeInt32LE(n&-1,s),e.writeUInt32LE(Math.floor(n/4294967296),s+4),s+8}_n.writeUInt64LE=lA});var v0=G(Zn=>{"use strict";O();Object.defineProperty(Zn,"__esModule",{value:!0});var T0=Nt(),A0=_u(),mu=Ni();function pA(e){if(e.key[0]!==T0.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));let n=A0.readUInt64LE(e.value,0),s=8,c=mu.decode(e.value,s);s+=mu.encodingLength(c);let h=e.value.slice(s);if(h.length!==c)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:h,value:n}}Zn.decode=pA;function dA(e){let{script:n,value:s}=e,c=mu.encodingLength(n.length),h=T.allocUnsafe(8+c+n.length);return A0.writeUInt64LE(h,s,0),mu.encode(n.length,h,8),n.copy(h,8+c),{key:T.from([T0.InputTypes.WITNESS_UTXO]),value:h}}Zn.encode=dA;Zn.expected="{ script: Buffer; value: number; }";function gA(e){return T.isBuffer(e.script)&&typeof e.value=="number"}Zn.check=gA;function yA(e,n){return!!e&&!!n&&e.witnessUtxo===void 0}Zn.canAdd=yA});var x0=G(Vf=>{"use strict";O();Object.defineProperty(Vf,"__esModule",{value:!0});var wA=e=>[...Array(e).keys()],_A=e=>e.length===898&&e[0]===7;function mA(e,n=_A){function s(w){if(w.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+w.key.toString("hex"));let S=w.key.slice(1);if(!n(S))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+w.key.toString("hex"));if(w.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let U={masterFingerprint:w.value.slice(0,4),pubkey:S,path:"m"};for(let P of wA(w.value.length/4-1)){let v=w.value.readUInt32LE(P*4+4),H=!!(v&2147483648),C=v&2147483647;U.path+="/"+C.toString(10)+(H?"'":"")}return U}function c(w){let S=T.from([e]),U=T.concat([S,w.pubkey]),P=w.path.split("/"),v=T.allocUnsafe(P.length*4);w.masterFingerprint.copy(v,0);let H=4;return P.slice(1).forEach(C=>{let k=C.slice(-1)==="'",D=2147483647&parseInt(k?C.slice(0,-1):C,10);k&&(D+=2147483648),v.writeUInt32LE(D,H),H+=4}),{key:U,value:v}}let h="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function d(w){return T.isBuffer(w.pubkey)&&T.isBuffer(w.masterFingerprint)&&typeof w.path=="string"&&n(w.pubkey)&&w.masterFingerprint.length===4}function f(w,S,U){let P=S.pubkey.toString("hex");return U.has(P)?!1:(U.add(P),w.filter(v=>v.pubkey.equals(S.pubkey)).length===0)}return{decode:s,encode:c,check:d,expected:h,canAddToArray:f}}Vf.makeConverter=mA});var O0=G(Xf=>{"use strict";O();Object.defineProperty(Xf,"__esModule",{value:!0});function EA(e){return n;function n(s){let c;if(e.includes(s.key[0])&&(c=s.key.slice(1),c.length!==898))throw new Error("Format Error: invalid pubkey in key 0x"+s.key.toString("hex"));return c}}Xf.makeChecker=EA});var P0=G(jf=>{"use strict";O();Object.defineProperty(jf,"__esModule",{value:!0});function SA(e){function n(f){if(f.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+f.key.toString("hex"));return f.value}function s(f){return{key:T.from([e]),value:f}}let c="Buffer";function h(f){return T.isBuffer(f)}function d(f,w){return!!f&&!!w&&f.redeemScript===void 0}return{decode:n,encode:s,check:h,expected:c,canAdd:d}}jf.makeConverter=SA});var B0=G(zf=>{"use strict";O();Object.defineProperty(zf,"__esModule",{value:!0});function IA(e){function n(f){if(f.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+f.key.toString("hex"));return f.value}function s(f){return{key:T.from([e]),value:f}}let c="Buffer";function h(f){return T.isBuffer(f)}function d(f,w){return!!f&&!!w&&f.witnessScript===void 0}return{decode:n,encode:s,check:h,expected:c,canAdd:d}}zf.makeConverter=IA});var Eu=G(Bo=>{"use strict";O();Object.defineProperty(Bo,"__esModule",{value:!0});var $r=Nt(),bA=u0(),TA=c0(),AA=a0(),vA=l0(),xA=d0(),OA=y0(),PA=_0(),BA=E0(),UA=v0(),U0=x0(),Yf=O0(),C0=P0(),N0=B0(),CA={unsignedTx:TA,globalXpub:bA,checkPubkey:Yf.makeChecker([])};Bo.globals=CA;var NA={nonWitnessUtxo:xA,partialSig:OA,sighashType:BA,finalScriptSig:AA,finalScriptWitness:vA,porCommitment:PA,witnessUtxo:UA,bip32Derivation:U0.makeConverter($r.InputTypes.BIP32_DERIVATION),redeemScript:C0.makeConverter($r.InputTypes.REDEEM_SCRIPT),witnessScript:N0.makeConverter($r.InputTypes.WITNESS_SCRIPT),checkPubkey:Yf.makeChecker([$r.InputTypes.PARTIAL_SIG,$r.InputTypes.BIP32_DERIVATION])};Bo.inputs=NA;var RA={bip32Derivation:U0.makeConverter($r.OutputTypes.BIP32_DERIVATION),redeemScript:C0.makeConverter($r.OutputTypes.REDEEM_SCRIPT),witnessScript:N0.makeConverter($r.OutputTypes.WITNESS_SCRIPT),checkPubkey:Yf.makeChecker([$r.OutputTypes.BIP32_DERIVATION])};Bo.outputs=RA});var L0=G(Uo=>{"use strict";O();Object.defineProperty(Uo,"__esModule",{value:!0});var ot=Eu(),Su=_u(),R0=Ni(),Ae=Nt();function kA(e,n){let s=0;function c(){let W=R0.decode(e,s);s+=R0.encodingLength(W);let V=e.slice(s,s+W);return s+=W,V}function h(){let W=e.readUInt32BE(s);return s+=4,W}function d(){let W=e.readUInt8(s);return s+=1,W}function f(){let W=c(),V=c();return{key:W,value:V}}function w(){if(s>=e.length)throw new Error("Format Error: Unexpected End of PSBT");let W=e.readUInt8(s)===0;return W&&s++,W}if(h()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(d()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let S=[],U={};for(;!w();){let W=f(),V=W.key.toString("hex");if(U[V])throw new Error("Format Error: Keys must be unique for global keymap: key "+V);U[V]=1,S.push(W)}let P=S.filter(W=>W.key[0]===Ae.GlobalTypes.UNSIGNED_TX);if(P.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let v=n(P[0].value),{inputCount:H,outputCount:C}=v.getInputOutputCounts(),k=[],D=[];for(let W of Su.range(H)){let V={},X=[];for(;!w();){let z=f(),Q=z.key.toString("hex");if(V[Q])throw new Error("Format Error: Keys must be unique for each input: input index "+W+" key "+Q);V[Q]=1,X.push(z)}k.push(X)}for(let W of Su.range(C)){let V={},X=[];for(;!w();){let z=f(),Q=z.key.toString("hex");if(V[Q])throw new Error("Format Error: Keys must be unique for each output: output index "+W+" key "+Q);V[Q]=1,X.push(z)}D.push(X)}return k0(v,{globalMapKeyVals:S,inputKeyVals:k,outputKeyVals:D})}Uo.psbtFromBuffer=kA;function Xt(e,n,s){if(!n.equals(T.from([s])))throw new Error(`Format Error: Invalid ${e} key: ${n.toString("hex")}`)}Uo.checkKeyBuffer=Xt;function k0(e,{globalMapKeyVals:n,inputKeyVals:s,outputKeyVals:c}){let h={unsignedTx:e},d=0;for(let P of n)switch(P.key[0]){case Ae.GlobalTypes.UNSIGNED_TX:if(Xt("global",P.key,Ae.GlobalTypes.UNSIGNED_TX),d>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");d++;break;case Ae.GlobalTypes.GLOBAL_XPUB:h.globalXpub===void 0&&(h.globalXpub=[]),h.globalXpub.push(ot.globals.globalXpub.decode(P));break;default:h.unknownKeyVals||(h.unknownKeyVals=[]),h.unknownKeyVals.push(P)}let f=s.length,w=c.length,S=[],U=[];for(let P of Su.range(f)){let v={};for(let H of s[P])switch(ot.inputs.checkPubkey(H),H.key[0]){case Ae.InputTypes.NON_WITNESS_UTXO:if(Xt("input",H.key,Ae.InputTypes.NON_WITNESS_UTXO),v.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");v.nonWitnessUtxo=ot.inputs.nonWitnessUtxo.decode(H);break;case Ae.InputTypes.WITNESS_UTXO:if(Xt("input",H.key,Ae.InputTypes.WITNESS_UTXO),v.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");v.witnessUtxo=ot.inputs.witnessUtxo.decode(H);break;case Ae.InputTypes.PARTIAL_SIG:v.partialSig===void 0&&(v.partialSig=[]),v.partialSig.push(ot.inputs.partialSig.decode(H));break;case Ae.InputTypes.SIGHASH_TYPE:if(Xt("input",H.key,Ae.InputTypes.SIGHASH_TYPE),v.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");v.sighashType=ot.inputs.sighashType.decode(H);break;case Ae.InputTypes.REDEEM_SCRIPT:if(Xt("input",H.key,Ae.InputTypes.REDEEM_SCRIPT),v.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");v.redeemScript=ot.inputs.redeemScript.decode(H);break;case Ae.InputTypes.WITNESS_SCRIPT:if(Xt("input",H.key,Ae.InputTypes.WITNESS_SCRIPT),v.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");v.witnessScript=ot.inputs.witnessScript.decode(H);break;case Ae.InputTypes.BIP32_DERIVATION:v.bip32Derivation===void 0&&(v.bip32Derivation=[]),v.bip32Derivation.push(ot.inputs.bip32Derivation.decode(H));break;case Ae.InputTypes.FINAL_SCRIPTSIG:Xt("input",H.key,Ae.InputTypes.FINAL_SCRIPTSIG),v.finalScriptSig=ot.inputs.finalScriptSig.decode(H);break;case Ae.InputTypes.FINAL_SCRIPTWITNESS:Xt("input",H.key,Ae.InputTypes.FINAL_SCRIPTWITNESS),v.finalScriptWitness=ot.inputs.finalScriptWitness.decode(H);break;case Ae.InputTypes.POR_COMMITMENT:Xt("input",H.key,Ae.InputTypes.POR_COMMITMENT),v.porCommitment=ot.inputs.porCommitment.decode(H);break;default:v.unknownKeyVals||(v.unknownKeyVals=[]),v.unknownKeyVals.push(H)}S.push(v)}for(let P of Su.range(w)){let v={};for(let H of c[P])switch(ot.outputs.checkPubkey(H),H.key[0]){case Ae.OutputTypes.REDEEM_SCRIPT:if(Xt("output",H.key,Ae.OutputTypes.REDEEM_SCRIPT),v.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");v.redeemScript=ot.outputs.redeemScript.decode(H);break;case Ae.OutputTypes.WITNESS_SCRIPT:if(Xt("output",H.key,Ae.OutputTypes.WITNESS_SCRIPT),v.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");v.witnessScript=ot.outputs.witnessScript.decode(H);break;case Ae.OutputTypes.BIP32_DERIVATION:v.bip32Derivation===void 0&&(v.bip32Derivation=[]),v.bip32Derivation.push(ot.outputs.bip32Derivation.decode(H));break;default:v.unknownKeyVals||(v.unknownKeyVals=[]),v.unknownKeyVals.push(H)}U.push(v)}return{globalMap:h,inputs:S,outputs:U}}Uo.psbtFromKeyVals=k0});var F0=G(Iu=>{"use strict";O();Object.defineProperty(Iu,"__esModule",{value:!0});var Jf=Eu(),M0=_u();function LA({globalMap:e,inputs:n,outputs:s}){let{globalKeyVals:c,inputKeyVals:h,outputKeyVals:d}=H0({globalMap:e,inputs:n,outputs:s}),f=M0.keyValsToBuffer(c),w=v=>v.length===0?[T.from([0])]:v.map(M0.keyValsToBuffer),S=w(h),U=w(d),P=T.allocUnsafe(5);return P.writeUIntBE(482972169471,0,5),T.concat([P,f].concat(S,U))}Iu.psbtToBuffer=LA;var MA=(e,n)=>e.key.compare(n.key);function Zf(e,n){let s=new Set,c=Object.entries(e).reduce((d,[f,w])=>{if(f==="unknownKeyVals")return d;let S=n[f];if(S===void 0)return d;let U=(Array.isArray(w)?w:[w]).map(S.encode);return U.map(v=>v.key.toString("hex")).forEach(v=>{if(s.has(v))throw new Error("Serialize Error: Duplicate key: "+v);s.add(v)}),d.concat(U)},[]),h=e.unknownKeyVals?e.unknownKeyVals.filter(d=>!s.has(d.key.toString("hex"))):[];return c.concat(h).sort(MA)}function H0({globalMap:e,inputs:n,outputs:s}){return{globalKeyVals:Zf(e,Jf.globals),inputKeyVals:n.map(c=>Zf(c,Jf.inputs)),outputKeyVals:s.map(c=>Zf(c,Jf.outputs))}}Iu.psbtToKeyVals=H0});var Qf=G(bu=>{"use strict";O();function D0(e){for(var n in e)bu.hasOwnProperty(n)||(bu[n]=e[n])}Object.defineProperty(bu,"__esModule",{value:!0});D0(L0());D0(F0())});var q0=G(ra=>{"use strict";O();Object.defineProperty(ra,"__esModule",{value:!0});var ea=Qf();function HA(e){let n=e[0],s=ea.psbtToKeyVals(n),c=e.slice(1);if(c.length===0)throw new Error("Combine: Nothing to combine");let h=W0(n);if(h===void 0)throw new Error("Combine: Self missing transaction");let d=Ri(s.globalKeyVals),f=s.inputKeyVals.map(Ri),w=s.outputKeyVals.map(Ri);for(let S of c){let U=W0(S);if(U===void 0||!U.toBuffer().equals(h.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let P=ea.psbtToKeyVals(S);Ri(P.globalKeyVals).forEach(ta(d,s.globalKeyVals,P.globalKeyVals)),P.inputKeyVals.map(Ri).forEach((k,D)=>k.forEach(ta(f[D],s.inputKeyVals[D],P.inputKeyVals[D]))),P.outputKeyVals.map(Ri).forEach((k,D)=>k.forEach(ta(w[D],s.outputKeyVals[D],P.outputKeyVals[D])))}return ea.psbtFromKeyVals(h,{globalMapKeyVals:s.globalKeyVals,inputKeyVals:s.inputKeyVals,outputKeyVals:s.outputKeyVals})}ra.combine=HA;function ta(e,n,s){return c=>{if(e.has(c))return;let h=s.filter(d=>d.key.toString("hex")===c)[0];n.push(h),e.add(c)}}function W0(e){return e.globalMap.unsignedTx}function Ri(e){let n=new Set;return e.forEach(s=>{let c=s.key.toString("hex");if(n.has(c))throw new Error("Combine: KeyValue Map keys should be unique");n.add(c)}),n}});var ia=G(st=>{"use strict";O();Object.defineProperty(st,"__esModule",{value:!0});var FA=Eu();function G0(e,n){let s=e[n];if(s===void 0)throw new Error(`No input #${n}`);return s}st.checkForInput=G0;function $0(e,n){let s=e[n];if(s===void 0)throw new Error(`No output #${n}`);return s}st.checkForOutput=$0;function DA(e,n,s){if(e.key[0]<s)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(n&&n.filter(c=>c.key.equals(e.key)).length!==0)throw new Error(`Duplicate Key: ${e.key.toString("hex")}`)}st.checkHasKey=DA;function WA(e){let n=0;return Object.keys(e).forEach(s=>{Number(isNaN(Number(s)))&&n++}),n}st.getEnumLength=WA;function qA(e,n){let s=!1;if(n.nonWitnessUtxo||n.witnessUtxo){let c=!!n.redeemScript,h=!!n.witnessScript,d=!c||!!n.finalScriptSig,f=!h||!!n.finalScriptWitness,w=!!n.finalScriptSig||!!n.finalScriptWitness;s=d&&f&&w}if(s===!1)throw new Error(`Input #${e} has too much or too little data to clean`)}st.inputCheckUncleanFinalized=qA;function K0(e,n,s,c){throw new Error(`Data for ${e} key ${n} is incorrect: Expected ${s} and got ${JSON.stringify(c)}`)}function na(e){return(n,s)=>{for(let c of Object.keys(n)){let h=n[c],{canAdd:d,canAddToArray:f,check:w,expected:S}=FA[e+"s"][c]||{},U=!!f;if(w)if(U){if(!Array.isArray(h)||s[c]&&!Array.isArray(s[c]))throw new Error(`Key type ${c} must be an array`);h.every(w)||K0(e,c,S,h);let P=s[c]||[],v=new Set;if(!h.every(H=>f(P,H,v)))throw new Error("Can not add duplicate data to array");s[c]=P.concat(h)}else{if(w(h)||K0(e,c,S,h),!d(s,h))throw new Error(`Can not add duplicate data to ${e}`);s[c]=h}}}}st.updateGlobal=na("global");st.updateInput=na("input");st.updateOutput=na("output");function KA(e,n){let s=e.length-1,c=G0(e,s);st.updateInput(n,c)}st.addInputAttributes=KA;function GA(e,n){let s=e.length-1,c=$0(e,s);st.updateOutput(n,c)}st.addOutputAttributes=GA;function $A(e,n){if(!T.isBuffer(n)||n.length<4)throw new Error("Set Version: Invalid Transaction");return n.writeUInt32LE(e,0),n}st.defaultVersionSetter=$A;function VA(e,n){if(!T.isBuffer(n)||n.length<4)throw new Error("Set Locktime: Invalid Transaction");return n.writeUInt32LE(e,n.length-4),n}st.defaultLocktimeSetter=VA});var X0=G(ua=>{"use strict";O();Object.defineProperty(ua,"__esModule",{value:!0});var XA=q0(),V0=Qf(),oa=Nt(),Qe=ia(),sa=class{constructor(n){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:n}}static fromBase64(n,s){let c=T.from(n,"base64");return this.fromBuffer(c,s)}static fromHex(n,s){let c=T.from(n,"hex");return this.fromBuffer(c,s)}static fromBuffer(n,s){let c=V0.psbtFromBuffer(n,s),h=new this(c.globalMap.unsignedTx);return Object.assign(h,c),h}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return V0.psbtToBuffer(this)}updateGlobal(n){return Qe.updateGlobal(n,this.globalMap),this}updateInput(n,s){let c=Qe.checkForInput(this.inputs,n);return Qe.updateInput(s,c),this}updateOutput(n,s){let c=Qe.checkForOutput(this.outputs,n);return Qe.updateOutput(s,c),this}addUnknownKeyValToGlobal(n){return Qe.checkHasKey(n,this.globalMap.unknownKeyVals,Qe.getEnumLength(oa.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(n),this}addUnknownKeyValToInput(n,s){let c=Qe.checkForInput(this.inputs,n);return Qe.checkHasKey(s,c.unknownKeyVals,Qe.getEnumLength(oa.InputTypes)),c.unknownKeyVals||(c.unknownKeyVals=[]),c.unknownKeyVals.push(s),this}addUnknownKeyValToOutput(n,s){let c=Qe.checkForOutput(this.outputs,n);return Qe.checkHasKey(s,c.unknownKeyVals,Qe.getEnumLength(oa.OutputTypes)),c.unknownKeyVals||(c.unknownKeyVals=[]),c.unknownKeyVals.push(s),this}addInput(n){this.globalMap.unsignedTx.addInput(n),this.inputs.push({unknownKeyVals:[]});let s=n.unknownKeyVals||[],c=this.inputs.length-1;if(!Array.isArray(s))throw new Error("unknownKeyVals must be an Array");return s.forEach(h=>this.addUnknownKeyValToInput(c,h)),Qe.addInputAttributes(this.inputs,n),this}addOutput(n){this.globalMap.unsignedTx.addOutput(n),this.outputs.push({unknownKeyVals:[]});let s=n.unknownKeyVals||[],c=this.outputs.length-1;if(!Array.isArray(s))throw new Error("unknownKeyVals must be an Array");return s.forEach(h=>this.addUnknownKeyValToOutput(c,h)),Qe.addOutputAttributes(this.outputs,n),this}clearFinalizedInput(n){let s=Qe.checkForInput(this.inputs,n);Qe.inputCheckUncleanFinalized(n,s);for(let c of Object.keys(s))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(c)||delete s[c];return this}combine(...n){let s=XA.combine([this].concat(n));return Object.assign(this,s),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};ua.Psbt=sa});var J0=G(Ne=>{"use strict";O();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.signatureBlocksAction=Ne.checkInputForSig=Ne.pubkeyInScript=Ne.pubkeyPositionInScript=Ne.witnessStackToScriptWitness=Ne.isP2SHScript=Ne.isP2WSHScript=Ne.isP2WPKH=Ne.isP2PKH=Ne.isP2PK=Ne.isP2MS=void 0;var j0=Ni(),Co=St(),Tu=vo(),jA=Wr(),ki=So(),zA=Mn();function Li(e){return n=>{try{return e({output:n}),!0}catch{return!1}}}Ne.isP2MS=Li(ki.p2ms);Ne.isP2PK=Li(ki.p2pk);Ne.isP2PKH=Li(ki.p2pkh);Ne.isP2WPKH=Li(ki.p2wpkh);Ne.isP2WSHScript=Li(ki.p2wsh);Ne.isP2SHScript=Li(ki.p2sh);function YA(e){let n=T.allocUnsafe(0);function s(f){n=T.concat([n,T.from(f)])}function c(f){let w=n.length,S=j0.encodingLength(f);n=T.concat([n,T.allocUnsafe(S)]),j0.encode(f,n,w)}function h(f){c(f.length),s(f)}function d(f){c(f.length),f.forEach(h)}return d(e),n}Ne.witnessStackToScriptWitness=YA;function z0(e,n){let s=(0,jA.hash160)(T.from("07"+(0,zA.bytesToHex)(e),"hex")),c=Co.decompile(n);if(c===null)throw new Error("Unknown script error");return c.findIndex(h=>typeof h=="number"?!1:h.equals(e)||h.equals(s))}Ne.pubkeyPositionInScript=z0;function JA(e,n){return z0(e,n)!==-1}Ne.pubkeyInScript=JA;function ZA(e,n){return QA(e).some(c=>Y0(c,Co.signature.decode,n))}Ne.checkInputForSig=ZA;function Y0(e,n,s){let{hashType:c}=n(e),h=[];switch(c&Tu.Transaction.SIGHASH_ANYONECANPAY&&h.push("addInput"),c&31){case Tu.Transaction.SIGHASH_ALL:break;case Tu.Transaction.SIGHASH_SINGLE:case Tu.Transaction.SIGHASH_NONE:h.push("addOutput"),h.push("setInputSequence");break}return h.indexOf(s)===-1}Ne.signatureBlocksAction=Y0;function QA(e){let n=[];if((e.partialSig||[]).length===0){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];n=ev(e)}else n=e.partialSig;return n.map(s=>s.signature)}function ev(e){let n=e.finalScriptSig?Co.decompile(e.finalScriptSig)||[]:[],s=e.finalScriptWitness?Co.decompile(e.finalScriptWitness)||[]:[];return n.concat(s).filter(c=>T.isBuffer(c)&&Co.isCanonicalScriptSignature(c)).map(c=>({signature:c}))}});var yg=G(Cu=>{"use strict";O();Object.defineProperty(Cu,"__esModule",{value:!0});Cu.Psbt=void 0;var Z0=X0(),Q0=Ni(),_r=ia(),eg=Nf(),xu=pu(),nr=So(),mn=St(),mr=vo(),et=J0(),tv=tr(),rv=Mn(),nv={network:tv.TIDECOIN,maximumFeeRate:5e3},fa=class e{static fromBase64(n,s={}){let c=T.from(n,"base64");return this.fromBuffer(c,s)}static fromHex(n,s={}){let c=T.from(n,"hex");return this.fromBuffer(c,s)}static fromBuffer(n,s={}){let c=Z0.Psbt.fromBuffer(n,iv),h=new e(s,c);return fv(h.__CACHE.__TX,h.__CACHE),h}constructor(n={},s=new Z0.Psbt(new Ou)){this.data=s,this.opts=Object.assign({},nv,n),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let c=(h,d,f,w)=>Object.defineProperty(h,d,{enumerable:f,writable:w});c(this,"__CACHE",!1,!0),c(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(n){this.setVersion(n)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(n){this.setLocktime(n)}get txInputs(){return this.__CACHE.__TX.ins.map(n=>({hash:(0,xu.cloneBuffer)(n.hash),index:n.index,sequence:n.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(n=>{let s;try{s=(0,eg.fromOutputScript)(n.script,this.opts.network)}catch{}return{script:(0,xu.cloneBuffer)(n.script),value:n.value,address:s}})}combine(...n){return this.data.combine(...n.map(s=>s.data)),this}clone(){let n=e.fromBuffer(this.data.toBuffer());return n.opts=JSON.parse(JSON.stringify(this.opts)),n}setMaximumFeeRate(n){Au(n),this.opts.maximumFeeRate=n}setVersion(n){Au(n),No(this.data.inputs,"setVersion");let s=this.__CACHE;return s.__TX.version=n,s.__EXTRACTED_TX=void 0,this}setLocktime(n){Au(n),No(this.data.inputs,"setLocktime");let s=this.__CACHE;return s.__TX.locktime=n,s.__EXTRACTED_TX=void 0,this}setInputSequence(n,s){Au(s),No(this.data.inputs,"setInputSequence");let c=this.__CACHE;if(c.__TX.ins.length<=n)throw new Error("Input index too high");return c.__TX.ins[n].sequence=s,c.__EXTRACTED_TX=void 0,this}addInputs(n){return n.forEach(s=>this.addInput(s)),this}addInput(n){if(arguments.length>1||!n||n.hash===void 0||n.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");No(this.data.inputs,"addInput"),n.witnessScript&&Pu(n.witnessScript);let s=this.__CACHE;this.data.addInput(n);let c=s.__TX.ins[s.__TX.ins.length-1];cg(s,c);let h=this.data.inputs.length-1,d=this.data.inputs[h];return d.nonWitnessUtxo&&aa(this.__CACHE,d,h),s.__FEE=void 0,s.__FEE_RATE=void 0,s.__EXTRACTED_TX=void 0,this}addOutputs(n){return n.forEach(s=>this.addOutput(s)),this}addOutput(n){if(arguments.length>1||!n||n.value===void 0||n.address===void 0&&n.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");No(this.data.inputs,"addOutput");let{address:s}=n;if(typeof s=="string"){let{network:h}=this.opts,d=(0,eg.toOutputScript)(s,h);n=Object.assign(n,{script:d})}let c=this.__CACHE;return this.data.addOutput(n),c.__FEE=void 0,c.__FEE_RATE=void 0,c.__EXTRACTED_TX=void 0,this}extractTransaction(n){if(!this.data.inputs.every(sg))throw new Error("Not finalized");let s=this.__CACHE;if(n||sv(this,s,this.opts),s.__EXTRACTED_TX)return s.__EXTRACTED_TX;let c=s.__TX.clone();return lg(this.data.inputs,c,s,!0),c}getFeeRate(){return og("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return og("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,_r.checkForInput)(this.data.inputs,0),vu(this.data.inputs.length).forEach(n=>this.finalizeInput(n)),this}finalizeInput(n,s){let c=(0,_r.checkForInput)(this.data.inputs,n);return this._finalizeInput(n,c,s)}_finalizeInput(n,s,c=av){let{script:h,isP2SH:d,isP2WSH:f,isSegwit:w}=gv(n,s,this.__CACHE);if(!h)throw new Error(`No script found for input #${n}`);uv(s);let{finalScriptSig:S,finalScriptWitness:U}=c(n,s,h,w,d,f);if(S&&this.data.updateInput(n,{finalScriptSig:S}),U&&this.data.updateInput(n,{finalScriptWitness:U}),!S&&!U)throw new Error(`Unknown error finalizing input #${n}`);return this.data.clearFinalizedInput(n),this}getInputType(n){let s=(0,_r.checkForInput)(this.data.inputs,n),c=pg(n,s,this.__CACHE),h=Uu(c,n,"input",s.redeemScript||Iv(s.finalScriptSig),s.witnessScript||bv(s.finalScriptWitness)),d=h.type==="raw"?"":h.type+"-",f=gg(h.meaningfulScript);return d+f}inputHasPubkey(n,s){let c=(0,_r.checkForInput)(this.data.inputs,n);return Ev(s,c,n,this.__CACHE)}inputHasHDKey(n,s){let c=(0,_r.checkForInput)(this.data.inputs,n),h=rg(s);return!!c.bip32Derivation&&c.bip32Derivation.some(h)}outputHasPubkey(n,s){let c=(0,_r.checkForOutput)(this.data.outputs,n);return Sv(s,c,n,this.__CACHE)}outputHasHDKey(n,s){let c=(0,_r.checkForOutput)(this.data.outputs,n),h=rg(s);return!!c.bip32Derivation&&c.bip32Derivation.some(h)}validateSignaturesOfAllInputs(n){return(0,_r.checkForInput)(this.data.inputs,0),vu(this.data.inputs.length).map(c=>this.validateSignaturesOfInput(c,n)).reduce((c,h)=>h===!0&&c,!0)}validateSignaturesOfInput(n,s,c){return this._validateSignaturesOfInput(n,s,c)}_validateSignaturesOfInput(n,s,c){let h=this.data.inputs[n],d=(h||{}).partialSig;if(!h||!d||d.length<1)throw new Error("No signatures to validate");if(typeof s!="function")throw new Error("Need validator function to validate signatures");let f=c?d.filter(v=>v.pubkey.equals(c)):d;if(f.length<1)throw new Error("No signatures for this pubkey");let w=[],S,U,P;for(let v of f){let H=mn.signature.decode(v.signature),{hash:C,script:k}=P!==H.hashType?ag(n,Object.assign({},h,{sighashType:H.hashType}),this.__CACHE,!0):{hash:S,script:U};P=H.hashType,S=C,U=k,ug(v.pubkey,k,"verify"),w.push(s(v.pubkey,C,H.signature))}return w.every(v=>v===!0)}signAllInputsHD(n,s=[mr.Transaction.SIGHASH_ALL]){if(!n||!n.publicKey||!n.fingerprint)throw new Error("Need HDSigner to sign input");let c=[];for(let h of vu(this.data.inputs.length))try{this.signInputHD(h,n,s),c.push(!0)}catch{c.push(!1)}if(c.every(h=>h===!1))throw new Error("No inputs were signed");return this}signInputHD(n,s,c=[mr.Transaction.SIGHASH_ALL]){if(!s||!s.publicKey||!s.fingerprint)throw new Error("Need HDSigner to sign input");return yv(n,this.data.inputs,s).forEach(d=>this.signInput(n,d,c)),this}signAllInputs(n,s){if(!n||!n.publicKey)throw new Error("Need Signer to sign input");let c=[];for(let h of vu(this.data.inputs.length))try{this.signInput(h,n,s),c.push(!0)}catch{c.push(!1)}if(c.every(h=>h===!1))throw new Error("No inputs were signed");return this}signInput(n,s,c){if(!s||!s.publicKey)throw new Error("Need Signer to sign input");return this._signInput(n,s,c)}_signInput(n,s,c=[mr.Transaction.SIGHASH_ALL]){let{hash:h,sighashType:d}=lv(this.data.inputs,n,T.from(s.publicKey),this.__CACHE,c),f=(0,rv.randomBytes)(48),w=T.alloc(1);w.writeUint8(7);let S=[{pubkey:T.concat([w,s.publicKey]),signature:mn.signature.encode(T.from(s.sign(h,f)),d)}];return this.data.updateInput(n,{partialSig:S}),this}toBuffer(){return ca(this.__CACHE),this.data.toBuffer()}toHex(){return ca(this.__CACHE),this.data.toHex()}toBase64(){return ca(this.__CACHE),this.data.toBase64()}updateGlobal(n){return this.data.updateGlobal(n),this}updateInput(n,s){return s.witnessScript&&Pu(s.witnessScript),this.data.updateInput(n,s),s.nonWitnessUtxo&&aa(this.__CACHE,this.data.inputs[n],n),this}updateOutput(n,s){return this.data.updateOutput(n,s),this}addUnknownKeyValToGlobal(n){return this.data.addUnknownKeyValToGlobal(n),this}addUnknownKeyValToInput(n,s){return this.data.addUnknownKeyValToInput(n,s),this}addUnknownKeyValToOutput(n,s){return this.data.addUnknownKeyValToOutput(n,s),this}clearFinalizedInput(n){return this.data.clearFinalizedInput(n),this}};Cu.Psbt=fa;var iv=e=>new Ou(e),Ou=class{constructor(n=T.from([2,0,0,0,0,0,0,0,0,0])){this.tx=mr.Transaction.fromBuffer(n),cv(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(n){if(n.hash===void 0||n.index===void 0||!T.isBuffer(n.hash)&&typeof n.hash!="string"||typeof n.index!="number")throw new Error("Error adding input.");let s=typeof n.hash=="string"?(0,xu.reverseBuffer)(T.from(n.hash,"hex")):n.hash;this.tx.addInput(s,n.index,n.sequence)}addOutput(n){if(n.script===void 0||n.value===void 0||!T.isBuffer(n.script)||typeof n.value!="number")throw new Error("Error adding output.");this.tx.addOutput(n.script,n.value)}toBuffer(){return this.tx.toBuffer()}};function ov(e,n,s){switch(s){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return tg(1,e.partialSig);case"multisig":let c=nr.p2ms({output:n});return tg(c.m,e.partialSig,c.pubkeys);default:return!1}}function ca(e){if(e.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function tg(e,n,s){if(!n)return!1;let c;if(s?c=s.map(h=>n.find(d=>d.pubkey.equals(h))).filter(h=>!!h):c=n,c.length>e)throw new Error("Too many signatures");return c.length===e}function sg(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function rg(e){return n=>!(!n.masterFingerprint.equals(e.fingerprint)||!e.derivePath(n.path).publicKey.equals(n.pubkey))}function Au(e){if(typeof e!="number"||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function sv(e,n,s){let c=n.__FEE_RATE||e.getFeeRate(),h=n.__EXTRACTED_TX.virtualSize(),d=c*h;if(c>=s.maximumFeeRate)throw new Error(`Warning: You are paying around ${(d/1e8).toFixed(8)} in fees, which is ${c} satoshi per byte for a transaction with a VSize of ${h} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function No(e,n){e.forEach(s=>{if((0,et.checkInputForSig)(s,n))throw new Error("Can not modify transaction, signatures exist.")})}function uv(e){if(!e.sighashType||!e.partialSig)return;let{partialSig:n,sighashType:s}=e;n.forEach(c=>{let{hashType:h}=mn.signature.decode(c.signature);if(s!==h)throw new Error("Signature sighash does not match input sighash type")})}function ug(e,n,s){if(!(0,et.pubkeyInScript)(e,n))throw new Error(`Can not ${s} for this input with the key ${e.toString("hex")}`)}function cv(e){if(!e.ins.every(s=>s.script&&s.script.length===0&&s.witness&&s.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function fv(e,n){e.ins.forEach(s=>{cg(n,s)})}function cg(e,n){let s=(0,xu.reverseBuffer)(T.from(n.hash)).toString("hex")+":"+n.index;if(e.__TX_IN_CACHE[s])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[s]=1}function fg(e,n){return(s,c,h,d)=>{let f=e({redeem:{output:h}}).output;if(!c.equals(f))throw new Error(`${n} for ${d} #${s} doesn't match the scriptPubKey in the prevout`)}}var ng=fg(nr.p2sh,"Redeem script"),ig=fg(nr.p2wsh,"Witness script");function og(e,n,s,c){if(!s.every(sg))throw new Error(`PSBT must be finalized to calculate ${n}`);if(e==="__FEE_RATE"&&c.__FEE_RATE)return c.__FEE_RATE;if(e==="__FEE"&&c.__FEE)return c.__FEE;let h,d=!0;if(c.__EXTRACTED_TX?(h=c.__EXTRACTED_TX,d=!1):h=c.__TX.clone(),lg(s,h,c,d),e==="__FEE_RATE")return c.__FEE_RATE;if(e==="__FEE")return c.__FEE}function av(e,n,s,c,h,d){let f=gg(s);if(!ov(n,s,f))throw new Error(`Can not finalize input #${e}`);return hv(s,f,n.partialSig,c,h,d)}function hv(e,n,s,c,h,d){let f,w,S=dv(e,n,s),U=d?nr.p2wsh({redeem:S}):null,P=h?nr.p2sh({redeem:U||S}):null;return c?(U?w=(0,et.witnessStackToScriptWitness)(U.witness):w=(0,et.witnessStackToScriptWitness)(S.witness),P&&(f=P.input)):P?f=P.input:f=S.input,{finalScriptSig:f,finalScriptWitness:w}}function lv(e,n,s,c,h){let d=(0,_r.checkForInput)(e,n),{hash:f,sighashType:w,script:S}=ag(n,d,c,!1,h);return ug(s,S,"sign"),{hash:f,sighashType:w}}function ag(e,n,s,c,h){let d=s.__TX,f=n.sighashType||mr.Transaction.SIGHASH_ALL;pv(f,h);let w,S;if(n.nonWitnessUtxo){let v=Bu(s,n,e),H=d.ins[e].hash,C=v.getHash();if(!H.equals(C))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);let k=d.ins[e].index;S=v.outs[k]}else if(n.witnessUtxo)S=n.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:U,type:P}=Uu(S.script,e,"input",n.redeemScript,n.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(P)>=0)w=d.hashForWitnessV0(e,U,S.value,f);else if((0,et.isP2WPKH)(U)){let v=nr.p2pkh({hash:U.slice(2)}).output;w=d.hashForWitnessV0(e,v,S.value,f)}else{if(n.nonWitnessUtxo===void 0&&s.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${U.toString("hex")}`);!c&&s.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),w=d.hashForSignature(e,U,f)}return{script:U,sighashType:f,hash:w}}function pv(e,n){if(n&&n.indexOf(e)<0){let s=_v(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${s}`)}}function dv(e,n,s){let c;switch(n){case"multisig":let h=wv(e,s);c=nr.p2ms({output:e,signatures:h});break;case"pubkey":c=nr.p2pk({output:e,signature:s[0].signature});break;case"pubkeyhash":c=nr.p2pkh({output:e,pubkey:s[0].pubkey,signature:s[0].signature});break;case"witnesspubkeyhash":c=nr.p2wpkh({output:e,pubkey:s[0].pubkey,signature:s[0].signature});break}return c}function gv(e,n,s){let c=s.__TX,h={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(h.isP2SH=!!n.redeemScript,h.isP2WSH=!!n.witnessScript,n.witnessScript)h.script=n.witnessScript;else if(n.redeemScript)h.script=n.redeemScript;else if(n.nonWitnessUtxo){let d=Bu(s,n,e),f=c.ins[e].index;h.script=d.outs[f].script}else n.witnessUtxo&&(h.script=n.witnessUtxo.script);return(n.witnessScript||(0,et.isP2WPKH)(h.script))&&(h.isSegwit=!0),h}function yv(e,n,s){let c=(0,_r.checkForInput)(n,e);if(!c.bip32Derivation||c.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let h=c.bip32Derivation.map(f=>{if(f.masterFingerprint.equals(s.fingerprint))return f}).filter(f=>!!f);if(h.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return h.map(f=>{let w=s.derivePath(f.path);if(!f.pubkey.equals(w.publicKey))throw new Error("pubkey did not match bip32Derivation");return w})}function wv(e,n){return nr.p2ms({output:e}).pubkeys.map(c=>(n.filter(h=>h.pubkey.equals(c))[0]||{}).signature).filter(c=>!!c)}function hg(e){let n=0;function s(f){return n+=f,e.slice(n-f,n)}function c(){let f=Q0.decode(e,n);return n+=Q0.decode.bytes,f}function h(){return s(c())}function d(){let f=c(),w=[];for(let S=0;S<f;S++)w.push(h());return w}return d()}function _v(e){let n=e&mr.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(e&31){case mr.Transaction.SIGHASH_ALL:n+="SIGHASH_ALL";break;case mr.Transaction.SIGHASH_SINGLE:n+="SIGHASH_SINGLE";break;case mr.Transaction.SIGHASH_NONE:n+="SIGHASH_NONE";break}return n}function aa(e,n,s){e.__NON_WITNESS_UTXO_BUF_CACHE[s]=n.nonWitnessUtxo;let c=mr.Transaction.fromBuffer(n.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[s]=c;let h=e,d=s;delete n.nonWitnessUtxo,Object.defineProperty(n,"nonWitnessUtxo",{enumerable:!0,get(){let f=h.__NON_WITNESS_UTXO_BUF_CACHE[d],w=h.__NON_WITNESS_UTXO_TX_CACHE[d];if(f!==void 0)return f;{let S=w.toBuffer();return h.__NON_WITNESS_UTXO_BUF_CACHE[d]=S,S}},set(f){h.__NON_WITNESS_UTXO_BUF_CACHE[d]=f}})}function lg(e,n,s,c){let h=0;e.forEach((S,U)=>{if(c&&S.finalScriptSig&&(n.ins[U].script=S.finalScriptSig),c&&S.finalScriptWitness&&(n.ins[U].witness=hg(S.finalScriptWitness)),S.witnessUtxo)h+=S.witnessUtxo.value;else if(S.nonWitnessUtxo){let P=Bu(s,S,U),v=n.ins[U].index,H=P.outs[v];h+=H.value}});let d=n.outs.reduce((S,U)=>S+U.value,0),f=h-d;if(f<0)throw new Error("Outputs are spending more than Inputs");let w=n.virtualSize();s.__FEE=f,s.__EXTRACTED_TX=n,s.__FEE_RATE=Math.floor(f/w)}function Bu(e,n,s){let c=e.__NON_WITNESS_UTXO_TX_CACHE;return c[s]||aa(e,n,s),c[s]}function pg(e,n,s){let{script:c}=mv(e,n,s);return c}function mv(e,n,s){if(n.witnessUtxo!==void 0)return{script:n.witnessUtxo.script,value:n.witnessUtxo.value};if(n.nonWitnessUtxo!==void 0){let h=Bu(s,n,e).outs[s.__TX.ins[e].index];return{script:h.script,value:h.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function Ev(e,n,s,c){let h=pg(s,n,c),{meaningfulScript:d}=Uu(h,s,"input",n.redeemScript,n.witnessScript);return(0,et.pubkeyInScript)(e,d)}function Sv(e,n,s,c){let h=c.__TX.outs[s].script,{meaningfulScript:d}=Uu(h,s,"output",n.redeemScript,n.witnessScript);return(0,et.pubkeyInScript)(e,d)}function Iv(e){if(!e)return;let n=mn.decompile(e);if(!n)return;let s=n[n.length-1];if(!(!T.isBuffer(s)||dg(s)||Tv(s)||!mn.decompile(s)))return s}function bv(e){if(!e)return;let n=hg(e),s=n[n.length-1];if(!(dg(s)||!mn.decompile(s)))return s}function dg(e){return e.length===898&&mn.isCanonicalPubKey(e)}function Tv(e){return mn.isCanonicalScriptSignature(e)}function Uu(e,n,s,c,h){let d=(0,et.isP2SHScript)(e),f=d&&c&&(0,et.isP2WSHScript)(c),w=(0,et.isP2WSHScript)(e);if(d&&c===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((w||f)&&h===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let S;return f?(S=h,ng(n,e,c,s),ig(n,c,h,s),Pu(S)):w?(S=h,ig(n,e,h,s),Pu(S)):d?(S=c,ng(n,e,c,s)):S=e,{meaningfulScript:S,type:f?"p2sh-p2wsh":d?"p2sh":w?"p2wsh":"raw"}}function Pu(e){if((0,et.isP2WPKH)(e)||(0,et.isP2SHScript)(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function gg(e){return(0,et.isP2WPKH)(e)?"witnesspubkeyhash":(0,et.isP2PKH)(e)?"pubkeyhash":(0,et.isP2MS)(e)?"multisig":(0,et.isP2PK)(e)?"pubkey":"nonstandard"}function vu(e){return[...Array(e).keys()]}});var wg=G(He=>{"use strict";O();Object.defineProperty(He,"__esModule",{value:!0});He.Transaction=He.opcodes=He.Psbt=He.Block=He.script=He.payments=He.networks=He.crypto=He.address=void 0;var Av=Nf();He.address=Av;var vv=Wr();He.crypto=vv;var xv=tr();He.networks=xv;var Ov=So();He.payments=Ov;var Pv=St();He.script=Pv;var Bv=o0();Object.defineProperty(He,"Block",{enumerable:!0,get:function(){return Bv.Block}});var Uv=yg();Object.defineProperty(He,"Psbt",{enumerable:!0,get:function(){return Uv.Psbt}});var Cv=Cs();Object.defineProperty(He,"opcodes",{enumerable:!0,get:function(){return Cv.OPS}});var Nv=vo();Object.defineProperty(He,"Transaction",{enumerable:!0,get:function(){return Nv.Transaction}})});var mg=G(ir=>{"use strict";O();var Ro=ir&&ir.__awaiter||function(e,n,s,c){function h(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function w(P){try{U(c.next(P))}catch(v){f(v)}}function S(P){try{U(c.throw(P))}catch(v){f(v)}}function U(P){P.done?d(P.value):h(P.value).then(w,S)}U((c=c.apply(e,n||[])).next())})};Object.defineProperty(ir,"__esModule",{value:!0});ir.OrdTransaction=ir.utxoToInput=ir.UTXOAddressType=void 0;var Rv=sp(),ha=wg(),Mi;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2WPKH=1]="P2WPKH",e[e.P2SH_P2WPKH=2]="P2SH_P2WPKH",e[e.M44_P2WPKH=3]="M44_P2WPKH"})(Mi=ir.UTXOAddressType||(ir.UTXOAddressType={}));function _g(e,n){if(e.addressType===Mi.P2WPKH||e.addressType===Mi.M44_P2WPKH||e.addressType===Mi.P2PKH)return{data:{hash:e.txId,index:e.outputIndex,witnessUtxo:{value:e.satoshis,script:T.from(e.scriptPk,"hex")}},utxo:e};if(e.addressType===Mi.P2SH_P2WPKH){let s=ha.payments.p2wpkh({pubkey:n});return{data:{hash:e.txId,index:e.outputIndex,witnessUtxo:{value:e.satoshis,script:T.from(e.scriptPk,"hex")},redeemScript:s.output},utxo:e}}}ir.utxoToInput=_g;var la=class{constructor(n,s,c,h){this.inputs=[],this.outputs=[],this.changeOutputIndex=-1,this.network=ha.networks.TIDECOIN,this.enableRBF=!0,this.signTransaction=n,this.network=s,this.pubkey=c,this.feeRate=h||5}setEnableRBF(n){this.enableRBF=n}setChangeAddress(n){this.changedAddress=n}addInput(n){let s=_g(n,T.from(this.pubkey,"hex"));s&&this.inputs.push(s)}getTotalInput(){return this.inputs.reduce((n,s)=>n+s.data.witnessUtxo.value,0)}getTotalOutput(){return this.outputs.reduce((n,s)=>n+s.value,0)}getUnspent(){return this.getTotalInput()-this.getTotalOutput()}isEnoughFee(){return Ro(this,void 0,void 0,function*(){return(yield this.createSignedPsbt()).getFeeRate()>=this.feeRate})}calNetworkFee(){return Ro(this,void 0,void 0,function*(){let n=yield this.createSignedPsbt(),s=n.extractTransaction(!0).toBuffer().length;return n.data.inputs.forEach(h=>{h.finalScriptWitness&&(s-=h.finalScriptWitness.length*.75)}),Math.ceil(s*this.feeRate)})}addOutput(n,s){this.outputs.push({address:n,value:s})}getOutput(n){return this.outputs[n]}addChangeOutput(n){this.outputs.push({address:this.changedAddress,value:n}),this.changeOutputIndex=this.outputs.length-1}getChangeOutput(){return this.outputs[this.changeOutputIndex]}getChangeAmount(){let n=this.getChangeOutput();return n?n.value:0}removeChangeOutput(){this.outputs.splice(this.changeOutputIndex,1),this.changeOutputIndex=-1}removeRecentOutputs(n){this.outputs.splice(-n)}createSignedPsbt(){return Ro(this,void 0,void 0,function*(){let n=new ha.Psbt({network:this.network});return this.inputs.forEach((s,c)=>{s.utxo.addressType===Mi.P2PKH&&(n.__CACHE.__UNSAFE_SIGN_NONSEGWIT=!0),n.addInput(s.data),this.enableRBF&&n.setInputSequence(c,4294967293)}),this.outputs.forEach(s=>{n.addOutput(s)}),yield this.signTransaction(n),n})}generate(n){return Ro(this,void 0,void 0,function*(){let s=this.getUnspent();this.addChangeOutput(Math.max(s,0));let c=yield this.createSignedPsbt();this.removeChangeOutput();let d=c.extractTransaction().toBuffer().length*this.feeRate;if(s>d){let P=s-d;P>Rv.UTXO_DUST&&this.addChangeOutput(P)}else n&&(this.outputs[0].value-=d-s);let f=yield this.createSignedPsbt(),S=f.extractTransaction().toHex(),U=this.outputs[0].value;return{fee:f.getFee(),rawtx:S,toSatoshis:U,estimateFee:d}})}dumpTx(n){return Ro(this,void 0,void 0,function*(){let s=n.extractTransaction(),c=s.toBuffer().length,h=n.getFee(),d=n.getFeeRate();console.log(`
=============================================================================================
Summary
  txid:     ${s.getId()}
  Size:     ${s.byteLength()}
  Fee Paid: ${n.getFee()}
  Fee Rate: ${d} sat/vB
  Detail:   ${n.txInputs.length} Inputs, ${n.txOutputs.length} Outputs
----------------------------------------------------------------------------------------------
Inputs
${this.inputs.map((f,w)=>`
=>${w} ${f.data.witnessUtxo.value} Sats
        lock-size: ${f.data.witnessUtxo.script.length}
        via ${f.data.hash} [${f.data.index}]
`).join("")}
total: ${this.getTotalInput()} Sats
----------------------------------------------------------------------------------------------
Outputs
${this.outputs.map((f,w)=>`
=>${w} ${f.address} ${f.value} Sats`).join("")}

total: ${this.getTotalOutput()} Sats
=============================================================================================
    `)})}};ir.OrdTransaction=la});var Eg=G(Qn=>{"use strict";O();Object.defineProperty(Qn,"__esModule",{value:!0});Qn.DISALLOWED_CHILD_METHODS=Qn.AddressType=void 0;var kv;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2WPKH=1]="P2WPKH",e[e.P2SH=2]="P2SH"})(kv=Qn.AddressType||(Qn.AddressType={}));Qn.DISALLOWED_CHILD_METHODS=["deserialize","serialize","getAccounts","generate"]});var Bg=G((wB,Pg)=>{O();Pg.exports=ko;ko.default=ko;ko.stable=xg;ko.stableStringify=xg;var Ru="[...]",Ag="[Circular]",ti=[],ei=[];function vg(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ko(e,n,s,c){typeof c>"u"&&(c=vg()),da(e,"",0,[],void 0,0,c);var h;try{ei.length===0?h=JSON.stringify(e,n,s):h=JSON.stringify(e,Og(n),s)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ti.length!==0;){var d=ti.pop();d.length===4?Object.defineProperty(d[0],d[1],d[3]):d[0][d[1]]=d[2]}}return h}function Fi(e,n,s,c){var h=Object.getOwnPropertyDescriptor(c,s);h.get!==void 0?h.configurable?(Object.defineProperty(c,s,{value:e}),ti.push([c,s,n,h])):ei.push([n,s,e]):(c[s]=e,ti.push([c,s,n]))}function da(e,n,s,c,h,d,f){d+=1;var w;if(typeof e=="object"&&e!==null){for(w=0;w<c.length;w++)if(c[w]===e){Fi(Ag,e,n,h);return}if(typeof f.depthLimit<"u"&&d>f.depthLimit){Fi(Ru,e,n,h);return}if(typeof f.edgesLimit<"u"&&s+1>f.edgesLimit){Fi(Ru,e,n,h);return}if(c.push(e),Array.isArray(e))for(w=0;w<e.length;w++)da(e[w],w,w,c,e,d,f);else{var S=Object.keys(e);for(w=0;w<S.length;w++){var U=S[w];da(e[U],U,w,c,e,d,f)}}c.pop()}}function Lv(e,n){return e<n?-1:e>n?1:0}function xg(e,n,s,c){typeof c>"u"&&(c=vg());var h=ga(e,"",0,[],void 0,0,c)||e,d;try{ei.length===0?d=JSON.stringify(h,n,s):d=JSON.stringify(h,Og(n),s)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ti.length!==0;){var f=ti.pop();f.length===4?Object.defineProperty(f[0],f[1],f[3]):f[0][f[1]]=f[2]}}return d}function ga(e,n,s,c,h,d,f){d+=1;var w;if(typeof e=="object"&&e!==null){for(w=0;w<c.length;w++)if(c[w]===e){Fi(Ag,e,n,h);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof f.depthLimit<"u"&&d>f.depthLimit){Fi(Ru,e,n,h);return}if(typeof f.edgesLimit<"u"&&s+1>f.edgesLimit){Fi(Ru,e,n,h);return}if(c.push(e),Array.isArray(e))for(w=0;w<e.length;w++)ga(e[w],w,w,c,e,d,f);else{var S={},U=Object.keys(e).sort(Lv);for(w=0;w<U.length;w++){var P=U[w];ga(e[P],P,w,c,e,d,f),S[P]=e[P]}if(typeof h<"u")ti.push([h,n,e]),h[n]=S;else return S}c.pop()}}function Og(e){return e=typeof e<"u"?e:function(n,s){return s},function(n,s){if(ei.length>0)for(var c=0;c<ei.length;c++){var h=ei[c];if(h[1]===n&&h[0]===s){s=h[2],ei.splice(c,1);break}}return e.call(this,n,s)}}});var Lu=G(Di=>{"use strict";O();Object.defineProperty(Di,"__esModule",{value:!0});Di.EthereumProviderError=Di.EthereumRpcError=void 0;var Mv=Bg(),ku=class extends Error{constructor(n,s,c){if(!Number.isInteger(n))throw new Error('"code" must be an integer.');if(!s||typeof s!="string")throw new Error('"message" must be a nonempty string.');super(s),this.code=n,c!==void 0&&(this.data=c)}serialize(){let n={code:this.code,message:this.message};return this.data!==void 0&&(n.data=this.data),this.stack&&(n.stack=this.stack),n}toString(){return Mv.default(this.serialize(),Fv,2)}};Di.EthereumRpcError=ku;var ya=class extends ku{constructor(n,s,c){if(!Hv(n))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(n,s,c)}};Di.EthereumProviderError=ya;function Hv(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function Fv(e,n){if(n!=="[Circular]")return n}});var Mu=G(Wi=>{"use strict";O();Object.defineProperty(Wi,"__esModule",{value:!0});Wi.errorValues=Wi.errorCodes=void 0;Wi.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Wi.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});var ma=G(or=>{"use strict";O();Object.defineProperty(or,"__esModule",{value:!0});or.serializeError=or.isValidCode=or.getMessageFromCode=or.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var Hu=Mu(),Dv=Lu(),Ug=Hu.errorCodes.rpc.internal,Wv="Unspecified error message. This is a bug, please report it.",qv={code:Ug,message:_a(Ug)};or.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function _a(e,n=Wv){if(Number.isInteger(e)){let s=e.toString();if(wa(Hu.errorValues,s))return Hu.errorValues[s].message;if(Rg(e))return or.JSON_RPC_SERVER_ERROR_MESSAGE}return n}or.getMessageFromCode=_a;function Ng(e){if(!Number.isInteger(e))return!1;let n=e.toString();return!!(Hu.errorValues[n]||Rg(e))}or.isValidCode=Ng;function Kv(e,{fallbackError:n=qv,shouldIncludeStack:s=!1}={}){var c,h;if(!n||!Number.isInteger(n.code)||typeof n.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof Dv.EthereumRpcError)return e.serialize();let d={};if(e&&typeof e=="object"&&!Array.isArray(e)&&wa(e,"code")&&Ng(e.code)){let w=e;d.code=w.code,w.message&&typeof w.message=="string"?(d.message=w.message,wa(w,"data")&&(d.data=w.data)):(d.message=_a(d.code),d.data={originalError:Cg(e)})}else{d.code=n.code;let w=(c=e)===null||c===void 0?void 0:c.message;d.message=w&&typeof w=="string"?w:n.message,d.data={originalError:Cg(e)}}let f=(h=e)===null||h===void 0?void 0:h.stack;return s&&e&&f&&typeof f=="string"&&(d.stack=f),d}or.serializeError=Kv;function Rg(e){return e>=-32099&&e<=-32e3}function Cg(e){return e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e}function wa(e,n){return Object.prototype.hasOwnProperty.call(e,n)}});var Mg=G(Fu=>{"use strict";O();Object.defineProperty(Fu,"__esModule",{value:!0});Fu.ethErrors=void 0;var Ea=Lu(),kg=ma(),ut=Mu();Fu.ethErrors={rpc:{parse:e=>jt(ut.errorCodes.rpc.parse,e),invalidRequest:e=>jt(ut.errorCodes.rpc.invalidRequest,e),invalidParams:e=>jt(ut.errorCodes.rpc.invalidParams,e),methodNotFound:e=>jt(ut.errorCodes.rpc.methodNotFound,e),internal:e=>jt(ut.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:n}=e;if(!Number.isInteger(n)||n>-32005||n<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return jt(n,e)},invalidInput:e=>jt(ut.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>jt(ut.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>jt(ut.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>jt(ut.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>jt(ut.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>jt(ut.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Lo(ut.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>Lo(ut.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>Lo(ut.errorCodes.provider.unsupportedMethod,e),disconnected:e=>Lo(ut.errorCodes.provider.disconnected,e),chainDisconnected:e=>Lo(ut.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");let{code:n,message:s,data:c}=e;if(!s||typeof s!="string")throw new Error('"message" must be a nonempty string');return new Ea.EthereumProviderError(n,s,c)}}};function jt(e,n){let[s,c]=Lg(n);return new Ea.EthereumRpcError(e,s||kg.getMessageFromCode(e),c)}function Lo(e,n){let[s,c]=Lg(n);return new Ea.EthereumProviderError(e,s||kg.getMessageFromCode(e),c)}function Lg(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){let{message:n,data:s}=e;if(n&&typeof n!="string")throw new Error("Must specify string message.");return[n||void 0,s]}}return[]}});var Dg=G(Tt=>{"use strict";O();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.getMessageFromCode=Tt.serializeError=Tt.EthereumProviderError=Tt.EthereumRpcError=Tt.ethErrors=Tt.errorCodes=void 0;var Hg=Lu();Object.defineProperty(Tt,"EthereumRpcError",{enumerable:!0,get:function(){return Hg.EthereumRpcError}});Object.defineProperty(Tt,"EthereumProviderError",{enumerable:!0,get:function(){return Hg.EthereumProviderError}});var Fg=ma();Object.defineProperty(Tt,"serializeError",{enumerable:!0,get:function(){return Fg.serializeError}});Object.defineProperty(Tt,"getMessageFromCode",{enumerable:!0,get:function(){return Fg.getMessageFromCode}});var Gv=Mg();Object.defineProperty(Tt,"ethErrors",{enumerable:!0,get:function(){return Gv.ethErrors}});var $v=Mu();Object.defineProperty(Tt,"errorCodes",{enumerable:!0,get:function(){return $v.errorCodes}})});var Jg=G((PB,Sa)=>{"use strict";O();var qi=typeof Reflect=="object"?Reflect:null,Wg=qi&&typeof qi.apply=="function"?qi.apply:function(n,s,c){return Function.prototype.apply.call(n,s,c)},Du;qi&&typeof qi.ownKeys=="function"?Du=qi.ownKeys:Object.getOwnPropertySymbols?Du=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Du=function(n){return Object.getOwnPropertyNames(n)};function Vv(e){console&&console.warn&&console.warn(e)}var Kg=Number.isNaN||function(n){return n!==n};function Ie(){Ie.init.call(this)}Sa.exports=Ie;Sa.exports.once=Yv;Ie.EventEmitter=Ie;Ie.prototype._events=void 0;Ie.prototype._eventsCount=0;Ie.prototype._maxListeners=void 0;var qg=10;function Wu(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ie,"defaultMaxListeners",{enumerable:!0,get:function(){return qg},set:function(e){if(typeof e!="number"||e<0||Kg(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");qg=e}});Ie.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ie.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||Kg(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function Gg(e){return e._maxListeners===void 0?Ie.defaultMaxListeners:e._maxListeners}Ie.prototype.getMaxListeners=function(){return Gg(this)};Ie.prototype.emit=function(n){for(var s=[],c=1;c<arguments.length;c++)s.push(arguments[c]);var h=n==="error",d=this._events;if(d!==void 0)h=h&&d.error===void 0;else if(!h)return!1;if(h){var f;if(s.length>0&&(f=s[0]),f instanceof Error)throw f;var w=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw w.context=f,w}var S=d[n];if(S===void 0)return!1;if(typeof S=="function")Wg(S,this,s);else for(var U=S.length,P=zg(S,U),c=0;c<U;++c)Wg(P[c],this,s);return!0};function $g(e,n,s,c){var h,d,f;if(Wu(s),d=e._events,d===void 0?(d=e._events=Object.create(null),e._eventsCount=0):(d.newListener!==void 0&&(e.emit("newListener",n,s.listener?s.listener:s),d=e._events),f=d[n]),f===void 0)f=d[n]=s,++e._eventsCount;else if(typeof f=="function"?f=d[n]=c?[s,f]:[f,s]:c?f.unshift(s):f.push(s),h=Gg(e),h>0&&f.length>h&&!f.warned){f.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=e,w.type=n,w.count=f.length,Vv(w)}return e}Ie.prototype.addListener=function(n,s){return $g(this,n,s,!1)};Ie.prototype.on=Ie.prototype.addListener;Ie.prototype.prependListener=function(n,s){return $g(this,n,s,!0)};function Xv(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Vg(e,n,s){var c={fired:!1,wrapFn:void 0,target:e,type:n,listener:s},h=Xv.bind(c);return h.listener=s,c.wrapFn=h,h}Ie.prototype.once=function(n,s){return Wu(s),this.on(n,Vg(this,n,s)),this};Ie.prototype.prependOnceListener=function(n,s){return Wu(s),this.prependListener(n,Vg(this,n,s)),this};Ie.prototype.removeListener=function(n,s){var c,h,d,f,w;if(Wu(s),h=this._events,h===void 0)return this;if(c=h[n],c===void 0)return this;if(c===s||c.listener===s)--this._eventsCount===0?this._events=Object.create(null):(delete h[n],h.removeListener&&this.emit("removeListener",n,c.listener||s));else if(typeof c!="function"){for(d=-1,f=c.length-1;f>=0;f--)if(c[f]===s||c[f].listener===s){w=c[f].listener,d=f;break}if(d<0)return this;d===0?c.shift():jv(c,d),c.length===1&&(h[n]=c[0]),h.removeListener!==void 0&&this.emit("removeListener",n,w||s)}return this};Ie.prototype.off=Ie.prototype.removeListener;Ie.prototype.removeAllListeners=function(n){var s,c,h;if(c=this._events,c===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[n]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete c[n]),this;if(arguments.length===0){var d=Object.keys(c),f;for(h=0;h<d.length;++h)f=d[h],f!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(s=c[n],typeof s=="function")this.removeListener(n,s);else if(s!==void 0)for(h=s.length-1;h>=0;h--)this.removeListener(n,s[h]);return this};function Xg(e,n,s){var c=e._events;if(c===void 0)return[];var h=c[n];return h===void 0?[]:typeof h=="function"?s?[h.listener||h]:[h]:s?zv(h):zg(h,h.length)}Ie.prototype.listeners=function(n){return Xg(this,n,!0)};Ie.prototype.rawListeners=function(n){return Xg(this,n,!1)};Ie.listenerCount=function(e,n){return typeof e.listenerCount=="function"?e.listenerCount(n):jg.call(e,n)};Ie.prototype.listenerCount=jg;function jg(e){var n=this._events;if(n!==void 0){var s=n[e];if(typeof s=="function")return 1;if(s!==void 0)return s.length}return 0}Ie.prototype.eventNames=function(){return this._eventsCount>0?Du(this._events):[]};function zg(e,n){for(var s=new Array(n),c=0;c<n;++c)s[c]=e[c];return s}function jv(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}function zv(e){for(var n=new Array(e.length),s=0;s<n.length;++s)n[s]=e[s].listener||e[s];return n}function Yv(e,n){return new Promise(function(s,c){function h(f){e.removeListener(n,d),c(f)}function d(){typeof e.removeListener=="function"&&e.removeListener("error",h),s([].slice.call(arguments))}Yg(e,n,d,{once:!0}),n!=="error"&&Jv(e,h,{once:!0})})}function Jv(e,n,s){typeof e.on=="function"&&Yg(e,"error",n,s)}function Yg(e,n,s,c){if(typeof e.on=="function")c.once?e.once(n,s):e.on(n,s);else if(typeof e.addEventListener=="function")e.addEventListener(n,function h(d){c.once&&e.removeEventListener(n,h),s(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var ey=G((Ki,Ho)=>{O();(function(){var e,n="4.17.21",s=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",d="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",w=500,S="__lodash_placeholder__",U=1,P=2,v=4,H=1,C=2,k=1,D=2,W=4,V=8,X=16,z=32,Q=64,Y=128,be=256,Xe=512,sr=30,Gi="...",$i=800,Vi=16,ri=1,En=2,Sn=3,zt=1/0,kt=9007199254740991,Xi=17976931348623157e292,Vr=NaN,dt=4294967295,he=dt-1,ye=dt>>>1,In=[["ary",Y],["bind",k],["bindKey",D],["curry",V],["curryRight",X],["flip",Xe],["partial",z],["partialRight",Q],["rearg",be]],Lt="[object Arguments]",ur="[object Array]",bn="[object AsyncFunction]",Yt="[object Boolean]",Fe="[object Date]",Er="[object DOMException]",cr="[object Error]",Xr="[object Function]",jr="[object GeneratorFunction]",Oe="[object Map]",je="[object Number]",ji="[object Null]",At="[object Object]",fr="[object Promise]",zi="[object Proxy]",Sr="[object RegExp]",ze="[object Set]",ct="[object String]",ve="[object Symbol]",Ir="[object Undefined]",br="[object WeakMap]",De="[object WeakSet]",Tr="[object ArrayBuffer]",a="[object DataView]",i="[object Float32Array]",o="[object Float64Array]",p="[object Int8Array]",y="[object Int16Array]",E="[object Int32Array]",b="[object Uint8Array]",q="[object Uint8ClampedArray]",ie="[object Uint16Array]",ee="[object Uint32Array]",oe=/\b__p \+= '';/g,Z=/\b(__p \+=) '' \+/g,ny=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Aa=/&(?:amp|lt|gt|quot|#39);/g,va=/[&<>"']/g,iy=RegExp(Aa.source),oy=RegExp(va.source),sy=/<%-([\s\S]+?)%>/g,uy=/<%([\s\S]+?)%>/g,xa=/<%=([\s\S]+?)%>/g,cy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fy=/^\w*$/,ay=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ku=/[\\^$.*+?()[\]{}|]/g,hy=RegExp(Ku.source),Gu=/^\s+/,ly=/\s/,py=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,dy=/\{\n\/\* \[wrapped with (.+)\] \*/,gy=/,? & /,yy=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wy=/[()=,{}\[\]\/\s]/,_y=/\\(\\)?/g,my=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oa=/\w*$/,Ey=/^[-+]0x[0-9a-f]+$/i,Sy=/^0b[01]+$/i,Iy=/^\[object .+?Constructor\]$/,by=/^0o[0-7]+$/i,Ty=/^(?:0|[1-9]\d*)$/,Ay=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fo=/($^)/,vy=/['\n\r\u2028\u2029\\]/g,Do="\\ud800-\\udfff",xy="\\u0300-\\u036f",Oy="\\ufe20-\\ufe2f",Py="\\u20d0-\\u20ff",Pa=xy+Oy+Py,Ba="\\u2700-\\u27bf",Ua="a-z\\xdf-\\xf6\\xf8-\\xff",By="\\xac\\xb1\\xd7\\xf7",Uy="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Cy="\\u2000-\\u206f",Ny=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ca="A-Z\\xc0-\\xd6\\xd8-\\xde",Na="\\ufe0e\\ufe0f",Ra=By+Uy+Cy+Ny,$u="['\u2019]",Ry="["+Do+"]",ka="["+Ra+"]",Wo="["+Pa+"]",La="\\d+",ky="["+Ba+"]",Ma="["+Ua+"]",Ha="[^"+Do+Ra+La+Ba+Ua+Ca+"]",Vu="\\ud83c[\\udffb-\\udfff]",Ly="(?:"+Wo+"|"+Vu+")",Fa="[^"+Do+"]",Xu="(?:\\ud83c[\\udde6-\\uddff]){2}",ju="[\\ud800-\\udbff][\\udc00-\\udfff]",ni="["+Ca+"]",Da="\\u200d",Wa="(?:"+Ma+"|"+Ha+")",My="(?:"+ni+"|"+Ha+")",qa="(?:"+$u+"(?:d|ll|m|re|s|t|ve))?",Ka="(?:"+$u+"(?:D|LL|M|RE|S|T|VE))?",Ga=Ly+"?",$a="["+Na+"]?",Hy="(?:"+Da+"(?:"+[Fa,Xu,ju].join("|")+")"+$a+Ga+")*",Fy="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dy="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Va=$a+Ga+Hy,Wy="(?:"+[ky,Xu,ju].join("|")+")"+Va,qy="(?:"+[Fa+Wo+"?",Wo,Xu,ju,Ry].join("|")+")",Ky=RegExp($u,"g"),Gy=RegExp(Wo,"g"),zu=RegExp(Vu+"(?="+Vu+")|"+qy+Va,"g"),$y=RegExp([ni+"?"+Ma+"+"+qa+"(?="+[ka,ni,"$"].join("|")+")",My+"+"+Ka+"(?="+[ka,ni+Wa,"$"].join("|")+")",ni+"?"+Wa+"+"+qa,ni+"+"+Ka,Dy,Fy,La,Wy].join("|"),"g"),Vy=RegExp("["+Da+Do+Pa+Na+"]"),Xy=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zy=-1,Pe={};Pe[i]=Pe[o]=Pe[p]=Pe[y]=Pe[E]=Pe[b]=Pe[q]=Pe[ie]=Pe[ee]=!0,Pe[Lt]=Pe[ur]=Pe[Tr]=Pe[Yt]=Pe[a]=Pe[Fe]=Pe[cr]=Pe[Xr]=Pe[Oe]=Pe[je]=Pe[At]=Pe[Sr]=Pe[ze]=Pe[ct]=Pe[br]=!1;var xe={};xe[Lt]=xe[ur]=xe[Tr]=xe[a]=xe[Yt]=xe[Fe]=xe[i]=xe[o]=xe[p]=xe[y]=xe[E]=xe[Oe]=xe[je]=xe[At]=xe[Sr]=xe[ze]=xe[ct]=xe[ve]=xe[b]=xe[q]=xe[ie]=xe[ee]=!0,xe[cr]=xe[Xr]=xe[br]=!1;var Yy={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Jy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ew=parseFloat,tw=parseInt,Xa=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,rw=typeof self=="object"&&self&&self.Object===Object&&self,Ge=Xa||rw||Function("return this")(),Yu=typeof Ki=="object"&&Ki&&!Ki.nodeType&&Ki,Tn=Yu&&typeof Ho=="object"&&Ho&&!Ho.nodeType&&Ho,ja=Tn&&Tn.exports===Yu,Ju=ja&&Xa.process,Mt=function(){try{var x=Tn&&Tn.require&&Tn.require("util").types;return x||Ju&&Ju.binding&&Ju.binding("util")}catch{}}(),za=Mt&&Mt.isArrayBuffer,Ya=Mt&&Mt.isDate,Ja=Mt&&Mt.isMap,Za=Mt&&Mt.isRegExp,Qa=Mt&&Mt.isSet,eh=Mt&&Mt.isTypedArray;function vt(x,R,N){switch(N.length){case 0:return x.call(R);case 1:return x.call(R,N[0]);case 2:return x.call(R,N[0],N[1]);case 3:return x.call(R,N[0],N[1],N[2])}return x.apply(R,N)}function nw(x,R,N,j){for(var se=-1,we=x==null?0:x.length;++se<we;){var We=x[se];R(j,We,N(We),x)}return j}function Ht(x,R){for(var N=-1,j=x==null?0:x.length;++N<j&&R(x[N],N,x)!==!1;);return x}function iw(x,R){for(var N=x==null?0:x.length;N--&&R(x[N],N,x)!==!1;);return x}function th(x,R){for(var N=-1,j=x==null?0:x.length;++N<j;)if(!R(x[N],N,x))return!1;return!0}function zr(x,R){for(var N=-1,j=x==null?0:x.length,se=0,we=[];++N<j;){var We=x[N];R(We,N,x)&&(we[se++]=We)}return we}function qo(x,R){var N=x==null?0:x.length;return!!N&&ii(x,R,0)>-1}function Zu(x,R,N){for(var j=-1,se=x==null?0:x.length;++j<se;)if(N(R,x[j]))return!0;return!1}function Be(x,R){for(var N=-1,j=x==null?0:x.length,se=Array(j);++N<j;)se[N]=R(x[N],N,x);return se}function Yr(x,R){for(var N=-1,j=R.length,se=x.length;++N<j;)x[se+N]=R[N];return x}function Qu(x,R,N,j){var se=-1,we=x==null?0:x.length;for(j&&we&&(N=x[++se]);++se<we;)N=R(N,x[se],se,x);return N}function ow(x,R,N,j){var se=x==null?0:x.length;for(j&&se&&(N=x[--se]);se--;)N=R(N,x[se],se,x);return N}function ec(x,R){for(var N=-1,j=x==null?0:x.length;++N<j;)if(R(x[N],N,x))return!0;return!1}var sw=tc("length");function uw(x){return x.split("")}function cw(x){return x.match(yy)||[]}function rh(x,R,N){var j;return N(x,function(se,we,We){if(R(se,we,We))return j=we,!1}),j}function Ko(x,R,N,j){for(var se=x.length,we=N+(j?1:-1);j?we--:++we<se;)if(R(x[we],we,x))return we;return-1}function ii(x,R,N){return R===R?Ew(x,R,N):Ko(x,nh,N)}function fw(x,R,N,j){for(var se=N-1,we=x.length;++se<we;)if(j(x[se],R))return se;return-1}function nh(x){return x!==x}function ih(x,R){var N=x==null?0:x.length;return N?nc(x,R)/N:Vr}function tc(x){return function(R){return R==null?e:R[x]}}function rc(x){return function(R){return x==null?e:x[R]}}function oh(x,R,N,j,se){return se(x,function(we,We,Te){N=j?(j=!1,we):R(N,we,We,Te)}),N}function aw(x,R){var N=x.length;for(x.sort(R);N--;)x[N]=x[N].value;return x}function nc(x,R){for(var N,j=-1,se=x.length;++j<se;){var we=R(x[j]);we!==e&&(N=N===e?we:N+we)}return N}function ic(x,R){for(var N=-1,j=Array(x);++N<x;)j[N]=R(N);return j}function hw(x,R){return Be(R,function(N){return[N,x[N]]})}function sh(x){return x&&x.slice(0,ah(x)+1).replace(Gu,"")}function xt(x){return function(R){return x(R)}}function oc(x,R){return Be(R,function(N){return x[N]})}function Yi(x,R){return x.has(R)}function uh(x,R){for(var N=-1,j=x.length;++N<j&&ii(R,x[N],0)>-1;);return N}function ch(x,R){for(var N=x.length;N--&&ii(R,x[N],0)>-1;);return N}function lw(x,R){for(var N=x.length,j=0;N--;)x[N]===R&&++j;return j}var pw=rc(Yy),dw=rc(Jy);function gw(x){return"\\"+Qy[x]}function yw(x,R){return x==null?e:x[R]}function oi(x){return Vy.test(x)}function ww(x){return Xy.test(x)}function _w(x){for(var R,N=[];!(R=x.next()).done;)N.push(R.value);return N}function sc(x){var R=-1,N=Array(x.size);return x.forEach(function(j,se){N[++R]=[se,j]}),N}function fh(x,R){return function(N){return x(R(N))}}function Jr(x,R){for(var N=-1,j=x.length,se=0,we=[];++N<j;){var We=x[N];(We===R||We===S)&&(x[N]=S,we[se++]=N)}return we}function Go(x){var R=-1,N=Array(x.size);return x.forEach(function(j){N[++R]=j}),N}function mw(x){var R=-1,N=Array(x.size);return x.forEach(function(j){N[++R]=[j,j]}),N}function Ew(x,R,N){for(var j=N-1,se=x.length;++j<se;)if(x[j]===R)return j;return-1}function Sw(x,R,N){for(var j=N+1;j--;)if(x[j]===R)return j;return j}function si(x){return oi(x)?bw(x):sw(x)}function Jt(x){return oi(x)?Tw(x):uw(x)}function ah(x){for(var R=x.length;R--&&ly.test(x.charAt(R)););return R}var Iw=rc(Zy);function bw(x){for(var R=zu.lastIndex=0;zu.test(x);)++R;return R}function Tw(x){return x.match(zu)||[]}function Aw(x){return x.match($y)||[]}var vw=function x(R){R=R==null?Ge:Zr.defaults(Ge.Object(),R,Zr.pick(Ge,jy));var N=R.Array,j=R.Date,se=R.Error,we=R.Function,We=R.Math,Te=R.Object,uc=R.RegExp,xw=R.String,Ft=R.TypeError,$o=N.prototype,Ow=we.prototype,ui=Te.prototype,Vo=R["__core-js_shared__"],Xo=Ow.toString,me=ui.hasOwnProperty,Pw=0,hh=function(){var t=/[^.]+$/.exec(Vo&&Vo.keys&&Vo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),jo=ui.toString,Bw=Xo.call(Te),Uw=Ge._,Cw=uc("^"+Xo.call(me).replace(Ku,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zo=ja?R.Buffer:e,Qr=R.Symbol,Yo=R.Uint8Array,lh=zo?zo.allocUnsafe:e,Jo=fh(Te.getPrototypeOf,Te),ph=Te.create,dh=ui.propertyIsEnumerable,Zo=$o.splice,gh=Qr?Qr.isConcatSpreadable:e,Ji=Qr?Qr.iterator:e,An=Qr?Qr.toStringTag:e,Qo=function(){try{var t=Bn(Te,"defineProperty");return t({},"",{}),t}catch{}}(),Nw=R.clearTimeout!==Ge.clearTimeout&&R.clearTimeout,Rw=j&&j.now!==Ge.Date.now&&j.now,kw=R.setTimeout!==Ge.setTimeout&&R.setTimeout,es=We.ceil,ts=We.floor,cc=Te.getOwnPropertySymbols,Lw=zo?zo.isBuffer:e,yh=R.isFinite,Mw=$o.join,Hw=fh(Te.keys,Te),qe=We.max,tt=We.min,Fw=j.now,Dw=R.parseInt,wh=We.random,Ww=$o.reverse,fc=Bn(R,"DataView"),Zi=Bn(R,"Map"),ac=Bn(R,"Promise"),ci=Bn(R,"Set"),Qi=Bn(R,"WeakMap"),eo=Bn(Te,"create"),rs=Qi&&new Qi,fi={},qw=Un(fc),Kw=Un(Zi),Gw=Un(ac),$w=Un(ci),Vw=Un(Qi),ns=Qr?Qr.prototype:e,to=ns?ns.valueOf:e,_h=ns?ns.toString:e;function _(t){if(ke(t)&&!ue(t)&&!(t instanceof de)){if(t instanceof Dt)return t;if(me.call(t,"__wrapped__"))return ml(t)}return new Dt(t)}var ai=function(){function t(){}return function(r){if(!Re(r))return{};if(ph)return ph(r);t.prototype=r;var u=new t;return t.prototype=e,u}}();function is(){}function Dt(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=e}_.templateSettings={escape:sy,evaluate:uy,interpolate:xa,variable:"",imports:{_}},_.prototype=is.prototype,_.prototype.constructor=_,Dt.prototype=ai(is.prototype),Dt.prototype.constructor=Dt;function de(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=dt,this.__views__=[]}function Xw(){var t=new de(this.__wrapped__);return t.__actions__=gt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gt(this.__views__),t}function jw(){if(this.__filtered__){var t=new de(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function zw(){var t=this.__wrapped__.value(),r=this.__dir__,u=ue(t),l=r<0,g=u?t.length:0,m=u_(0,g,this.__views__),I=m.start,A=m.end,B=A-I,L=l?A:I-1,M=this.__iteratees__,F=M.length,$=0,J=tt(B,this.__takeCount__);if(!u||!l&&g==B&&J==B)return qh(t,this.__actions__);var re=[];e:for(;B--&&$<J;){L+=r;for(var fe=-1,ne=t[L];++fe<F;){var pe=M[fe],ge=pe.iteratee,Bt=pe.type,ht=ge(ne);if(Bt==En)ne=ht;else if(!ht){if(Bt==ri)continue e;break e}}re[$++]=ne}return re}de.prototype=ai(is.prototype),de.prototype.constructor=de;function vn(t){var r=-1,u=t==null?0:t.length;for(this.clear();++r<u;){var l=t[r];this.set(l[0],l[1])}}function Yw(){this.__data__=eo?eo(null):{},this.size=0}function Jw(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}function Zw(t){var r=this.__data__;if(eo){var u=r[t];return u===f?e:u}return me.call(r,t)?r[t]:e}function Qw(t){var r=this.__data__;return eo?r[t]!==e:me.call(r,t)}function e1(t,r){var u=this.__data__;return this.size+=this.has(t)?0:1,u[t]=eo&&r===e?f:r,this}vn.prototype.clear=Yw,vn.prototype.delete=Jw,vn.prototype.get=Zw,vn.prototype.has=Qw,vn.prototype.set=e1;function Ar(t){var r=-1,u=t==null?0:t.length;for(this.clear();++r<u;){var l=t[r];this.set(l[0],l[1])}}function t1(){this.__data__=[],this.size=0}function r1(t){var r=this.__data__,u=os(r,t);if(u<0)return!1;var l=r.length-1;return u==l?r.pop():Zo.call(r,u,1),--this.size,!0}function n1(t){var r=this.__data__,u=os(r,t);return u<0?e:r[u][1]}function i1(t){return os(this.__data__,t)>-1}function o1(t,r){var u=this.__data__,l=os(u,t);return l<0?(++this.size,u.push([t,r])):u[l][1]=r,this}Ar.prototype.clear=t1,Ar.prototype.delete=r1,Ar.prototype.get=n1,Ar.prototype.has=i1,Ar.prototype.set=o1;function vr(t){var r=-1,u=t==null?0:t.length;for(this.clear();++r<u;){var l=t[r];this.set(l[0],l[1])}}function s1(){this.size=0,this.__data__={hash:new vn,map:new(Zi||Ar),string:new vn}}function u1(t){var r=ws(this,t).delete(t);return this.size-=r?1:0,r}function c1(t){return ws(this,t).get(t)}function f1(t){return ws(this,t).has(t)}function a1(t,r){var u=ws(this,t),l=u.size;return u.set(t,r),this.size+=u.size==l?0:1,this}vr.prototype.clear=s1,vr.prototype.delete=u1,vr.prototype.get=c1,vr.prototype.has=f1,vr.prototype.set=a1;function xn(t){var r=-1,u=t==null?0:t.length;for(this.__data__=new vr;++r<u;)this.add(t[r])}function h1(t){return this.__data__.set(t,f),this}function l1(t){return this.__data__.has(t)}xn.prototype.add=xn.prototype.push=h1,xn.prototype.has=l1;function Zt(t){var r=this.__data__=new Ar(t);this.size=r.size}function p1(){this.__data__=new Ar,this.size=0}function d1(t){var r=this.__data__,u=r.delete(t);return this.size=r.size,u}function g1(t){return this.__data__.get(t)}function y1(t){return this.__data__.has(t)}function w1(t,r){var u=this.__data__;if(u instanceof Ar){var l=u.__data__;if(!Zi||l.length<s-1)return l.push([t,r]),this.size=++u.size,this;u=this.__data__=new vr(l)}return u.set(t,r),this.size=u.size,this}Zt.prototype.clear=p1,Zt.prototype.delete=d1,Zt.prototype.get=g1,Zt.prototype.has=y1,Zt.prototype.set=w1;function mh(t,r){var u=ue(t),l=!u&&Cn(t),g=!u&&!l&&on(t),m=!u&&!l&&!g&&di(t),I=u||l||g||m,A=I?ic(t.length,xw):[],B=A.length;for(var L in t)(r||me.call(t,L))&&!(I&&(L=="length"||g&&(L=="offset"||L=="parent")||m&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||Br(L,B)))&&A.push(L);return A}function Eh(t){var r=t.length;return r?t[Sc(0,r-1)]:e}function _1(t,r){return _s(gt(t),On(r,0,t.length))}function m1(t){return _s(gt(t))}function hc(t,r,u){(u!==e&&!Qt(t[r],u)||u===e&&!(r in t))&&xr(t,r,u)}function ro(t,r,u){var l=t[r];(!(me.call(t,r)&&Qt(l,u))||u===e&&!(r in t))&&xr(t,r,u)}function os(t,r){for(var u=t.length;u--;)if(Qt(t[u][0],r))return u;return-1}function E1(t,r,u,l){return en(t,function(g,m,I){r(l,g,u(g),I)}),l}function Sh(t,r){return t&&hr(r,$e(r),t)}function S1(t,r){return t&&hr(r,wt(r),t)}function xr(t,r,u){r=="__proto__"&&Qo?Qo(t,r,{configurable:!0,enumerable:!0,value:u,writable:!0}):t[r]=u}function lc(t,r){for(var u=-1,l=r.length,g=N(l),m=t==null;++u<l;)g[u]=m?e:Vc(t,r[u]);return g}function On(t,r,u){return t===t&&(u!==e&&(t=t<=u?t:u),r!==e&&(t=t>=r?t:r)),t}function Wt(t,r,u,l,g,m){var I,A=r&U,B=r&P,L=r&v;if(u&&(I=g?u(t,l,g,m):u(t)),I!==e)return I;if(!Re(t))return t;var M=ue(t);if(M){if(I=f_(t),!A)return gt(t,I)}else{var F=rt(t),$=F==Xr||F==jr;if(on(t))return $h(t,A);if(F==At||F==Lt||$&&!g){if(I=B||$?{}:al(t),!A)return B?Z1(t,S1(I,t)):J1(t,Sh(I,t))}else{if(!xe[F])return g?t:{};I=a_(t,F,A)}}m||(m=new Zt);var J=m.get(t);if(J)return J;m.set(t,I),Fl(t)?t.forEach(function(ne){I.add(Wt(ne,r,u,ne,t,m))}):Ml(t)&&t.forEach(function(ne,pe){I.set(pe,Wt(ne,r,u,pe,t,m))});var re=L?B?Cc:Uc:B?wt:$e,fe=M?e:re(t);return Ht(fe||t,function(ne,pe){fe&&(pe=ne,ne=t[pe]),ro(I,pe,Wt(ne,r,u,pe,t,m))}),I}function I1(t){var r=$e(t);return function(u){return Ih(u,t,r)}}function Ih(t,r,u){var l=u.length;if(t==null)return!l;for(t=Te(t);l--;){var g=u[l],m=r[g],I=t[g];if(I===e&&!(g in t)||!m(I))return!1}return!0}function bh(t,r,u){if(typeof t!="function")throw new Ft(h);return fo(function(){t.apply(e,u)},r)}function no(t,r,u,l){var g=-1,m=qo,I=!0,A=t.length,B=[],L=r.length;if(!A)return B;u&&(r=Be(r,xt(u))),l?(m=Zu,I=!1):r.length>=s&&(m=Yi,I=!1,r=new xn(r));e:for(;++g<A;){var M=t[g],F=u==null?M:u(M);if(M=l||M!==0?M:0,I&&F===F){for(var $=L;$--;)if(r[$]===F)continue e;B.push(M)}else m(r,F,l)||B.push(M)}return B}var en=Yh(ar),Th=Yh(dc,!0);function b1(t,r){var u=!0;return en(t,function(l,g,m){return u=!!r(l,g,m),u}),u}function ss(t,r,u){for(var l=-1,g=t.length;++l<g;){var m=t[l],I=r(m);if(I!=null&&(A===e?I===I&&!Pt(I):u(I,A)))var A=I,B=m}return B}function T1(t,r,u,l){var g=t.length;for(u=ce(u),u<0&&(u=-u>g?0:g+u),l=l===e||l>g?g:ce(l),l<0&&(l+=g),l=u>l?0:Wl(l);u<l;)t[u++]=r;return t}function Ah(t,r){var u=[];return en(t,function(l,g,m){r(l,g,m)&&u.push(l)}),u}function Ye(t,r,u,l,g){var m=-1,I=t.length;for(u||(u=l_),g||(g=[]);++m<I;){var A=t[m];r>0&&u(A)?r>1?Ye(A,r-1,u,l,g):Yr(g,A):l||(g[g.length]=A)}return g}var pc=Jh(),vh=Jh(!0);function ar(t,r){return t&&pc(t,r,$e)}function dc(t,r){return t&&vh(t,r,$e)}function us(t,r){return zr(r,function(u){return Ur(t[u])})}function Pn(t,r){r=rn(r,t);for(var u=0,l=r.length;t!=null&&u<l;)t=t[lr(r[u++])];return u&&u==l?t:e}function xh(t,r,u){var l=r(t);return ue(t)?l:Yr(l,u(t))}function ft(t){return t==null?t===e?Ir:ji:An&&An in Te(t)?s_(t):m_(t)}function gc(t,r){return t>r}function A1(t,r){return t!=null&&me.call(t,r)}function v1(t,r){return t!=null&&r in Te(t)}function x1(t,r,u){return t>=tt(r,u)&&t<qe(r,u)}function yc(t,r,u){for(var l=u?Zu:qo,g=t[0].length,m=t.length,I=m,A=N(m),B=1/0,L=[];I--;){var M=t[I];I&&r&&(M=Be(M,xt(r))),B=tt(M.length,B),A[I]=!u&&(r||g>=120&&M.length>=120)?new xn(I&&M):e}M=t[0];var F=-1,$=A[0];e:for(;++F<g&&L.length<B;){var J=M[F],re=r?r(J):J;if(J=u||J!==0?J:0,!($?Yi($,re):l(L,re,u))){for(I=m;--I;){var fe=A[I];if(!(fe?Yi(fe,re):l(t[I],re,u)))continue e}$&&$.push(re),L.push(J)}}return L}function O1(t,r,u,l){return ar(t,function(g,m,I){r(l,u(g),m,I)}),l}function io(t,r,u){r=rn(r,t),t=dl(t,r);var l=t==null?t:t[lr(Kt(r))];return l==null?e:vt(l,t,u)}function Oh(t){return ke(t)&&ft(t)==Lt}function P1(t){return ke(t)&&ft(t)==Tr}function B1(t){return ke(t)&&ft(t)==Fe}function oo(t,r,u,l,g){return t===r?!0:t==null||r==null||!ke(t)&&!ke(r)?t!==t&&r!==r:U1(t,r,u,l,oo,g)}function U1(t,r,u,l,g,m){var I=ue(t),A=ue(r),B=I?ur:rt(t),L=A?ur:rt(r);B=B==Lt?At:B,L=L==Lt?At:L;var M=B==At,F=L==At,$=B==L;if($&&on(t)){if(!on(r))return!1;I=!0,M=!1}if($&&!M)return m||(m=new Zt),I||di(t)?ul(t,r,u,l,g,m):i_(t,r,B,u,l,g,m);if(!(u&H)){var J=M&&me.call(t,"__wrapped__"),re=F&&me.call(r,"__wrapped__");if(J||re){var fe=J?t.value():t,ne=re?r.value():r;return m||(m=new Zt),g(fe,ne,u,l,m)}}return $?(m||(m=new Zt),o_(t,r,u,l,g,m)):!1}function C1(t){return ke(t)&&rt(t)==Oe}function wc(t,r,u,l){var g=u.length,m=g,I=!l;if(t==null)return!m;for(t=Te(t);g--;){var A=u[g];if(I&&A[2]?A[1]!==t[A[0]]:!(A[0]in t))return!1}for(;++g<m;){A=u[g];var B=A[0],L=t[B],M=A[1];if(I&&A[2]){if(L===e&&!(B in t))return!1}else{var F=new Zt;if(l)var $=l(L,M,B,t,r,F);if(!($===e?oo(M,L,H|C,l,F):$))return!1}}return!0}function Ph(t){if(!Re(t)||d_(t))return!1;var r=Ur(t)?Cw:Iy;return r.test(Un(t))}function N1(t){return ke(t)&&ft(t)==Sr}function R1(t){return ke(t)&&rt(t)==ze}function k1(t){return ke(t)&&Ts(t.length)&&!!Pe[ft(t)]}function Bh(t){return typeof t=="function"?t:t==null?_t:typeof t=="object"?ue(t)?Nh(t[0],t[1]):Ch(t):Zl(t)}function _c(t){if(!co(t))return Hw(t);var r=[];for(var u in Te(t))me.call(t,u)&&u!="constructor"&&r.push(u);return r}function L1(t){if(!Re(t))return __(t);var r=co(t),u=[];for(var l in t)l=="constructor"&&(r||!me.call(t,l))||u.push(l);return u}function mc(t,r){return t<r}function Uh(t,r){var u=-1,l=yt(t)?N(t.length):[];return en(t,function(g,m,I){l[++u]=r(g,m,I)}),l}function Ch(t){var r=Rc(t);return r.length==1&&r[0][2]?ll(r[0][0],r[0][1]):function(u){return u===t||wc(u,t,r)}}function Nh(t,r){return Lc(t)&&hl(r)?ll(lr(t),r):function(u){var l=Vc(u,t);return l===e&&l===r?Xc(u,t):oo(r,l,H|C)}}function cs(t,r,u,l,g){t!==r&&pc(r,function(m,I){if(g||(g=new Zt),Re(m))M1(t,r,I,u,cs,l,g);else{var A=l?l(Hc(t,I),m,I+"",t,r,g):e;A===e&&(A=m),hc(t,I,A)}},wt)}function M1(t,r,u,l,g,m,I){var A=Hc(t,u),B=Hc(r,u),L=I.get(B);if(L){hc(t,u,L);return}var M=m?m(A,B,u+"",t,r,I):e,F=M===e;if(F){var $=ue(B),J=!$&&on(B),re=!$&&!J&&di(B);M=B,$||J||re?ue(A)?M=A:Le(A)?M=gt(A):J?(F=!1,M=$h(B,!0)):re?(F=!1,M=Vh(B,!0)):M=[]:ao(B)||Cn(B)?(M=A,Cn(A)?M=ql(A):(!Re(A)||Ur(A))&&(M=al(B))):F=!1}F&&(I.set(B,M),g(M,B,l,m,I),I.delete(B)),hc(t,u,M)}function Rh(t,r){var u=t.length;if(u)return r+=r<0?u:0,Br(r,u)?t[r]:e}function kh(t,r,u){r.length?r=Be(r,function(m){return ue(m)?function(I){return Pn(I,m.length===1?m[0]:m)}:m}):r=[_t];var l=-1;r=Be(r,xt(te()));var g=Uh(t,function(m,I,A){var B=Be(r,function(L){return L(m)});return{criteria:B,index:++l,value:m}});return aw(g,function(m,I){return Y1(m,I,u)})}function H1(t,r){return Lh(t,r,function(u,l){return Xc(t,l)})}function Lh(t,r,u){for(var l=-1,g=r.length,m={};++l<g;){var I=r[l],A=Pn(t,I);u(A,I)&&so(m,rn(I,t),A)}return m}function F1(t){return function(r){return Pn(r,t)}}function Ec(t,r,u,l){var g=l?fw:ii,m=-1,I=r.length,A=t;for(t===r&&(r=gt(r)),u&&(A=Be(t,xt(u)));++m<I;)for(var B=0,L=r[m],M=u?u(L):L;(B=g(A,M,B,l))>-1;)A!==t&&Zo.call(A,B,1),Zo.call(t,B,1);return t}function Mh(t,r){for(var u=t?r.length:0,l=u-1;u--;){var g=r[u];if(u==l||g!==m){var m=g;Br(g)?Zo.call(t,g,1):Tc(t,g)}}return t}function Sc(t,r){return t+ts(wh()*(r-t+1))}function D1(t,r,u,l){for(var g=-1,m=qe(es((r-t)/(u||1)),0),I=N(m);m--;)I[l?m:++g]=t,t+=u;return I}function Ic(t,r){var u="";if(!t||r<1||r>kt)return u;do r%2&&(u+=t),r=ts(r/2),r&&(t+=t);while(r);return u}function le(t,r){return Fc(pl(t,r,_t),t+"")}function W1(t){return Eh(gi(t))}function q1(t,r){var u=gi(t);return _s(u,On(r,0,u.length))}function so(t,r,u,l){if(!Re(t))return t;r=rn(r,t);for(var g=-1,m=r.length,I=m-1,A=t;A!=null&&++g<m;){var B=lr(r[g]),L=u;if(B==="__proto__"||B==="constructor"||B==="prototype")return t;if(g!=I){var M=A[B];L=l?l(M,B,A):e,L===e&&(L=Re(M)?M:Br(r[g+1])?[]:{})}ro(A,B,L),A=A[B]}return t}var Hh=rs?function(t,r){return rs.set(t,r),t}:_t,K1=Qo?function(t,r){return Qo(t,"toString",{configurable:!0,enumerable:!1,value:zc(r),writable:!0})}:_t;function G1(t){return _s(gi(t))}function qt(t,r,u){var l=-1,g=t.length;r<0&&(r=-r>g?0:g+r),u=u>g?g:u,u<0&&(u+=g),g=r>u?0:u-r>>>0,r>>>=0;for(var m=N(g);++l<g;)m[l]=t[l+r];return m}function $1(t,r){var u;return en(t,function(l,g,m){return u=r(l,g,m),!u}),!!u}function fs(t,r,u){var l=0,g=t==null?l:t.length;if(typeof r=="number"&&r===r&&g<=ye){for(;l<g;){var m=l+g>>>1,I=t[m];I!==null&&!Pt(I)&&(u?I<=r:I<r)?l=m+1:g=m}return g}return bc(t,r,_t,u)}function bc(t,r,u,l){var g=0,m=t==null?0:t.length;if(m===0)return 0;r=u(r);for(var I=r!==r,A=r===null,B=Pt(r),L=r===e;g<m;){var M=ts((g+m)/2),F=u(t[M]),$=F!==e,J=F===null,re=F===F,fe=Pt(F);if(I)var ne=l||re;else L?ne=re&&(l||$):A?ne=re&&$&&(l||!J):B?ne=re&&$&&!J&&(l||!fe):J||fe?ne=!1:ne=l?F<=r:F<r;ne?g=M+1:m=M}return tt(m,he)}function Fh(t,r){for(var u=-1,l=t.length,g=0,m=[];++u<l;){var I=t[u],A=r?r(I):I;if(!u||!Qt(A,B)){var B=A;m[g++]=I===0?0:I}}return m}function Dh(t){return typeof t=="number"?t:Pt(t)?Vr:+t}function Ot(t){if(typeof t=="string")return t;if(ue(t))return Be(t,Ot)+"";if(Pt(t))return _h?_h.call(t):"";var r=t+"";return r=="0"&&1/t==-zt?"-0":r}function tn(t,r,u){var l=-1,g=qo,m=t.length,I=!0,A=[],B=A;if(u)I=!1,g=Zu;else if(m>=s){var L=r?null:r_(t);if(L)return Go(L);I=!1,g=Yi,B=new xn}else B=r?[]:A;e:for(;++l<m;){var M=t[l],F=r?r(M):M;if(M=u||M!==0?M:0,I&&F===F){for(var $=B.length;$--;)if(B[$]===F)continue e;r&&B.push(F),A.push(M)}else g(B,F,u)||(B!==A&&B.push(F),A.push(M))}return A}function Tc(t,r){return r=rn(r,t),t=dl(t,r),t==null||delete t[lr(Kt(r))]}function Wh(t,r,u,l){return so(t,r,u(Pn(t,r)),l)}function as(t,r,u,l){for(var g=t.length,m=l?g:-1;(l?m--:++m<g)&&r(t[m],m,t););return u?qt(t,l?0:m,l?m+1:g):qt(t,l?m+1:0,l?g:m)}function qh(t,r){var u=t;return u instanceof de&&(u=u.value()),Qu(r,function(l,g){return g.func.apply(g.thisArg,Yr([l],g.args))},u)}function Ac(t,r,u){var l=t.length;if(l<2)return l?tn(t[0]):[];for(var g=-1,m=N(l);++g<l;)for(var I=t[g],A=-1;++A<l;)A!=g&&(m[g]=no(m[g]||I,t[A],r,u));return tn(Ye(m,1),r,u)}function Kh(t,r,u){for(var l=-1,g=t.length,m=r.length,I={};++l<g;){var A=l<m?r[l]:e;u(I,t[l],A)}return I}function vc(t){return Le(t)?t:[]}function xc(t){return typeof t=="function"?t:_t}function rn(t,r){return ue(t)?t:Lc(t,r)?[t]:_l(_e(t))}var V1=le;function nn(t,r,u){var l=t.length;return u=u===e?l:u,!r&&u>=l?t:qt(t,r,u)}var Gh=Nw||function(t){return Ge.clearTimeout(t)};function $h(t,r){if(r)return t.slice();var u=t.length,l=lh?lh(u):new t.constructor(u);return t.copy(l),l}function Oc(t){var r=new t.constructor(t.byteLength);return new Yo(r).set(new Yo(t)),r}function X1(t,r){var u=r?Oc(t.buffer):t.buffer;return new t.constructor(u,t.byteOffset,t.byteLength)}function j1(t){var r=new t.constructor(t.source,Oa.exec(t));return r.lastIndex=t.lastIndex,r}function z1(t){return to?Te(to.call(t)):{}}function Vh(t,r){var u=r?Oc(t.buffer):t.buffer;return new t.constructor(u,t.byteOffset,t.length)}function Xh(t,r){if(t!==r){var u=t!==e,l=t===null,g=t===t,m=Pt(t),I=r!==e,A=r===null,B=r===r,L=Pt(r);if(!A&&!L&&!m&&t>r||m&&I&&B&&!A&&!L||l&&I&&B||!u&&B||!g)return 1;if(!l&&!m&&!L&&t<r||L&&u&&g&&!l&&!m||A&&u&&g||!I&&g||!B)return-1}return 0}function Y1(t,r,u){for(var l=-1,g=t.criteria,m=r.criteria,I=g.length,A=u.length;++l<I;){var B=Xh(g[l],m[l]);if(B){if(l>=A)return B;var L=u[l];return B*(L=="desc"?-1:1)}}return t.index-r.index}function jh(t,r,u,l){for(var g=-1,m=t.length,I=u.length,A=-1,B=r.length,L=qe(m-I,0),M=N(B+L),F=!l;++A<B;)M[A]=r[A];for(;++g<I;)(F||g<m)&&(M[u[g]]=t[g]);for(;L--;)M[A++]=t[g++];return M}function zh(t,r,u,l){for(var g=-1,m=t.length,I=-1,A=u.length,B=-1,L=r.length,M=qe(m-A,0),F=N(M+L),$=!l;++g<M;)F[g]=t[g];for(var J=g;++B<L;)F[J+B]=r[B];for(;++I<A;)($||g<m)&&(F[J+u[I]]=t[g++]);return F}function gt(t,r){var u=-1,l=t.length;for(r||(r=N(l));++u<l;)r[u]=t[u];return r}function hr(t,r,u,l){var g=!u;u||(u={});for(var m=-1,I=r.length;++m<I;){var A=r[m],B=l?l(u[A],t[A],A,u,t):e;B===e&&(B=t[A]),g?xr(u,A,B):ro(u,A,B)}return u}function J1(t,r){return hr(t,kc(t),r)}function Z1(t,r){return hr(t,cl(t),r)}function hs(t,r){return function(u,l){var g=ue(u)?nw:E1,m=r?r():{};return g(u,t,te(l,2),m)}}function hi(t){return le(function(r,u){var l=-1,g=u.length,m=g>1?u[g-1]:e,I=g>2?u[2]:e;for(m=t.length>3&&typeof m=="function"?(g--,m):e,I&&at(u[0],u[1],I)&&(m=g<3?e:m,g=1),r=Te(r);++l<g;){var A=u[l];A&&t(r,A,l,m)}return r})}function Yh(t,r){return function(u,l){if(u==null)return u;if(!yt(u))return t(u,l);for(var g=u.length,m=r?g:-1,I=Te(u);(r?m--:++m<g)&&l(I[m],m,I)!==!1;);return u}}function Jh(t){return function(r,u,l){for(var g=-1,m=Te(r),I=l(r),A=I.length;A--;){var B=I[t?A:++g];if(u(m[B],B,m)===!1)break}return r}}function Q1(t,r,u){var l=r&k,g=uo(t);function m(){var I=this&&this!==Ge&&this instanceof m?g:t;return I.apply(l?u:this,arguments)}return m}function Zh(t){return function(r){r=_e(r);var u=oi(r)?Jt(r):e,l=u?u[0]:r.charAt(0),g=u?nn(u,1).join(""):r.slice(1);return l[t]()+g}}function li(t){return function(r){return Qu(Yl(zl(r).replace(Ky,"")),t,"")}}function uo(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var u=ai(t.prototype),l=t.apply(u,r);return Re(l)?l:u}}function e_(t,r,u){var l=uo(t);function g(){for(var m=arguments.length,I=N(m),A=m,B=pi(g);A--;)I[A]=arguments[A];var L=m<3&&I[0]!==B&&I[m-1]!==B?[]:Jr(I,B);if(m-=L.length,m<u)return nl(t,r,ls,g.placeholder,e,I,L,e,e,u-m);var M=this&&this!==Ge&&this instanceof g?l:t;return vt(M,this,I)}return g}function Qh(t){return function(r,u,l){var g=Te(r);if(!yt(r)){var m=te(u,3);r=$e(r),u=function(A){return m(g[A],A,g)}}var I=t(r,u,l);return I>-1?g[m?r[I]:I]:e}}function el(t){return Pr(function(r){var u=r.length,l=u,g=Dt.prototype.thru;for(t&&r.reverse();l--;){var m=r[l];if(typeof m!="function")throw new Ft(h);if(g&&!I&&ys(m)=="wrapper")var I=new Dt([],!0)}for(l=I?l:u;++l<u;){m=r[l];var A=ys(m),B=A=="wrapper"?Nc(m):e;B&&Mc(B[0])&&B[1]==(Y|V|z|be)&&!B[4].length&&B[9]==1?I=I[ys(B[0])].apply(I,B[3]):I=m.length==1&&Mc(m)?I[A]():I.thru(m)}return function(){var L=arguments,M=L[0];if(I&&L.length==1&&ue(M))return I.plant(M).value();for(var F=0,$=u?r[F].apply(this,L):M;++F<u;)$=r[F].call(this,$);return $}})}function ls(t,r,u,l,g,m,I,A,B,L){var M=r&Y,F=r&k,$=r&D,J=r&(V|X),re=r&Xe,fe=$?e:uo(t);function ne(){for(var pe=arguments.length,ge=N(pe),Bt=pe;Bt--;)ge[Bt]=arguments[Bt];if(J)var ht=pi(ne),Ut=lw(ge,ht);if(l&&(ge=jh(ge,l,g,J)),m&&(ge=zh(ge,m,I,J)),pe-=Ut,J&&pe<L){var Me=Jr(ge,ht);return nl(t,r,ls,ne.placeholder,u,ge,Me,A,B,L-pe)}var er=F?u:this,Nr=$?er[t]:t;return pe=ge.length,A?ge=E_(ge,A):re&&pe>1&&ge.reverse(),M&&B<pe&&(ge.length=B),this&&this!==Ge&&this instanceof ne&&(Nr=fe||uo(Nr)),Nr.apply(er,ge)}return ne}function tl(t,r){return function(u,l){return O1(u,t,r(l),{})}}function ps(t,r){return function(u,l){var g;if(u===e&&l===e)return r;if(u!==e&&(g=u),l!==e){if(g===e)return l;typeof u=="string"||typeof l=="string"?(u=Ot(u),l=Ot(l)):(u=Dh(u),l=Dh(l)),g=t(u,l)}return g}}function Pc(t){return Pr(function(r){return r=Be(r,xt(te())),le(function(u){var l=this;return t(r,function(g){return vt(g,l,u)})})})}function ds(t,r){r=r===e?" ":Ot(r);var u=r.length;if(u<2)return u?Ic(r,t):r;var l=Ic(r,es(t/si(r)));return oi(r)?nn(Jt(l),0,t).join(""):l.slice(0,t)}function t_(t,r,u,l){var g=r&k,m=uo(t);function I(){for(var A=-1,B=arguments.length,L=-1,M=l.length,F=N(M+B),$=this&&this!==Ge&&this instanceof I?m:t;++L<M;)F[L]=l[L];for(;B--;)F[L++]=arguments[++A];return vt($,g?u:this,F)}return I}function rl(t){return function(r,u,l){return l&&typeof l!="number"&&at(r,u,l)&&(u=l=e),r=Cr(r),u===e?(u=r,r=0):u=Cr(u),l=l===e?r<u?1:-1:Cr(l),D1(r,u,l,t)}}function gs(t){return function(r,u){return typeof r=="string"&&typeof u=="string"||(r=Gt(r),u=Gt(u)),t(r,u)}}function nl(t,r,u,l,g,m,I,A,B,L){var M=r&V,F=M?I:e,$=M?e:I,J=M?m:e,re=M?e:m;r|=M?z:Q,r&=~(M?Q:z),r&W||(r&=~(k|D));var fe=[t,r,g,J,F,re,$,A,B,L],ne=u.apply(e,fe);return Mc(t)&&gl(ne,fe),ne.placeholder=l,yl(ne,t,r)}function Bc(t){var r=We[t];return function(u,l){if(u=Gt(u),l=l==null?0:tt(ce(l),292),l&&yh(u)){var g=(_e(u)+"e").split("e"),m=r(g[0]+"e"+(+g[1]+l));return g=(_e(m)+"e").split("e"),+(g[0]+"e"+(+g[1]-l))}return r(u)}}var r_=ci&&1/Go(new ci([,-0]))[1]==zt?function(t){return new ci(t)}:Zc;function il(t){return function(r){var u=rt(r);return u==Oe?sc(r):u==ze?mw(r):hw(r,t(r))}}function Or(t,r,u,l,g,m,I,A){var B=r&D;if(!B&&typeof t!="function")throw new Ft(h);var L=l?l.length:0;if(L||(r&=~(z|Q),l=g=e),I=I===e?I:qe(ce(I),0),A=A===e?A:ce(A),L-=g?g.length:0,r&Q){var M=l,F=g;l=g=e}var $=B?e:Nc(t),J=[t,r,u,l,g,M,F,m,I,A];if($&&w_(J,$),t=J[0],r=J[1],u=J[2],l=J[3],g=J[4],A=J[9]=J[9]===e?B?0:t.length:qe(J[9]-L,0),!A&&r&(V|X)&&(r&=~(V|X)),!r||r==k)var re=Q1(t,r,u);else r==V||r==X?re=e_(t,r,A):(r==z||r==(k|z))&&!g.length?re=t_(t,r,u,l):re=ls.apply(e,J);var fe=$?Hh:gl;return yl(fe(re,J),t,r)}function ol(t,r,u,l){return t===e||Qt(t,ui[u])&&!me.call(l,u)?r:t}function sl(t,r,u,l,g,m){return Re(t)&&Re(r)&&(m.set(r,t),cs(t,r,e,sl,m),m.delete(r)),t}function n_(t){return ao(t)?e:t}function ul(t,r,u,l,g,m){var I=u&H,A=t.length,B=r.length;if(A!=B&&!(I&&B>A))return!1;var L=m.get(t),M=m.get(r);if(L&&M)return L==r&&M==t;var F=-1,$=!0,J=u&C?new xn:e;for(m.set(t,r),m.set(r,t);++F<A;){var re=t[F],fe=r[F];if(l)var ne=I?l(fe,re,F,r,t,m):l(re,fe,F,t,r,m);if(ne!==e){if(ne)continue;$=!1;break}if(J){if(!ec(r,function(pe,ge){if(!Yi(J,ge)&&(re===pe||g(re,pe,u,l,m)))return J.push(ge)})){$=!1;break}}else if(!(re===fe||g(re,fe,u,l,m))){$=!1;break}}return m.delete(t),m.delete(r),$}function i_(t,r,u,l,g,m,I){switch(u){case a:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case Tr:return!(t.byteLength!=r.byteLength||!m(new Yo(t),new Yo(r)));case Yt:case Fe:case je:return Qt(+t,+r);case cr:return t.name==r.name&&t.message==r.message;case Sr:case ct:return t==r+"";case Oe:var A=sc;case ze:var B=l&H;if(A||(A=Go),t.size!=r.size&&!B)return!1;var L=I.get(t);if(L)return L==r;l|=C,I.set(t,r);var M=ul(A(t),A(r),l,g,m,I);return I.delete(t),M;case ve:if(to)return to.call(t)==to.call(r)}return!1}function o_(t,r,u,l,g,m){var I=u&H,A=Uc(t),B=A.length,L=Uc(r),M=L.length;if(B!=M&&!I)return!1;for(var F=B;F--;){var $=A[F];if(!(I?$ in r:me.call(r,$)))return!1}var J=m.get(t),re=m.get(r);if(J&&re)return J==r&&re==t;var fe=!0;m.set(t,r),m.set(r,t);for(var ne=I;++F<B;){$=A[F];var pe=t[$],ge=r[$];if(l)var Bt=I?l(ge,pe,$,r,t,m):l(pe,ge,$,t,r,m);if(!(Bt===e?pe===ge||g(pe,ge,u,l,m):Bt)){fe=!1;break}ne||(ne=$=="constructor")}if(fe&&!ne){var ht=t.constructor,Ut=r.constructor;ht!=Ut&&"constructor"in t&&"constructor"in r&&!(typeof ht=="function"&&ht instanceof ht&&typeof Ut=="function"&&Ut instanceof Ut)&&(fe=!1)}return m.delete(t),m.delete(r),fe}function Pr(t){return Fc(pl(t,e,Il),t+"")}function Uc(t){return xh(t,$e,kc)}function Cc(t){return xh(t,wt,cl)}var Nc=rs?function(t){return rs.get(t)}:Zc;function ys(t){for(var r=t.name+"",u=fi[r],l=me.call(fi,r)?u.length:0;l--;){var g=u[l],m=g.func;if(m==null||m==t)return g.name}return r}function pi(t){var r=me.call(_,"placeholder")?_:t;return r.placeholder}function te(){var t=_.iteratee||Yc;return t=t===Yc?Bh:t,arguments.length?t(arguments[0],arguments[1]):t}function ws(t,r){var u=t.__data__;return p_(r)?u[typeof r=="string"?"string":"hash"]:u.map}function Rc(t){for(var r=$e(t),u=r.length;u--;){var l=r[u],g=t[l];r[u]=[l,g,hl(g)]}return r}function Bn(t,r){var u=yw(t,r);return Ph(u)?u:e}function s_(t){var r=me.call(t,An),u=t[An];try{t[An]=e;var l=!0}catch{}var g=jo.call(t);return l&&(r?t[An]=u:delete t[An]),g}var kc=cc?function(t){return t==null?[]:(t=Te(t),zr(cc(t),function(r){return dh.call(t,r)}))}:Qc,cl=cc?function(t){for(var r=[];t;)Yr(r,kc(t)),t=Jo(t);return r}:Qc,rt=ft;(fc&&rt(new fc(new ArrayBuffer(1)))!=a||Zi&&rt(new Zi)!=Oe||ac&&rt(ac.resolve())!=fr||ci&&rt(new ci)!=ze||Qi&&rt(new Qi)!=br)&&(rt=function(t){var r=ft(t),u=r==At?t.constructor:e,l=u?Un(u):"";if(l)switch(l){case qw:return a;case Kw:return Oe;case Gw:return fr;case $w:return ze;case Vw:return br}return r});function u_(t,r,u){for(var l=-1,g=u.length;++l<g;){var m=u[l],I=m.size;switch(m.type){case"drop":t+=I;break;case"dropRight":r-=I;break;case"take":r=tt(r,t+I);break;case"takeRight":t=qe(t,r-I);break}}return{start:t,end:r}}function c_(t){var r=t.match(dy);return r?r[1].split(gy):[]}function fl(t,r,u){r=rn(r,t);for(var l=-1,g=r.length,m=!1;++l<g;){var I=lr(r[l]);if(!(m=t!=null&&u(t,I)))break;t=t[I]}return m||++l!=g?m:(g=t==null?0:t.length,!!g&&Ts(g)&&Br(I,g)&&(ue(t)||Cn(t)))}function f_(t){var r=t.length,u=new t.constructor(r);return r&&typeof t[0]=="string"&&me.call(t,"index")&&(u.index=t.index,u.input=t.input),u}function al(t){return typeof t.constructor=="function"&&!co(t)?ai(Jo(t)):{}}function a_(t,r,u){var l=t.constructor;switch(r){case Tr:return Oc(t);case Yt:case Fe:return new l(+t);case a:return X1(t,u);case i:case o:case p:case y:case E:case b:case q:case ie:case ee:return Vh(t,u);case Oe:return new l;case je:case ct:return new l(t);case Sr:return j1(t);case ze:return new l;case ve:return z1(t)}}function h_(t,r){var u=r.length;if(!u)return t;var l=u-1;return r[l]=(u>1?"& ":"")+r[l],r=r.join(u>2?", ":" "),t.replace(py,`{
/* [wrapped with `+r+`] */
`)}function l_(t){return ue(t)||Cn(t)||!!(gh&&t&&t[gh])}function Br(t,r){var u=typeof t;return r=r??kt,!!r&&(u=="number"||u!="symbol"&&Ty.test(t))&&t>-1&&t%1==0&&t<r}function at(t,r,u){if(!Re(u))return!1;var l=typeof r;return(l=="number"?yt(u)&&Br(r,u.length):l=="string"&&r in u)?Qt(u[r],t):!1}function Lc(t,r){if(ue(t))return!1;var u=typeof t;return u=="number"||u=="symbol"||u=="boolean"||t==null||Pt(t)?!0:fy.test(t)||!cy.test(t)||r!=null&&t in Te(r)}function p_(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}function Mc(t){var r=ys(t),u=_[r];if(typeof u!="function"||!(r in de.prototype))return!1;if(t===u)return!0;var l=Nc(u);return!!l&&t===l[0]}function d_(t){return!!hh&&hh in t}var g_=Vo?Ur:ef;function co(t){var r=t&&t.constructor,u=typeof r=="function"&&r.prototype||ui;return t===u}function hl(t){return t===t&&!Re(t)}function ll(t,r){return function(u){return u==null?!1:u[t]===r&&(r!==e||t in Te(u))}}function y_(t){var r=Is(t,function(l){return u.size===w&&u.clear(),l}),u=r.cache;return r}function w_(t,r){var u=t[1],l=r[1],g=u|l,m=g<(k|D|Y),I=l==Y&&u==V||l==Y&&u==be&&t[7].length<=r[8]||l==(Y|be)&&r[7].length<=r[8]&&u==V;if(!(m||I))return t;l&k&&(t[2]=r[2],g|=u&k?0:W);var A=r[3];if(A){var B=t[3];t[3]=B?jh(B,A,r[4]):A,t[4]=B?Jr(t[3],S):r[4]}return A=r[5],A&&(B=t[5],t[5]=B?zh(B,A,r[6]):A,t[6]=B?Jr(t[5],S):r[6]),A=r[7],A&&(t[7]=A),l&Y&&(t[8]=t[8]==null?r[8]:tt(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=g,t}function __(t){var r=[];if(t!=null)for(var u in Te(t))r.push(u);return r}function m_(t){return jo.call(t)}function pl(t,r,u){return r=qe(r===e?t.length-1:r,0),function(){for(var l=arguments,g=-1,m=qe(l.length-r,0),I=N(m);++g<m;)I[g]=l[r+g];g=-1;for(var A=N(r+1);++g<r;)A[g]=l[g];return A[r]=u(I),vt(t,this,A)}}function dl(t,r){return r.length<2?t:Pn(t,qt(r,0,-1))}function E_(t,r){for(var u=t.length,l=tt(r.length,u),g=gt(t);l--;){var m=r[l];t[l]=Br(m,u)?g[m]:e}return t}function Hc(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}var gl=wl(Hh),fo=kw||function(t,r){return Ge.setTimeout(t,r)},Fc=wl(K1);function yl(t,r,u){var l=r+"";return Fc(t,h_(l,S_(c_(l),u)))}function wl(t){var r=0,u=0;return function(){var l=Fw(),g=Vi-(l-u);if(u=l,g>0){if(++r>=$i)return arguments[0]}else r=0;return t.apply(e,arguments)}}function _s(t,r){var u=-1,l=t.length,g=l-1;for(r=r===e?l:r;++u<r;){var m=Sc(u,g),I=t[m];t[m]=t[u],t[u]=I}return t.length=r,t}var _l=y_(function(t){var r=[];return t.charCodeAt(0)===46&&r.push(""),t.replace(ay,function(u,l,g,m){r.push(g?m.replace(_y,"$1"):l||u)}),r});function lr(t){if(typeof t=="string"||Pt(t))return t;var r=t+"";return r=="0"&&1/t==-zt?"-0":r}function Un(t){if(t!=null){try{return Xo.call(t)}catch{}try{return t+""}catch{}}return""}function S_(t,r){return Ht(In,function(u){var l="_."+u[0];r&u[1]&&!qo(t,l)&&t.push(l)}),t.sort()}function ml(t){if(t instanceof de)return t.clone();var r=new Dt(t.__wrapped__,t.__chain__);return r.__actions__=gt(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}function I_(t,r,u){(u?at(t,r,u):r===e)?r=1:r=qe(ce(r),0);var l=t==null?0:t.length;if(!l||r<1)return[];for(var g=0,m=0,I=N(es(l/r));g<l;)I[m++]=qt(t,g,g+=r);return I}function b_(t){for(var r=-1,u=t==null?0:t.length,l=0,g=[];++r<u;){var m=t[r];m&&(g[l++]=m)}return g}function T_(){var t=arguments.length;if(!t)return[];for(var r=N(t-1),u=arguments[0],l=t;l--;)r[l-1]=arguments[l];return Yr(ue(u)?gt(u):[u],Ye(r,1))}var A_=le(function(t,r){return Le(t)?no(t,Ye(r,1,Le,!0)):[]}),v_=le(function(t,r){var u=Kt(r);return Le(u)&&(u=e),Le(t)?no(t,Ye(r,1,Le,!0),te(u,2)):[]}),x_=le(function(t,r){var u=Kt(r);return Le(u)&&(u=e),Le(t)?no(t,Ye(r,1,Le,!0),e,u):[]});function O_(t,r,u){var l=t==null?0:t.length;return l?(r=u||r===e?1:ce(r),qt(t,r<0?0:r,l)):[]}function P_(t,r,u){var l=t==null?0:t.length;return l?(r=u||r===e?1:ce(r),r=l-r,qt(t,0,r<0?0:r)):[]}function B_(t,r){return t&&t.length?as(t,te(r,3),!0,!0):[]}function U_(t,r){return t&&t.length?as(t,te(r,3),!0):[]}function C_(t,r,u,l){var g=t==null?0:t.length;return g?(u&&typeof u!="number"&&at(t,r,u)&&(u=0,l=g),T1(t,r,u,l)):[]}function El(t,r,u){var l=t==null?0:t.length;if(!l)return-1;var g=u==null?0:ce(u);return g<0&&(g=qe(l+g,0)),Ko(t,te(r,3),g)}function Sl(t,r,u){var l=t==null?0:t.length;if(!l)return-1;var g=l-1;return u!==e&&(g=ce(u),g=u<0?qe(l+g,0):tt(g,l-1)),Ko(t,te(r,3),g,!0)}function Il(t){var r=t==null?0:t.length;return r?Ye(t,1):[]}function N_(t){var r=t==null?0:t.length;return r?Ye(t,zt):[]}function R_(t,r){var u=t==null?0:t.length;return u?(r=r===e?1:ce(r),Ye(t,r)):[]}function k_(t){for(var r=-1,u=t==null?0:t.length,l={};++r<u;){var g=t[r];l[g[0]]=g[1]}return l}function bl(t){return t&&t.length?t[0]:e}function L_(t,r,u){var l=t==null?0:t.length;if(!l)return-1;var g=u==null?0:ce(u);return g<0&&(g=qe(l+g,0)),ii(t,r,g)}function M_(t){var r=t==null?0:t.length;return r?qt(t,0,-1):[]}var H_=le(function(t){var r=Be(t,vc);return r.length&&r[0]===t[0]?yc(r):[]}),F_=le(function(t){var r=Kt(t),u=Be(t,vc);return r===Kt(u)?r=e:u.pop(),u.length&&u[0]===t[0]?yc(u,te(r,2)):[]}),D_=le(function(t){var r=Kt(t),u=Be(t,vc);return r=typeof r=="function"?r:e,r&&u.pop(),u.length&&u[0]===t[0]?yc(u,e,r):[]});function W_(t,r){return t==null?"":Mw.call(t,r)}function Kt(t){var r=t==null?0:t.length;return r?t[r-1]:e}function q_(t,r,u){var l=t==null?0:t.length;if(!l)return-1;var g=l;return u!==e&&(g=ce(u),g=g<0?qe(l+g,0):tt(g,l-1)),r===r?Sw(t,r,g):Ko(t,nh,g,!0)}function K_(t,r){return t&&t.length?Rh(t,ce(r)):e}var G_=le(Tl);function Tl(t,r){return t&&t.length&&r&&r.length?Ec(t,r):t}function $_(t,r,u){return t&&t.length&&r&&r.length?Ec(t,r,te(u,2)):t}function V_(t,r,u){return t&&t.length&&r&&r.length?Ec(t,r,e,u):t}var X_=Pr(function(t,r){var u=t==null?0:t.length,l=lc(t,r);return Mh(t,Be(r,function(g){return Br(g,u)?+g:g}).sort(Xh)),l});function j_(t,r){var u=[];if(!(t&&t.length))return u;var l=-1,g=[],m=t.length;for(r=te(r,3);++l<m;){var I=t[l];r(I,l,t)&&(u.push(I),g.push(l))}return Mh(t,g),u}function Dc(t){return t==null?t:Ww.call(t)}function z_(t,r,u){var l=t==null?0:t.length;return l?(u&&typeof u!="number"&&at(t,r,u)?(r=0,u=l):(r=r==null?0:ce(r),u=u===e?l:ce(u)),qt(t,r,u)):[]}function Y_(t,r){return fs(t,r)}function J_(t,r,u){return bc(t,r,te(u,2))}function Z_(t,r){var u=t==null?0:t.length;if(u){var l=fs(t,r);if(l<u&&Qt(t[l],r))return l}return-1}function Q_(t,r){return fs(t,r,!0)}function em(t,r,u){return bc(t,r,te(u,2),!0)}function tm(t,r){var u=t==null?0:t.length;if(u){var l=fs(t,r,!0)-1;if(Qt(t[l],r))return l}return-1}function rm(t){return t&&t.length?Fh(t):[]}function nm(t,r){return t&&t.length?Fh(t,te(r,2)):[]}function im(t){var r=t==null?0:t.length;return r?qt(t,1,r):[]}function om(t,r,u){return t&&t.length?(r=u||r===e?1:ce(r),qt(t,0,r<0?0:r)):[]}function sm(t,r,u){var l=t==null?0:t.length;return l?(r=u||r===e?1:ce(r),r=l-r,qt(t,r<0?0:r,l)):[]}function um(t,r){return t&&t.length?as(t,te(r,3),!1,!0):[]}function cm(t,r){return t&&t.length?as(t,te(r,3)):[]}var fm=le(function(t){return tn(Ye(t,1,Le,!0))}),am=le(function(t){var r=Kt(t);return Le(r)&&(r=e),tn(Ye(t,1,Le,!0),te(r,2))}),hm=le(function(t){var r=Kt(t);return r=typeof r=="function"?r:e,tn(Ye(t,1,Le,!0),e,r)});function lm(t){return t&&t.length?tn(t):[]}function pm(t,r){return t&&t.length?tn(t,te(r,2)):[]}function dm(t,r){return r=typeof r=="function"?r:e,t&&t.length?tn(t,e,r):[]}function Wc(t){if(!(t&&t.length))return[];var r=0;return t=zr(t,function(u){if(Le(u))return r=qe(u.length,r),!0}),ic(r,function(u){return Be(t,tc(u))})}function Al(t,r){if(!(t&&t.length))return[];var u=Wc(t);return r==null?u:Be(u,function(l){return vt(r,e,l)})}var gm=le(function(t,r){return Le(t)?no(t,r):[]}),ym=le(function(t){return Ac(zr(t,Le))}),wm=le(function(t){var r=Kt(t);return Le(r)&&(r=e),Ac(zr(t,Le),te(r,2))}),_m=le(function(t){var r=Kt(t);return r=typeof r=="function"?r:e,Ac(zr(t,Le),e,r)}),mm=le(Wc);function Em(t,r){return Kh(t||[],r||[],ro)}function Sm(t,r){return Kh(t||[],r||[],so)}var Im=le(function(t){var r=t.length,u=r>1?t[r-1]:e;return u=typeof u=="function"?(t.pop(),u):e,Al(t,u)});function vl(t){var r=_(t);return r.__chain__=!0,r}function bm(t,r){return r(t),t}function ms(t,r){return r(t)}var Tm=Pr(function(t){var r=t.length,u=r?t[0]:0,l=this.__wrapped__,g=function(m){return lc(m,t)};return r>1||this.__actions__.length||!(l instanceof de)||!Br(u)?this.thru(g):(l=l.slice(u,+u+(r?1:0)),l.__actions__.push({func:ms,args:[g],thisArg:e}),new Dt(l,this.__chain__).thru(function(m){return r&&!m.length&&m.push(e),m}))});function Am(){return vl(this)}function vm(){return new Dt(this.value(),this.__chain__)}function xm(){this.__values__===e&&(this.__values__=Dl(this.value()));var t=this.__index__>=this.__values__.length,r=t?e:this.__values__[this.__index__++];return{done:t,value:r}}function Om(){return this}function Pm(t){for(var r,u=this;u instanceof is;){var l=ml(u);l.__index__=0,l.__values__=e,r?g.__wrapped__=l:r=l;var g=l;u=u.__wrapped__}return g.__wrapped__=t,r}function Bm(){var t=this.__wrapped__;if(t instanceof de){var r=t;return this.__actions__.length&&(r=new de(this)),r=r.reverse(),r.__actions__.push({func:ms,args:[Dc],thisArg:e}),new Dt(r,this.__chain__)}return this.thru(Dc)}function Um(){return qh(this.__wrapped__,this.__actions__)}var Cm=hs(function(t,r,u){me.call(t,u)?++t[u]:xr(t,u,1)});function Nm(t,r,u){var l=ue(t)?th:b1;return u&&at(t,r,u)&&(r=e),l(t,te(r,3))}function Rm(t,r){var u=ue(t)?zr:Ah;return u(t,te(r,3))}var km=Qh(El),Lm=Qh(Sl);function Mm(t,r){return Ye(Es(t,r),1)}function Hm(t,r){return Ye(Es(t,r),zt)}function Fm(t,r,u){return u=u===e?1:ce(u),Ye(Es(t,r),u)}function xl(t,r){var u=ue(t)?Ht:en;return u(t,te(r,3))}function Ol(t,r){var u=ue(t)?iw:Th;return u(t,te(r,3))}var Dm=hs(function(t,r,u){me.call(t,u)?t[u].push(r):xr(t,u,[r])});function Wm(t,r,u,l){t=yt(t)?t:gi(t),u=u&&!l?ce(u):0;var g=t.length;return u<0&&(u=qe(g+u,0)),As(t)?u<=g&&t.indexOf(r,u)>-1:!!g&&ii(t,r,u)>-1}var qm=le(function(t,r,u){var l=-1,g=typeof r=="function",m=yt(t)?N(t.length):[];return en(t,function(I){m[++l]=g?vt(r,I,u):io(I,r,u)}),m}),Km=hs(function(t,r,u){xr(t,u,r)});function Es(t,r){var u=ue(t)?Be:Uh;return u(t,te(r,3))}function Gm(t,r,u,l){return t==null?[]:(ue(r)||(r=r==null?[]:[r]),u=l?e:u,ue(u)||(u=u==null?[]:[u]),kh(t,r,u))}var $m=hs(function(t,r,u){t[u?0:1].push(r)},function(){return[[],[]]});function Vm(t,r,u){var l=ue(t)?Qu:oh,g=arguments.length<3;return l(t,te(r,4),u,g,en)}function Xm(t,r,u){var l=ue(t)?ow:oh,g=arguments.length<3;return l(t,te(r,4),u,g,Th)}function jm(t,r){var u=ue(t)?zr:Ah;return u(t,bs(te(r,3)))}function zm(t){var r=ue(t)?Eh:W1;return r(t)}function Ym(t,r,u){(u?at(t,r,u):r===e)?r=1:r=ce(r);var l=ue(t)?_1:q1;return l(t,r)}function Jm(t){var r=ue(t)?m1:G1;return r(t)}function Zm(t){if(t==null)return 0;if(yt(t))return As(t)?si(t):t.length;var r=rt(t);return r==Oe||r==ze?t.size:_c(t).length}function Qm(t,r,u){var l=ue(t)?ec:$1;return u&&at(t,r,u)&&(r=e),l(t,te(r,3))}var eE=le(function(t,r){if(t==null)return[];var u=r.length;return u>1&&at(t,r[0],r[1])?r=[]:u>2&&at(r[0],r[1],r[2])&&(r=[r[0]]),kh(t,Ye(r,1),[])}),Ss=Rw||function(){return Ge.Date.now()};function tE(t,r){if(typeof r!="function")throw new Ft(h);return t=ce(t),function(){if(--t<1)return r.apply(this,arguments)}}function Pl(t,r,u){return r=u?e:r,r=t&&r==null?t.length:r,Or(t,Y,e,e,e,e,r)}function Bl(t,r){var u;if(typeof r!="function")throw new Ft(h);return t=ce(t),function(){return--t>0&&(u=r.apply(this,arguments)),t<=1&&(r=e),u}}var qc=le(function(t,r,u){var l=k;if(u.length){var g=Jr(u,pi(qc));l|=z}return Or(t,l,r,u,g)}),Ul=le(function(t,r,u){var l=k|D;if(u.length){var g=Jr(u,pi(Ul));l|=z}return Or(r,l,t,u,g)});function Cl(t,r,u){r=u?e:r;var l=Or(t,V,e,e,e,e,e,r);return l.placeholder=Cl.placeholder,l}function Nl(t,r,u){r=u?e:r;var l=Or(t,X,e,e,e,e,e,r);return l.placeholder=Nl.placeholder,l}function Rl(t,r,u){var l,g,m,I,A,B,L=0,M=!1,F=!1,$=!0;if(typeof t!="function")throw new Ft(h);r=Gt(r)||0,Re(u)&&(M=!!u.leading,F="maxWait"in u,m=F?qe(Gt(u.maxWait)||0,r):m,$="trailing"in u?!!u.trailing:$);function J(Me){var er=l,Nr=g;return l=g=e,L=Me,I=t.apply(Nr,er),I}function re(Me){return L=Me,A=fo(pe,r),M?J(Me):I}function fe(Me){var er=Me-B,Nr=Me-L,Ql=r-er;return F?tt(Ql,m-Nr):Ql}function ne(Me){var er=Me-B,Nr=Me-L;return B===e||er>=r||er<0||F&&Nr>=m}function pe(){var Me=Ss();if(ne(Me))return ge(Me);A=fo(pe,fe(Me))}function ge(Me){return A=e,$&&l?J(Me):(l=g=e,I)}function Bt(){A!==e&&Gh(A),L=0,l=B=g=A=e}function ht(){return A===e?I:ge(Ss())}function Ut(){var Me=Ss(),er=ne(Me);if(l=arguments,g=this,B=Me,er){if(A===e)return re(B);if(F)return Gh(A),A=fo(pe,r),J(B)}return A===e&&(A=fo(pe,r)),I}return Ut.cancel=Bt,Ut.flush=ht,Ut}var rE=le(function(t,r){return bh(t,1,r)}),nE=le(function(t,r,u){return bh(t,Gt(r)||0,u)});function iE(t){return Or(t,Xe)}function Is(t,r){if(typeof t!="function"||r!=null&&typeof r!="function")throw new Ft(h);var u=function(){var l=arguments,g=r?r.apply(this,l):l[0],m=u.cache;if(m.has(g))return m.get(g);var I=t.apply(this,l);return u.cache=m.set(g,I)||m,I};return u.cache=new(Is.Cache||vr),u}Is.Cache=vr;function bs(t){if(typeof t!="function")throw new Ft(h);return function(){var r=arguments;switch(r.length){case 0:return!t.call(this);case 1:return!t.call(this,r[0]);case 2:return!t.call(this,r[0],r[1]);case 3:return!t.call(this,r[0],r[1],r[2])}return!t.apply(this,r)}}function oE(t){return Bl(2,t)}var sE=V1(function(t,r){r=r.length==1&&ue(r[0])?Be(r[0],xt(te())):Be(Ye(r,1),xt(te()));var u=r.length;return le(function(l){for(var g=-1,m=tt(l.length,u);++g<m;)l[g]=r[g].call(this,l[g]);return vt(t,this,l)})}),Kc=le(function(t,r){var u=Jr(r,pi(Kc));return Or(t,z,e,r,u)}),kl=le(function(t,r){var u=Jr(r,pi(kl));return Or(t,Q,e,r,u)}),uE=Pr(function(t,r){return Or(t,be,e,e,e,r)});function cE(t,r){if(typeof t!="function")throw new Ft(h);return r=r===e?r:ce(r),le(t,r)}function fE(t,r){if(typeof t!="function")throw new Ft(h);return r=r==null?0:qe(ce(r),0),le(function(u){var l=u[r],g=nn(u,0,r);return l&&Yr(g,l),vt(t,this,g)})}function aE(t,r,u){var l=!0,g=!0;if(typeof t!="function")throw new Ft(h);return Re(u)&&(l="leading"in u?!!u.leading:l,g="trailing"in u?!!u.trailing:g),Rl(t,r,{leading:l,maxWait:r,trailing:g})}function hE(t){return Pl(t,1)}function lE(t,r){return Kc(xc(r),t)}function pE(){if(!arguments.length)return[];var t=arguments[0];return ue(t)?t:[t]}function dE(t){return Wt(t,v)}function gE(t,r){return r=typeof r=="function"?r:e,Wt(t,v,r)}function yE(t){return Wt(t,U|v)}function wE(t,r){return r=typeof r=="function"?r:e,Wt(t,U|v,r)}function _E(t,r){return r==null||Ih(t,r,$e(r))}function Qt(t,r){return t===r||t!==t&&r!==r}var mE=gs(gc),EE=gs(function(t,r){return t>=r}),Cn=Oh(function(){return arguments}())?Oh:function(t){return ke(t)&&me.call(t,"callee")&&!dh.call(t,"callee")},ue=N.isArray,SE=za?xt(za):P1;function yt(t){return t!=null&&Ts(t.length)&&!Ur(t)}function Le(t){return ke(t)&&yt(t)}function IE(t){return t===!0||t===!1||ke(t)&&ft(t)==Yt}var on=Lw||ef,bE=Ya?xt(Ya):B1;function TE(t){return ke(t)&&t.nodeType===1&&!ao(t)}function AE(t){if(t==null)return!0;if(yt(t)&&(ue(t)||typeof t=="string"||typeof t.splice=="function"||on(t)||di(t)||Cn(t)))return!t.length;var r=rt(t);if(r==Oe||r==ze)return!t.size;if(co(t))return!_c(t).length;for(var u in t)if(me.call(t,u))return!1;return!0}function vE(t,r){return oo(t,r)}function xE(t,r,u){u=typeof u=="function"?u:e;var l=u?u(t,r):e;return l===e?oo(t,r,e,u):!!l}function Gc(t){if(!ke(t))return!1;var r=ft(t);return r==cr||r==Er||typeof t.message=="string"&&typeof t.name=="string"&&!ao(t)}function OE(t){return typeof t=="number"&&yh(t)}function Ur(t){if(!Re(t))return!1;var r=ft(t);return r==Xr||r==jr||r==bn||r==zi}function Ll(t){return typeof t=="number"&&t==ce(t)}function Ts(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kt}function Re(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}function ke(t){return t!=null&&typeof t=="object"}var Ml=Ja?xt(Ja):C1;function PE(t,r){return t===r||wc(t,r,Rc(r))}function BE(t,r,u){return u=typeof u=="function"?u:e,wc(t,r,Rc(r),u)}function UE(t){return Hl(t)&&t!=+t}function CE(t){if(g_(t))throw new se(c);return Ph(t)}function NE(t){return t===null}function RE(t){return t==null}function Hl(t){return typeof t=="number"||ke(t)&&ft(t)==je}function ao(t){if(!ke(t)||ft(t)!=At)return!1;var r=Jo(t);if(r===null)return!0;var u=me.call(r,"constructor")&&r.constructor;return typeof u=="function"&&u instanceof u&&Xo.call(u)==Bw}var $c=Za?xt(Za):N1;function kE(t){return Ll(t)&&t>=-kt&&t<=kt}var Fl=Qa?xt(Qa):R1;function As(t){return typeof t=="string"||!ue(t)&&ke(t)&&ft(t)==ct}function Pt(t){return typeof t=="symbol"||ke(t)&&ft(t)==ve}var di=eh?xt(eh):k1;function LE(t){return t===e}function ME(t){return ke(t)&&rt(t)==br}function HE(t){return ke(t)&&ft(t)==De}var FE=gs(mc),DE=gs(function(t,r){return t<=r});function Dl(t){if(!t)return[];if(yt(t))return As(t)?Jt(t):gt(t);if(Ji&&t[Ji])return _w(t[Ji]());var r=rt(t),u=r==Oe?sc:r==ze?Go:gi;return u(t)}function Cr(t){if(!t)return t===0?t:0;if(t=Gt(t),t===zt||t===-zt){var r=t<0?-1:1;return r*Xi}return t===t?t:0}function ce(t){var r=Cr(t),u=r%1;return r===r?u?r-u:r:0}function Wl(t){return t?On(ce(t),0,dt):0}function Gt(t){if(typeof t=="number")return t;if(Pt(t))return Vr;if(Re(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=Re(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=sh(t);var u=Sy.test(t);return u||by.test(t)?tw(t.slice(2),u?2:8):Ey.test(t)?Vr:+t}function ql(t){return hr(t,wt(t))}function WE(t){return t?On(ce(t),-kt,kt):t===0?t:0}function _e(t){return t==null?"":Ot(t)}var qE=hi(function(t,r){if(co(r)||yt(r)){hr(r,$e(r),t);return}for(var u in r)me.call(r,u)&&ro(t,u,r[u])}),Kl=hi(function(t,r){hr(r,wt(r),t)}),vs=hi(function(t,r,u,l){hr(r,wt(r),t,l)}),KE=hi(function(t,r,u,l){hr(r,$e(r),t,l)}),GE=Pr(lc);function $E(t,r){var u=ai(t);return r==null?u:Sh(u,r)}var VE=le(function(t,r){t=Te(t);var u=-1,l=r.length,g=l>2?r[2]:e;for(g&&at(r[0],r[1],g)&&(l=1);++u<l;)for(var m=r[u],I=wt(m),A=-1,B=I.length;++A<B;){var L=I[A],M=t[L];(M===e||Qt(M,ui[L])&&!me.call(t,L))&&(t[L]=m[L])}return t}),XE=le(function(t){return t.push(e,sl),vt(Gl,e,t)});function jE(t,r){return rh(t,te(r,3),ar)}function zE(t,r){return rh(t,te(r,3),dc)}function YE(t,r){return t==null?t:pc(t,te(r,3),wt)}function JE(t,r){return t==null?t:vh(t,te(r,3),wt)}function ZE(t,r){return t&&ar(t,te(r,3))}function QE(t,r){return t&&dc(t,te(r,3))}function e2(t){return t==null?[]:us(t,$e(t))}function t2(t){return t==null?[]:us(t,wt(t))}function Vc(t,r,u){var l=t==null?e:Pn(t,r);return l===e?u:l}function r2(t,r){return t!=null&&fl(t,r,A1)}function Xc(t,r){return t!=null&&fl(t,r,v1)}var n2=tl(function(t,r,u){r!=null&&typeof r.toString!="function"&&(r=jo.call(r)),t[r]=u},zc(_t)),i2=tl(function(t,r,u){r!=null&&typeof r.toString!="function"&&(r=jo.call(r)),me.call(t,r)?t[r].push(u):t[r]=[u]},te),o2=le(io);function $e(t){return yt(t)?mh(t):_c(t)}function wt(t){return yt(t)?mh(t,!0):L1(t)}function s2(t,r){var u={};return r=te(r,3),ar(t,function(l,g,m){xr(u,r(l,g,m),l)}),u}function u2(t,r){var u={};return r=te(r,3),ar(t,function(l,g,m){xr(u,g,r(l,g,m))}),u}var c2=hi(function(t,r,u){cs(t,r,u)}),Gl=hi(function(t,r,u,l){cs(t,r,u,l)}),f2=Pr(function(t,r){var u={};if(t==null)return u;var l=!1;r=Be(r,function(m){return m=rn(m,t),l||(l=m.length>1),m}),hr(t,Cc(t),u),l&&(u=Wt(u,U|P|v,n_));for(var g=r.length;g--;)Tc(u,r[g]);return u});function a2(t,r){return $l(t,bs(te(r)))}var h2=Pr(function(t,r){return t==null?{}:H1(t,r)});function $l(t,r){if(t==null)return{};var u=Be(Cc(t),function(l){return[l]});return r=te(r),Lh(t,u,function(l,g){return r(l,g[0])})}function l2(t,r,u){r=rn(r,t);var l=-1,g=r.length;for(g||(g=1,t=e);++l<g;){var m=t==null?e:t[lr(r[l])];m===e&&(l=g,m=u),t=Ur(m)?m.call(t):m}return t}function p2(t,r,u){return t==null?t:so(t,r,u)}function d2(t,r,u,l){return l=typeof l=="function"?l:e,t==null?t:so(t,r,u,l)}var Vl=il($e),Xl=il(wt);function g2(t,r,u){var l=ue(t),g=l||on(t)||di(t);if(r=te(r,4),u==null){var m=t&&t.constructor;g?u=l?new m:[]:Re(t)?u=Ur(m)?ai(Jo(t)):{}:u={}}return(g?Ht:ar)(t,function(I,A,B){return r(u,I,A,B)}),u}function y2(t,r){return t==null?!0:Tc(t,r)}function w2(t,r,u){return t==null?t:Wh(t,r,xc(u))}function _2(t,r,u,l){return l=typeof l=="function"?l:e,t==null?t:Wh(t,r,xc(u),l)}function gi(t){return t==null?[]:oc(t,$e(t))}function m2(t){return t==null?[]:oc(t,wt(t))}function E2(t,r,u){return u===e&&(u=r,r=e),u!==e&&(u=Gt(u),u=u===u?u:0),r!==e&&(r=Gt(r),r=r===r?r:0),On(Gt(t),r,u)}function S2(t,r,u){return r=Cr(r),u===e?(u=r,r=0):u=Cr(u),t=Gt(t),x1(t,r,u)}function I2(t,r,u){if(u&&typeof u!="boolean"&&at(t,r,u)&&(r=u=e),u===e&&(typeof r=="boolean"?(u=r,r=e):typeof t=="boolean"&&(u=t,t=e)),t===e&&r===e?(t=0,r=1):(t=Cr(t),r===e?(r=t,t=0):r=Cr(r)),t>r){var l=t;t=r,r=l}if(u||t%1||r%1){var g=wh();return tt(t+g*(r-t+ew("1e-"+((g+"").length-1))),r)}return Sc(t,r)}var b2=li(function(t,r,u){return r=r.toLowerCase(),t+(u?jl(r):r)});function jl(t){return jc(_e(t).toLowerCase())}function zl(t){return t=_e(t),t&&t.replace(Ay,pw).replace(Gy,"")}function T2(t,r,u){t=_e(t),r=Ot(r);var l=t.length;u=u===e?l:On(ce(u),0,l);var g=u;return u-=r.length,u>=0&&t.slice(u,g)==r}function A2(t){return t=_e(t),t&&oy.test(t)?t.replace(va,dw):t}function v2(t){return t=_e(t),t&&hy.test(t)?t.replace(Ku,"\\$&"):t}var x2=li(function(t,r,u){return t+(u?"-":"")+r.toLowerCase()}),O2=li(function(t,r,u){return t+(u?" ":"")+r.toLowerCase()}),P2=Zh("toLowerCase");function B2(t,r,u){t=_e(t),r=ce(r);var l=r?si(t):0;if(!r||l>=r)return t;var g=(r-l)/2;return ds(ts(g),u)+t+ds(es(g),u)}function U2(t,r,u){t=_e(t),r=ce(r);var l=r?si(t):0;return r&&l<r?t+ds(r-l,u):t}function C2(t,r,u){t=_e(t),r=ce(r);var l=r?si(t):0;return r&&l<r?ds(r-l,u)+t:t}function N2(t,r,u){return u||r==null?r=0:r&&(r=+r),Dw(_e(t).replace(Gu,""),r||0)}function R2(t,r,u){return(u?at(t,r,u):r===e)?r=1:r=ce(r),Ic(_e(t),r)}function k2(){var t=arguments,r=_e(t[0]);return t.length<3?r:r.replace(t[1],t[2])}var L2=li(function(t,r,u){return t+(u?"_":"")+r.toLowerCase()});function M2(t,r,u){return u&&typeof u!="number"&&at(t,r,u)&&(r=u=e),u=u===e?dt:u>>>0,u?(t=_e(t),t&&(typeof r=="string"||r!=null&&!$c(r))&&(r=Ot(r),!r&&oi(t))?nn(Jt(t),0,u):t.split(r,u)):[]}var H2=li(function(t,r,u){return t+(u?" ":"")+jc(r)});function F2(t,r,u){return t=_e(t),u=u==null?0:On(ce(u),0,t.length),r=Ot(r),t.slice(u,u+r.length)==r}function D2(t,r,u){var l=_.templateSettings;u&&at(t,r,u)&&(r=e),t=_e(t),r=vs({},r,l,ol);var g=vs({},r.imports,l.imports,ol),m=$e(g),I=oc(g,m),A,B,L=0,M=r.interpolate||Fo,F="__p += '",$=uc((r.escape||Fo).source+"|"+M.source+"|"+(M===xa?my:Fo).source+"|"+(r.evaluate||Fo).source+"|$","g"),J="//# sourceURL="+(me.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zy+"]")+`
`;t.replace($,function(ne,pe,ge,Bt,ht,Ut){return ge||(ge=Bt),F+=t.slice(L,Ut).replace(vy,gw),pe&&(A=!0,F+=`' +
__e(`+pe+`) +
'`),ht&&(B=!0,F+=`';
`+ht+`;
__p += '`),ge&&(F+=`' +
((__t = (`+ge+`)) == null ? '' : __t) +
'`),L=Ut+ne.length,ne}),F+=`';
`;var re=me.call(r,"variable")&&r.variable;if(!re)F=`with (obj) {
`+F+`
}
`;else if(wy.test(re))throw new se(d);F=(B?F.replace(oe,""):F).replace(Z,"$1").replace(ny,"$1;"),F="function("+(re||"obj")+`) {
`+(re?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+(B?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+F+`return __p
}`;var fe=Jl(function(){return we(m,J+"return "+F).apply(e,I)});if(fe.source=F,Gc(fe))throw fe;return fe}function W2(t){return _e(t).toLowerCase()}function q2(t){return _e(t).toUpperCase()}function K2(t,r,u){if(t=_e(t),t&&(u||r===e))return sh(t);if(!t||!(r=Ot(r)))return t;var l=Jt(t),g=Jt(r),m=uh(l,g),I=ch(l,g)+1;return nn(l,m,I).join("")}function G2(t,r,u){if(t=_e(t),t&&(u||r===e))return t.slice(0,ah(t)+1);if(!t||!(r=Ot(r)))return t;var l=Jt(t),g=ch(l,Jt(r))+1;return nn(l,0,g).join("")}function $2(t,r,u){if(t=_e(t),t&&(u||r===e))return t.replace(Gu,"");if(!t||!(r=Ot(r)))return t;var l=Jt(t),g=uh(l,Jt(r));return nn(l,g).join("")}function V2(t,r){var u=sr,l=Gi;if(Re(r)){var g="separator"in r?r.separator:g;u="length"in r?ce(r.length):u,l="omission"in r?Ot(r.omission):l}t=_e(t);var m=t.length;if(oi(t)){var I=Jt(t);m=I.length}if(u>=m)return t;var A=u-si(l);if(A<1)return l;var B=I?nn(I,0,A).join(""):t.slice(0,A);if(g===e)return B+l;if(I&&(A+=B.length-A),$c(g)){if(t.slice(A).search(g)){var L,M=B;for(g.global||(g=uc(g.source,_e(Oa.exec(g))+"g")),g.lastIndex=0;L=g.exec(M);)var F=L.index;B=B.slice(0,F===e?A:F)}}else if(t.indexOf(Ot(g),A)!=A){var $=B.lastIndexOf(g);$>-1&&(B=B.slice(0,$))}return B+l}function X2(t){return t=_e(t),t&&iy.test(t)?t.replace(Aa,Iw):t}var j2=li(function(t,r,u){return t+(u?" ":"")+r.toUpperCase()}),jc=Zh("toUpperCase");function Yl(t,r,u){return t=_e(t),r=u?e:r,r===e?ww(t)?Aw(t):cw(t):t.match(r)||[]}var Jl=le(function(t,r){try{return vt(t,e,r)}catch(u){return Gc(u)?u:new se(u)}}),z2=Pr(function(t,r){return Ht(r,function(u){u=lr(u),xr(t,u,qc(t[u],t))}),t});function Y2(t){var r=t==null?0:t.length,u=te();return t=r?Be(t,function(l){if(typeof l[1]!="function")throw new Ft(h);return[u(l[0]),l[1]]}):[],le(function(l){for(var g=-1;++g<r;){var m=t[g];if(vt(m[0],this,l))return vt(m[1],this,l)}})}function J2(t){return I1(Wt(t,U))}function zc(t){return function(){return t}}function Z2(t,r){return t==null||t!==t?r:t}var Q2=el(),eS=el(!0);function _t(t){return t}function Yc(t){return Bh(typeof t=="function"?t:Wt(t,U))}function tS(t){return Ch(Wt(t,U))}function rS(t,r){return Nh(t,Wt(r,U))}var nS=le(function(t,r){return function(u){return io(u,t,r)}}),iS=le(function(t,r){return function(u){return io(t,u,r)}});function Jc(t,r,u){var l=$e(r),g=us(r,l);u==null&&!(Re(r)&&(g.length||!l.length))&&(u=r,r=t,t=this,g=us(r,$e(r)));var m=!(Re(u)&&"chain"in u)||!!u.chain,I=Ur(t);return Ht(g,function(A){var B=r[A];t[A]=B,I&&(t.prototype[A]=function(){var L=this.__chain__;if(m||L){var M=t(this.__wrapped__),F=M.__actions__=gt(this.__actions__);return F.push({func:B,args:arguments,thisArg:t}),M.__chain__=L,M}return B.apply(t,Yr([this.value()],arguments))})}),t}function oS(){return Ge._===this&&(Ge._=Uw),this}function Zc(){}function sS(t){return t=ce(t),le(function(r){return Rh(r,t)})}var uS=Pc(Be),cS=Pc(th),fS=Pc(ec);function Zl(t){return Lc(t)?tc(lr(t)):F1(t)}function aS(t){return function(r){return t==null?e:Pn(t,r)}}var hS=rl(),lS=rl(!0);function Qc(){return[]}function ef(){return!1}function pS(){return{}}function dS(){return""}function gS(){return!0}function yS(t,r){if(t=ce(t),t<1||t>kt)return[];var u=dt,l=tt(t,dt);r=te(r),t-=dt;for(var g=ic(l,r);++u<t;)r(u);return g}function wS(t){return ue(t)?Be(t,lr):Pt(t)?[t]:gt(_l(_e(t)))}function _S(t){var r=++Pw;return _e(t)+r}var mS=ps(function(t,r){return t+r},0),ES=Bc("ceil"),SS=ps(function(t,r){return t/r},1),IS=Bc("floor");function bS(t){return t&&t.length?ss(t,_t,gc):e}function TS(t,r){return t&&t.length?ss(t,te(r,2),gc):e}function AS(t){return ih(t,_t)}function vS(t,r){return ih(t,te(r,2))}function xS(t){return t&&t.length?ss(t,_t,mc):e}function OS(t,r){return t&&t.length?ss(t,te(r,2),mc):e}var PS=ps(function(t,r){return t*r},1),BS=Bc("round"),US=ps(function(t,r){return t-r},0);function CS(t){return t&&t.length?nc(t,_t):0}function NS(t,r){return t&&t.length?nc(t,te(r,2)):0}return _.after=tE,_.ary=Pl,_.assign=qE,_.assignIn=Kl,_.assignInWith=vs,_.assignWith=KE,_.at=GE,_.before=Bl,_.bind=qc,_.bindAll=z2,_.bindKey=Ul,_.castArray=pE,_.chain=vl,_.chunk=I_,_.compact=b_,_.concat=T_,_.cond=Y2,_.conforms=J2,_.constant=zc,_.countBy=Cm,_.create=$E,_.curry=Cl,_.curryRight=Nl,_.debounce=Rl,_.defaults=VE,_.defaultsDeep=XE,_.defer=rE,_.delay=nE,_.difference=A_,_.differenceBy=v_,_.differenceWith=x_,_.drop=O_,_.dropRight=P_,_.dropRightWhile=B_,_.dropWhile=U_,_.fill=C_,_.filter=Rm,_.flatMap=Mm,_.flatMapDeep=Hm,_.flatMapDepth=Fm,_.flatten=Il,_.flattenDeep=N_,_.flattenDepth=R_,_.flip=iE,_.flow=Q2,_.flowRight=eS,_.fromPairs=k_,_.functions=e2,_.functionsIn=t2,_.groupBy=Dm,_.initial=M_,_.intersection=H_,_.intersectionBy=F_,_.intersectionWith=D_,_.invert=n2,_.invertBy=i2,_.invokeMap=qm,_.iteratee=Yc,_.keyBy=Km,_.keys=$e,_.keysIn=wt,_.map=Es,_.mapKeys=s2,_.mapValues=u2,_.matches=tS,_.matchesProperty=rS,_.memoize=Is,_.merge=c2,_.mergeWith=Gl,_.method=nS,_.methodOf=iS,_.mixin=Jc,_.negate=bs,_.nthArg=sS,_.omit=f2,_.omitBy=a2,_.once=oE,_.orderBy=Gm,_.over=uS,_.overArgs=sE,_.overEvery=cS,_.overSome=fS,_.partial=Kc,_.partialRight=kl,_.partition=$m,_.pick=h2,_.pickBy=$l,_.property=Zl,_.propertyOf=aS,_.pull=G_,_.pullAll=Tl,_.pullAllBy=$_,_.pullAllWith=V_,_.pullAt=X_,_.range=hS,_.rangeRight=lS,_.rearg=uE,_.reject=jm,_.remove=j_,_.rest=cE,_.reverse=Dc,_.sampleSize=Ym,_.set=p2,_.setWith=d2,_.shuffle=Jm,_.slice=z_,_.sortBy=eE,_.sortedUniq=rm,_.sortedUniqBy=nm,_.split=M2,_.spread=fE,_.tail=im,_.take=om,_.takeRight=sm,_.takeRightWhile=um,_.takeWhile=cm,_.tap=bm,_.throttle=aE,_.thru=ms,_.toArray=Dl,_.toPairs=Vl,_.toPairsIn=Xl,_.toPath=wS,_.toPlainObject=ql,_.transform=g2,_.unary=hE,_.union=fm,_.unionBy=am,_.unionWith=hm,_.uniq=lm,_.uniqBy=pm,_.uniqWith=dm,_.unset=y2,_.unzip=Wc,_.unzipWith=Al,_.update=w2,_.updateWith=_2,_.values=gi,_.valuesIn=m2,_.without=gm,_.words=Yl,_.wrap=lE,_.xor=ym,_.xorBy=wm,_.xorWith=_m,_.zip=mm,_.zipObject=Em,_.zipObjectDeep=Sm,_.zipWith=Im,_.entries=Vl,_.entriesIn=Xl,_.extend=Kl,_.extendWith=vs,Jc(_,_),_.add=mS,_.attempt=Jl,_.camelCase=b2,_.capitalize=jl,_.ceil=ES,_.clamp=E2,_.clone=dE,_.cloneDeep=yE,_.cloneDeepWith=wE,_.cloneWith=gE,_.conformsTo=_E,_.deburr=zl,_.defaultTo=Z2,_.divide=SS,_.endsWith=T2,_.eq=Qt,_.escape=A2,_.escapeRegExp=v2,_.every=Nm,_.find=km,_.findIndex=El,_.findKey=jE,_.findLast=Lm,_.findLastIndex=Sl,_.findLastKey=zE,_.floor=IS,_.forEach=xl,_.forEachRight=Ol,_.forIn=YE,_.forInRight=JE,_.forOwn=ZE,_.forOwnRight=QE,_.get=Vc,_.gt=mE,_.gte=EE,_.has=r2,_.hasIn=Xc,_.head=bl,_.identity=_t,_.includes=Wm,_.indexOf=L_,_.inRange=S2,_.invoke=o2,_.isArguments=Cn,_.isArray=ue,_.isArrayBuffer=SE,_.isArrayLike=yt,_.isArrayLikeObject=Le,_.isBoolean=IE,_.isBuffer=on,_.isDate=bE,_.isElement=TE,_.isEmpty=AE,_.isEqual=vE,_.isEqualWith=xE,_.isError=Gc,_.isFinite=OE,_.isFunction=Ur,_.isInteger=Ll,_.isLength=Ts,_.isMap=Ml,_.isMatch=PE,_.isMatchWith=BE,_.isNaN=UE,_.isNative=CE,_.isNil=RE,_.isNull=NE,_.isNumber=Hl,_.isObject=Re,_.isObjectLike=ke,_.isPlainObject=ao,_.isRegExp=$c,_.isSafeInteger=kE,_.isSet=Fl,_.isString=As,_.isSymbol=Pt,_.isTypedArray=di,_.isUndefined=LE,_.isWeakMap=ME,_.isWeakSet=HE,_.join=W_,_.kebabCase=x2,_.last=Kt,_.lastIndexOf=q_,_.lowerCase=O2,_.lowerFirst=P2,_.lt=FE,_.lte=DE,_.max=bS,_.maxBy=TS,_.mean=AS,_.meanBy=vS,_.min=xS,_.minBy=OS,_.stubArray=Qc,_.stubFalse=ef,_.stubObject=pS,_.stubString=dS,_.stubTrue=gS,_.multiply=PS,_.nth=K_,_.noConflict=oS,_.noop=Zc,_.now=Ss,_.pad=B2,_.padEnd=U2,_.padStart=C2,_.parseInt=N2,_.random=I2,_.reduce=Vm,_.reduceRight=Xm,_.repeat=R2,_.replace=k2,_.result=l2,_.round=BS,_.runInContext=x,_.sample=zm,_.size=Zm,_.snakeCase=L2,_.some=Qm,_.sortedIndex=Y_,_.sortedIndexBy=J_,_.sortedIndexOf=Z_,_.sortedLastIndex=Q_,_.sortedLastIndexBy=em,_.sortedLastIndexOf=tm,_.startCase=H2,_.startsWith=F2,_.subtract=US,_.sum=CS,_.sumBy=NS,_.template=D2,_.times=yS,_.toFinite=Cr,_.toInteger=ce,_.toLength=Wl,_.toLower=W2,_.toNumber=Gt,_.toSafeInteger=WE,_.toString=_e,_.toUpper=q2,_.trim=K2,_.trimEnd=G2,_.trimStart=$2,_.truncate=V2,_.unescape=X2,_.uniqueId=_S,_.upperCase=j2,_.upperFirst=jc,_.each=xl,_.eachRight=Ol,_.first=bl,Jc(_,function(){var t={};return ar(_,function(r,u){me.call(_.prototype,u)||(t[u]=r)}),t}(),{chain:!1}),_.VERSION=n,Ht(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){_[t].placeholder=_}),Ht(["drop","take"],function(t,r){de.prototype[t]=function(u){u=u===e?1:qe(ce(u),0);var l=this.__filtered__&&!r?new de(this):this.clone();return l.__filtered__?l.__takeCount__=tt(u,l.__takeCount__):l.__views__.push({size:tt(u,dt),type:t+(l.__dir__<0?"Right":"")}),l},de.prototype[t+"Right"]=function(u){return this.reverse()[t](u).reverse()}}),Ht(["filter","map","takeWhile"],function(t,r){var u=r+1,l=u==ri||u==Sn;de.prototype[t]=function(g){var m=this.clone();return m.__iteratees__.push({iteratee:te(g,3),type:u}),m.__filtered__=m.__filtered__||l,m}}),Ht(["head","last"],function(t,r){var u="take"+(r?"Right":"");de.prototype[t]=function(){return this[u](1).value()[0]}}),Ht(["initial","tail"],function(t,r){var u="drop"+(r?"":"Right");de.prototype[t]=function(){return this.__filtered__?new de(this):this[u](1)}}),de.prototype.compact=function(){return this.filter(_t)},de.prototype.find=function(t){return this.filter(t).head()},de.prototype.findLast=function(t){return this.reverse().find(t)},de.prototype.invokeMap=le(function(t,r){return typeof t=="function"?new de(this):this.map(function(u){return io(u,t,r)})}),de.prototype.reject=function(t){return this.filter(bs(te(t)))},de.prototype.slice=function(t,r){t=ce(t);var u=this;return u.__filtered__&&(t>0||r<0)?new de(u):(t<0?u=u.takeRight(-t):t&&(u=u.drop(t)),r!==e&&(r=ce(r),u=r<0?u.dropRight(-r):u.take(r-t)),u)},de.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},de.prototype.toArray=function(){return this.take(dt)},ar(de.prototype,function(t,r){var u=/^(?:filter|find|map|reject)|While$/.test(r),l=/^(?:head|last)$/.test(r),g=_[l?"take"+(r=="last"?"Right":""):r],m=l||/^find/.test(r);g&&(_.prototype[r]=function(){var I=this.__wrapped__,A=l?[1]:arguments,B=I instanceof de,L=A[0],M=B||ue(I),F=function(pe){var ge=g.apply(_,Yr([pe],A));return l&&$?ge[0]:ge};M&&u&&typeof L=="function"&&L.length!=1&&(B=M=!1);var $=this.__chain__,J=!!this.__actions__.length,re=m&&!$,fe=B&&!J;if(!m&&M){I=fe?I:new de(this);var ne=t.apply(I,A);return ne.__actions__.push({func:ms,args:[F],thisArg:e}),new Dt(ne,$)}return re&&fe?t.apply(this,A):(ne=this.thru(F),re?l?ne.value()[0]:ne.value():ne)})}),Ht(["pop","push","shift","sort","splice","unshift"],function(t){var r=$o[t],u=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",l=/^(?:pop|shift)$/.test(t);_.prototype[t]=function(){var g=arguments;if(l&&!this.__chain__){var m=this.value();return r.apply(ue(m)?m:[],g)}return this[u](function(I){return r.apply(ue(I)?I:[],g)})}}),ar(de.prototype,function(t,r){var u=_[r];if(u){var l=u.name+"";me.call(fi,l)||(fi[l]=[]),fi[l].push({name:r,func:u})}}),fi[ls(e,D).name]=[{name:"wrapper",func:e}],de.prototype.clone=Xw,de.prototype.reverse=jw,de.prototype.value=zw,_.prototype.at=Tm,_.prototype.chain=Am,_.prototype.commit=vm,_.prototype.next=xm,_.prototype.plant=Pm,_.prototype.reverse=Bm,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=Um,_.prototype.first=_.prototype.head,Ji&&(_.prototype[Ji]=Om),_},Zr=vw();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ge._=Zr,define(function(){return Zr})):Tn?((Tn.exports=Zr)._=Zr,Yu._=Zr):Ge._=Zr}).call(Ki)});O();O();O();var Rt=ho(mg());O();var Nu=ho(Eg());var Sg={TDC:{name:"TDC",enum:"TDC",logo:"",network:"mainnet"}},Hi={HdKeyring:"HD Key Tree",SimpleKeyring:"Simple Key Pair"};var nB={[Hi.HdKeyring]:"Created by Mnemonic",[Hi.SimpleKeyring]:"Imported by Private Key"},iB={[Hi.HdKeyring]:"Account",[Hi.SimpleKeyring]:"Private Key"};var Ig=/Chrome\//i.test(navigator.userAgent),oB=/Firefox\//i.test(navigator.userAgent),sB=/linux/i.test(navigator.userAgent),pa=null;if(Ig){let e=navigator.userAgent.match(/Chrome\/(\d+[^.\s])/);e&&e.length>=2&&(pa=Number(e[1]))}var uB=Ig?pa&&pa>=91:!1;var cB=/windows/i.test(navigator.userAgent);var fB=[{value:Nu.AddressType.P2WPKH,label:"P2WPKH",name:"Native Segwit (P2WPKH)",hdPath:"m/84'/0'/0'/0"},{value:Nu.AddressType.P2SH,label:"P2SH-P2WPKH",name:"Nested Segwit (P2SH-P2WPKH)",hdPath:"m/49'/0'/0'/0"},{value:Nu.AddressType.P2PKH,label:"P2PKH",name:"Legacy (P2PKH)",hdPath:"m/44'/0'/0'/0"}],aB=[{value:0,name:"TideCoin Wallet",addressTypes:[Rt.UTXOAddressType.P2WPKH,Rt.UTXOAddressType.P2SH_P2WPKH,Rt.UTXOAddressType.P2PKH,Rt.UTXOAddressType.M44_P2WPKH]},{value:1,name:"Sparrow Wallet",addressTypes:[Rt.UTXOAddressType.P2PKH,Rt.UTXOAddressType.P2WPKH,Rt.UTXOAddressType.P2SH_P2WPKH]},{value:2,name:"Xverse Wallet",addressTypes:[Rt.UTXOAddressType.P2SH_P2WPKH]},{value:3,name:"Other Wallet",addressTypes:[Rt.UTXOAddressType.P2PKH,Rt.UTXOAddressType.P2WPKH,Rt.UTXOAddressType.P2SH_P2WPKH,Rt.UTXOAddressType.M44_P2WPKH]}],hB=[{value:0,label:"LIVENET",name:"livenet",validNames:[0,"livenet","mainnet"]},{value:1,label:"TESTNET",name:"testnet",validNames:["testnet"]}];var lB={[Hi.HdKeyring]:1,[Hi.SimpleKeyring]:2};O();var bg=chrome;function Tg(e){return bg.runtime.connect(bg.runtime.id,e)}O();O();var Ia=ho(Dg()),Zg=ho(Jg()),ba=class extends Zg.default{_requestIdPool=[...Array(500).keys()];_EVENT_PRE="EXTENSION_WALLET_";listenCallback;_waitingMap=new Map;request(n){if(!this._requestIdPool.length)throw Ia.ethErrors.rpc.limitExceeded();let s=this._requestIdPool.shift();return new Promise((c,h)=>{this._waitingMap.set(s,{data:n,resolve:c,reject:h}),this.send("request",{ident:s,data:n})})}onResponse=async({ident:n,res:s,err:c}={})=>{if(!this._waitingMap.has(n))return;let{resolve:h,reject:d}=this._waitingMap.get(n);this._requestIdPool.push(n),this._waitingMap.delete(n),c?d(c):h(s)};onRequest=async({ident:n,data:s})=>{if(this.listenCallback){let c,h;try{c=await this.listenCallback(s)}catch(d){h={message:d.message,stack:d.stack},d.code&&(h.code=d.code),d.data&&(h.data=d.data)}this.send("response",{ident:n,res:c,err:h})}};_dispose=()=>{for(let n of this._waitingMap.values())n.reject(Ia.ethErrors.provider.userRejectedRequest());this._waitingMap.clear()}},qu=ba;var Mo=class extends qu{_channel;constructor(n){if(super(),!n)throw new Error("the broadcastChannel name is missing");this._channel=new BroadcastChannel(n)}connect=()=>(this._channel.onmessage=({data:{type:n,data:s}})=>{n==="message"?this.emit("message",s):n==="response"&&this.onResponse(s)},this);listen=n=>(this.listenCallback=n,this._channel.onmessage=({data:{type:s,data:c}})=>{s==="request"&&this.onRequest(c)},this);send=(n,s)=>{this._channel.postMessage({type:n,data:s})};dispose=()=>{this._dispose(),this._channel.close()}};O();var Ta=class extends qu{port=null;listenCallback=void 0;constructor(n){super(),n&&(this.port=n)}connect(n){return this.port=Tg(n?{name:n}:void 0),this.port.onMessage.addListener(({_type_:s,data:c})=>{if(s===`${this._EVENT_PRE}message`){this.emit("message",c);return}s===`${this._EVENT_PRE}response`&&this.onResponse(c)}),this}listen(n){if(this.port)return this.listenCallback=n,this.port.onMessage.addListener(({_type_:s,data:c})=>{s===`${this._EVENT_PRE}request`&&this.onRequest(c)}),this}send(n,s){if(this.port)try{this.port.postMessage({_type_:`${this._EVENT_PRE}${n}`,data:s})}catch{}}dispose(){this._dispose(),this.port?.disconnect()}},Qg=Ta;var ty=ho(ey()),ry={BroadcastChannelMessage:Mo,PortMessage:Qg};var jB=(0,ty.keyBy)(Sg,"serverId");function Zv(){try{let e=document.head||document.documentElement,n=document.createElement("script");n.setAttribute("async","false"),n.setAttribute("channel","3ffsdf32f23d23d"),n.src=chrome.runtime.getURL("pageProvider.js"),e.insertBefore(n,e.children[0]),e.removeChild(n);let{BroadcastChannelMessage:s,PortMessage:c}=ry,h=new c().connect(),d=new s("3ffsdf32f23d23d").listen(f=>h.request(f));h.on("message",f=>{d.send("message",f)}),document.addEventListener("beforeunload",()=>{d.dispose(),h.dispose()})}catch(e){console.error("Tidecoin: Provider injection failed.",e)}}function Qv(){let{doctype:e}=window.document;return e?e.name==="html":!0}function ex(){let e=[/\.xml$/u,/\.pdf$/u],n=window.location.pathname;for(let s=0;s<e.length;s++)if(e[s].test(n))return!1;return!0}function tx(){let e=document.documentElement.nodeName;return e?e.toLowerCase()==="html":!0}function rx(){let e=[],n=window.location.href,s;for(let c=0;c<e.length;c++){let h=e[c].replace(".","\\.");if(s=new RegExp(`(?:https?:\\/\\/)(?:(?!${h}).)*$`,"u"),!s.test(n))return!0}return!1}function nx(){return window.self!=window.top}function ix(){return Qv()&&ex()&&tx()&&!rx()&&!nx()}ix()&&Zv();})();
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
